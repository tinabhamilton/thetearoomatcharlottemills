if (self.CavalryLogger) { CavalryLogger.start_js(["dScYI"]); }

__d("VideoPlayerLoggerEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={AUTOPLAY_PREFERENCE_CHANGED:"autoplay_preference_changed",END_STALL_TIME:"end_stall_time",AUTOPLAY_PREFERENCE_STATUS:"autoplay_preference_status",ERROR_ALERT_SHOWN:"video_error_alert_shown",NOT_AUTOPLAYING:"not_autoplaying",VIDEO_CHANNEL_NO_RELATED_VIDEO:"video_channel_no_related_video",VIDEO_ORIENTATION_CHANGED:"video_orientation_changed",ASSETS_LOADED:"assets_loaded",BUFFERED:"buffered",CANCELLED_REQUESTED_PLAYING:"cancelled_requested_playing",CAROUSEL_CHANGE:"carousel_change",CHROMECAST_AVAILABILITY_CHECKED:"chromecast_availabilty_checked",CHROMECAST_CAST_CLICKED:"chromecast_button_clicked",CHROMECAST_CAST_CONNECTED:"chromecast_connected",CHROMECAST_CAST_DISABLED:"chromecast_button_disabled",CHROMECAST_CAST_DISCONNECTED:"chromecast_disconnected",CHROMECAST_CAST_RECONNECTED:"chromecast_reconnected",CHROMECAST_CAST_VISIBLE:"chromecast_button_visible",CHROMECAST_NOT_SUPPORTED:"chromecast_not_supported",DISPLAYED:"displayed",ENTERED_HD:"entered_hd",ENTERED_FALLBACK:"entered_fallback",ENTERED_FS:"entered_fs",EXITED_HD:"exited_hd",EXITED_FS:"exited_fs",ERROR:"error",FINISHED_LOADING:"finished_loading",FINISHED_PLAYING:"finished_playing",HTTP_STATUS_UPDATE:"http_status_update",IMPRESSION:"impression",INVALID_URL:"invalid_url",MUTED:"muted",NO_SURFACE_UPDATE:"no_surface_update",PAUSED:"paused",PLAY_REQUESTED:"play_requested",PLAYER_FORMAT_CHANGED:"player_format_changed",PLAYER_LOADED:"player_loaded",PROGRESS:"progress",STREAM_RESET:"stream_reset",POP_FAILOVER:"pop_failover",SURFACE_UPDATED:"surface_updated",TOGGLE_SUBTITLE_OFF:"toggle_subtitle_off",TOGGLE_SUBTITLE_ON:"toggle_subtitle_on",QUALITY_CHANGE:"quality_change",READY_TO_PLAY:"ready_to_play",REPLAYED:"replayed",REPRESENTATION_ENDED:"representation_ended",REQUESTED:"requested",REQUESTED_PLAYING:"requested_playing",SCRUBBED:"scrubbed",STARTED_PLAYING:"started_playing",STARTED_RECEIVING_BYTES:"started_receiving_bytes",STOPPED_PLAYING:"stopped_playing",UNMUTED:"unmuted",UNPAUSED:"unpaused",VOLUME_CHANGED:"volume_changed",VOLUME_DECREASE:"volume_decrease",VOLUME_INCREASE:"volume_increase",VIDEO_PLAYING:"video_playing",VIDEO_SKIP_AD:"video_skip_ad",VIDEO_CHAINING_IMPRESSION:"video_chaining_impression",VIDEO_CHAINING_TAP:"video_chaining_tap",PLAYING_LIVE_STARTED:"playing_live_started",PLAYING_LIVE_STOPPED:"playing_live_stopped",SWITCHED_IMPLEMENTATION:"switched_implementation",INLINE_CLICK_TO_PLAY:"inline_click_to_play",VIDEO_PLAYER_SERVICE_DISCONNECTED:"video_player_service_disconnected",VIDEO_PLAYER_SERVICE_RECONNECTED:"video_player_service_reconnected",VIDEO_PLAYER_SERVICE_UNAVAILABLE:"video_player_service_unavailable",LIVE_SEGMENT_LOAD_ERROR:"live_segment_load_error",MANIFEST_LOAD_ERROR:"manifest_load_error",MANIFEST_DATA_TYPE_ERROR:"manifest_data_type_error",STREAM_SEGMENT_LOAD_ERROR:"stream_segment_load_error",PLAYHEAD_FELL_BEHIND_ERROR:"playhead_fell_behind_error",UNEXPECTED_SEGMENT_ERROR:"unexpected_segment_error",NETWORK_TIMEOUT:"network_timeout",COMPLETION:"completion",VIEW:"view",VIEWPORT_ROTATED:"viewport_rotated",VIEWPORT_ZOOMED:"viewport_zoomed",HEADING_RESET:"heading_reset"};},null);
__d("VideoPlayerVersions",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={HTML5:"html5",SILVERCITY:"silvercity",PLEASANTVILLE:"pleasantville",OLD_API_PSR:"old_api_psr",OLD_API_EXO:"old_api_exo",OLD_API_EXO_NEW_LIB:"old_api_exo_new_lib",OLD_API_EXO_DEPRECATED:"old_api_exo_deprecated",LEGACY:"legacy",REFACTORED:"refactored",FNF:"fnf",MBASIC:"mbasic",CHROMECAST:"chromecast",UNKNOWN:"unknown"};},null);
__d('VideoPlayerLoggerErrorStates',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={PLAYBACK_FAILURE:'playback_failure',PLAYER_FAILURE:'player_failure'};},null);
__d('VideoPlayerLoggerErrors',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={ENTERED_FALLBACK:'entered_fallback',ERROR_CALLING_FLASH:'error_calling_flash'};},null);
__d('VideoPlayerLoggerFallbackReasons',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports={TIMEOUT:'timeout',FLASH_ERROR:'flash_error',FLASH_UNAVAILABLE:'flash_unavailable'};},null);
__d('flash-js',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){}Object.assign(h,{INIT:'flash/init',READY:'flash/ready',FAILED:'flash/failed'});f.exports=h;},null);
__d('legacy:flash-js',['flash-js'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();b.Flash=c('flash-js');},3);
__d('swfobject',['AsyncRequest','Bootloader','CSS','htmlSpecialChars'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();if(typeof h=="undefined")var h={};if(typeof h.util=="undefined")h.util={};if(typeof h.SWFObjectUtil=="undefined")h.SWFObjectUtil={};h.SWFObject=function(j,k,l,m,n,o,p,q,r,s){if(!document.getElementById)return;this.DETECT_KEY=s?s:'detectflash';this.skipDetect=h.util.getRequestParameter(this.DETECT_KEY);this.params={};this.variables={};this.attributes=[];this.fallback_html='';this.fallback_js_fcn=function(){};if(j)this.setAttribute('swf',j);if(k)this.setAttribute('id',k);if(l)this.setAttribute('width',l);if(m)this.setAttribute('height',m);this.installedVer=h.SWFObjectUtil.getPlayerVersion();if(n){if(!(n instanceof Array))n=[n];var t;n.forEach(function(w){t=new h.PlayerVersion(w.toString().split('.'));if(t.major==this.installedVer.major){this.setAttribute('version',t);return;}else if(!this.getAttribute('version')||t.major<this.getAttribute('version').major)this.setAttribute('version',t);}.bind(this));}if(!window.opera&&document.all&&this.installedVer.major>7)if(!h.unloadSet){h.SWFObjectUtil.prepUnload=function(){var w=function(){},x=function(){};window.attachEvent("onunload",h.SWFObjectUtil.cleanupSWFs);};window.attachEvent("onbeforeunload",h.SWFObjectUtil.prepUnload);h.unloadSet=true;}if(o)this.addParam('bgcolor',o);var u=p?p:'high';this.addParam('quality',u);this.setAttribute('useExpressInstall',false);this.setAttribute('doExpressInstall',false);var v=q?q:window.location;this.setAttribute('xiRedirectUrl',v);this.setAttribute('redirectUrl','');if(r)this.setAttribute('redirectUrl',r);};h.SWFObject.ieWorkaroundApplied=false;h.SWFObject.ensureIEWorkaroundAttached=function(){if(!h.SWFObject.ieWorkaroundApplied&&document.attachEvent){h.SWFObject.ieWorkaroundApplied=true;document.attachEvent('onpropertychange',h.SWFObject.onDocumentPropertyChange);}};h.SWFObject.onDocumentPropertyChange=function(event){if(event.propertyName=="title"){var j=document.title;if(j!=null&&j.indexOf('#!')!=-1){j=j.substring(0,j.indexOf('#!'));document.title=j;}}};Object.assign(h.SWFObject.prototype,{useExpressInstall:function(j){this.xiSWFPath=!j?"/swf/expressinstall.swf":j;this.setAttribute('useExpressInstall',true);},setAttribute:function(j,k){this.attributes[j]=k;},getAttribute:function(j){return this.attributes[j]||"";},addParam:function(j,k){this.params[j]=k;},getParams:function(){return this.params;},addVariable:function(j,k){this.variables[j]=k;},getVariable:function(j){return this.variables[j]||"";},getVariables:function(){return this.variables;},getVariablePairs:function(){var j=[],k,l=this.getVariables();for(k in l)j[j.length]=k+"="+l[k];return j.join('&');},getSWFHTML:function(){var j,k,l;if(navigator.plugins&&navigator.mimeTypes&&navigator.mimeTypes.length){if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","PlugIn");this.setAttribute('swf',this.xiSWFPath);}k={type:'application/x-shockwave-flash',src:this.getAttribute('swf'),width:this.getAttribute('width'),height:this.getAttribute('height'),style:this.getAttribute('style')||'display: block;',id:this.getAttribute('id'),name:this.getAttribute('id')};var m=this.getParams();for(var n in m)k[n]=m[n];l=this.getVariablePairs();if(l)k.flashvars=l;j=i('embed',k,null);}else{if(this.getAttribute("doExpressInstall")){this.addVariable("MMplayerType","ActiveX");this.setAttribute('swf',this.xiSWFPath);}k={id:this.getAttribute('id'),classid:'clsid:D27CDB6E-AE6D-11cf-96B8-444553540000',width:this.getAttribute('width'),height:this.getAttribute('height'),style:this.getAttribute('style')||'display: block;'};var o=i('param',{name:'movie',value:this.getAttribute('swf')},null),m=this.getParams();for(var n in m)o+=i('param',{name:n,value:m[n]},null);l=this.getVariablePairs();if(l)o+=i('param',{name:'flashvars',value:l},null);j=i('object',k,o);}return j;},write:function(j){if(this.getAttribute('useExpressInstall')){var k=new h.PlayerVersion([6,0,65]);if(this.installedVer.versionIsValid(k)&&!this.installedVer.versionIsValid(this.getAttribute('version'))){this.setAttribute('doExpressInstall',true);this.addVariable("MMredirectURL",escape(this.getAttribute('xiRedirectUrl')));document.title=document.title.slice(0,47)+" - Flash Player Installation";this.addVariable("MMdoctitle",document.title);}}var l=typeof j=='string'?document.getElementById(j):j;if(!l)return false;c('CSS').addClass(l,'swfObject');l.setAttribute('data-swfid',this.getAttribute('id'));if(this.skipDetect||this.getAttribute('doExpressInstall')||this.installedVer.versionIsValid(this.getAttribute('version'))){h.SWFObject.ensureIEWorkaroundAttached();l.innerHTML=this.getSWFHTML();return true;}else{if(this.getAttribute('redirectUrl')!="")document.location.replace(this.getAttribute('redirectUrl'));var m=this.getAttribute('version').major+'.'+this.getAttribute('version').minor+'.'+this.getAttribute('version').release+'.'+this.getAttribute('version').build,n=this.installedVer.major+'.'+this.installedVer.minor+'.'+this.installedVer.release+'.'+this.installedVer.build;this.fallback_js_fcn(n,m);l.innerHTML=this.fallback_html;}return false;}});h.SWFObjectUtil.getPlayerVersion=function(){var j=new h.PlayerVersion([0,0,0,0]),k;if(navigator.plugins&&navigator.mimeTypes.length){for(var l=0;l<navigator.plugins.length;l++)try{var n=navigator.plugins[l];if(n.name=='Shockwave Flash'){k=new h.PlayerVersion(n.description.replace(/([a-zA-Z]|\s)+/,"").replace(/(\s+(r|d)|\s+b[0-9]+)/,".").split("."));if(typeof j=='undefined'||k.major>j.major||k.major==j.major&&(k.minor>j.minor||k.minor==j.minor&&(k.release>j.release||k.release==j.release&&k.build>j.build)))j=k;}}catch(m){}}else if(navigator.userAgent&&navigator.userAgent.indexOf("Windows CE")>=0){var o=1,p=3;while(o)try{p++;o=new ActiveXObject("ShockwaveFlash.ShockwaveFlash."+p);j=new h.PlayerVersion([p,0,0]);}catch(q){o=null;}}else{try{var o=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.7");}catch(r){try{var o=new ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");j=new h.PlayerVersion([6,0,21]);o.AllowScriptAccess="always";}catch(s){if(j.major==6)return j;}try{o=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");}catch(t){}}if(o!=null)j=new h.PlayerVersion(o.GetVariable("$version").split(" ")[1].split(","));}return j;};h.PlayerVersion=function(j){this.major=j[0]!=null?parseInt(j[0],10):0;this.minor=j[1]!=null?parseInt(j[1],10):0;this.release=j[2]!=null?parseInt(j[2],10):0;this.build=j[3]!=null?parseInt(j[3],10):0;};h.PlayerVersion.prototype.versionIsValid=function(j){if(this.major<j.major)return false;if(this.major>j.major)return true;if(this.minor<j.minor)return false;if(this.minor>j.minor)return true;if(this.release<j.release)return false;if(this.release>j.release)return true;if(this.build<j.build)return false;return true;};h.util={getRequestParameter:function(j){var k=document.location.search||document.location.hash;if(j==null)return k;if(k){var l=k.substring(1).split("&");for(var m=0;m<l.length;m++)if(l[m].substring(0,l[m].indexOf("="))==j)return l[m].substring(l[m].indexOf("=")+1);}return "";}};h.SWFObjectUtil.cleanupSWFs=function(){var j=document.getElementsByTagName("OBJECT");for(var k=j.length-1;k>=0;k--){j[k].style.display='none';for(var l in j[k])if(typeof j[k][l]=='function')j[k][l]=function(){};}};if(!document.getElementById&&document.all)document.getElementById=function(j){return document.all[j];};h.spawn_flash_update_dialog=function(){new (c('AsyncRequest'))().setURI('/ajax/flash_update_dialog.php').setMethod('GET').setReadOnly(true).send();};h.showFlashErrorDialog=function(j,k){c('Bootloader').loadModules(["ErrorDialog"],function(l){l.show(j,k);},'swfobject');};function i(j,k,l){var m=/^[A-Za-z0-9\-]+$/;if(!j.match(m))throw new Error('Invalid tag '+j);var n='<'+j;for(var o in k){if(!o.match(m))throw new Error('Invalid attr '+o);n+=' '+o+'="'+c('htmlSpecialChars')(k[o])+'"';}if(l===null){return n+'/>';}else return n+'>'+l+'</'+j+'>';}f.exports=b.deconcept||h;},null);
__d('legacy:swfobject',['swfobject'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();b.deconcept=c('swfobject');b.SWFObject=c('swfobject').SWFObject;b.showFlashErrorDialog=c('swfobject').showFlashErrorDialog;},3);
__d('logVideosClickTracking',['clickRefAction'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){c('clickRefAction')('click',i,null,'FORCE');}f.exports=h;},null);
__d('VideoWithClickPlayPause',['VideoPlayerReason','logVideosClickTracking'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this.$VideoWithClickPlayPause1=i;this.$VideoWithClickPlayPause2=this.$VideoWithClickPlayPause1.getVideoNode();this.$VideoWithClickPlayPause1.addListener('clickVideo',this.$VideoWithClickPlayPause3.bind(this));if(this.$VideoWithClickPlayPause1.hasSeenClick())this.$VideoWithClickPlayPause3();}h.prototype.$VideoWithClickPlayPause3=function(){'use strict';if(this.$VideoWithClickPlayPause1.isState('playing')){if(this.$VideoWithClickPlayPause1.getOption('VideoWithLiveBroadcast','isLive'))return;this.$VideoWithClickPlayPause1.pause(c('VideoPlayerReason').USER);}else{c('logVideosClickTracking')(this.$VideoWithClickPlayPause2);this.$VideoWithClickPlayPause1.play(c('VideoPlayerReason').USER);}};f.exports=h;},null);
__d('VideoPlayerApiEvents',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=['buffered','buffering','beginPlayback','updateStatus','logEvent','pausePlayback','clickVideo','clickForTracking','finishPlayback','unmuteVideo','muteVideo','changeVolume','turnOffAutoplay','updateBuffer','updateMetadata','qualityChange','updateViewportBegin','updateViewportEnd','dimensionsChange','viewportChange','error','loadedSubtitles','toggleSubtitles','toggleFullscreen','seekEnd','streamInterrupted','streamResumed'];f.exports=h;},null);
__d('VideoAutoplayControllerBase',['Arbiter','DesktopHscrollUnitEventConstants','Event','VideoPlayerAbortLoadingExperiment','VideoPlayerReason','Visibility','destroyOnUnload','SubscriptionsHandler','throttle'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){'use strict';this.$VideoAutoplayControllerBase3=null;this.$VideoAutoplayControllerBase2=null;this.$VideoAutoplayControllerBase6=[];this.$VideoAutoplayControllerBase1=i;this.$VideoAutoplayControllerBase4=null;this.$VideoAutoplayControllerBase5=new (c('SubscriptionsHandler'))();c('destroyOnUnload')(function(){this.$VideoAutoplayControllerBase6=[];this.$VideoAutoplayControllerBase3=null;if(this.$VideoAutoplayControllerBase4){this.$VideoAutoplayControllerBase4.remove();this.$VideoAutoplayControllerBase4=null;}this.$VideoAutoplayControllerBase5.release();}.bind(this));}h.prototype.getVideoUnits=function(){'use strict';return this.$VideoAutoplayControllerBase6;};h.prototype.setVideoUnits=function(i){'use strict';this.$VideoAutoplayControllerBase6=i;};h.prototype.addVideoUnit=function(i){'use strict';this.$VideoAutoplayControllerBase6.push(i);};h.prototype.getPlayingVideoUnit=function(){'use strict';return this.$VideoAutoplayControllerBase3;};h.prototype.setPlayingVideoUnit=function(i){'use strict';this.$VideoAutoplayControllerBase3=i;if(this.$VideoAutoplayControllerBase3)this.setupPlayingVideoUnitSubscriptions();};h.prototype.playVideo=function(i,j){'use strict';this.setPlayingVideoUnit(i);if(this.$VideoAutoplayControllerBase3)this.$VideoAutoplayControllerBase3.playWithoutUnmute(j);};h.prototype.setupPlayingVideoUnitSubscriptions=function(){'use strict';throw new Error('Should be overridden');};h.prototype.addSubscriberVideoUnit=function(){'use strict';if(!this.getVideoUnits().length){this.$VideoAutoplayControllerBase5.addSubscriptions(c('Event').listen(window,'resize',this.updateAutoplay.bind(this)),c('Event').listen(window,'blur',this.$VideoAutoplayControllerBase7.bind(this)),c('Event').listen(window,'focus',this.$VideoAutoplayControllerBase8.bind(this)),c('Visibility').addListener(c('Visibility').HIDDEN,this.$VideoAutoplayControllerBase7.bind(this)),c('Visibility').addListener(c('Visibility').VISIBLE,this.$VideoAutoplayControllerBase8.bind(this)),c('Arbiter').subscribe(c('DesktopHscrollUnitEventConstants').HSCROLL_ITEM_SHOWN_EVENT,this.updateAutoplay.bind(this)));if(!this.$VideoAutoplayControllerBase9())this.$VideoAutoplayControllerBase10();}};h.prototype.$VideoAutoplayControllerBase7=function(){'use strict';if(!this.$VideoAutoplayControllerBase2){this.$VideoAutoplayControllerBase2=this.getPlayingVideoUnit();this.pausePlayingVideo(c('VideoPlayerReason').PAGE_VISIBILITY);}};h.prototype.$VideoAutoplayControllerBase8=function(){'use strict';if(this.$VideoAutoplayControllerBase2){this.playVideo(this.$VideoAutoplayControllerBase2,c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoAutoplayControllerBase2=null;}};h.prototype.$VideoAutoplayControllerBase10=function(){'use strict';if(this.$VideoAutoplayControllerBase4)this.$VideoAutoplayControllerBase4.remove();this.$VideoAutoplayControllerBase4=c('Event').listen(window,'scroll',c('throttle')(this.updateAutoplay.bind(this),this.$VideoAutoplayControllerBase1));};h.prototype.$VideoAutoplayControllerBase9=function(){'use strict';return !!this.$VideoAutoplayControllerBase4;};h.prototype.getClosestVideoUnits=function(i){'use strict';return this.$VideoAutoplayControllerBase6.filter(function(j){return j.getDistanceToViewport()>=0;}).sort(function(j,k){return (j.getDistanceToViewport()-k.getDistanceToViewport());}).slice(0,i);};h.prototype.getVisibleUnits=function(){'use strict';var i=[];this.$VideoAutoplayControllerBase6.forEach(function(j){if(j.isVisible()){i.push(j);if(!j.wasVisible){j.wasVisible=true;j.logDisplayed();}}else j.wasVisible=false;});return i;};h.prototype.pausePlayingVideo=function(i){'use strict';var j=this.$VideoAutoplayControllerBase3;if(j){j.pause(i);if(c('VideoPlayerAbortLoadingExperiment').canAbort&&!j.getIsInChannel())j.abortLoading();this.$VideoAutoplayControllerBase3=null;}};h.prototype.updateAutoplay=function(){'use strict';throw new Error('Should be overridden');};f.exports=h;},null);
__d("XVideoAutoplayNuxAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/autoplay\/nux\/",{});},null);
__d("XVideoAutoplayNuxDismissAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/autoplay\/nux\/dismiss\/",{});},null);
__d("XVideoAutoplayNuxLogViewAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/autoplay\/nux\/log\/view\/",{});},null);
__d('VideoAutoplayControllerX',['csx','AsyncRequest','DOM','Event','SubscriptionsHandler','VideoAutoplayControllerBase','VideoPlayerExperiments','VideoPlayerPreloadExperiment','VideoPlayerReason','XVideoAutoplayNuxAsyncController','XVideoAutoplayNuxDismissAsyncController','XVideoAutoplayNuxLogViewAsyncController','destroyOnUnload','getViewportDimensions'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=null,l=500;i=babelHelpers.inherits(m,c('VideoAutoplayControllerBase'));j=i&&i.prototype;function m(){'use strict';j.constructor.call(this,l);this.$VideoAutoplayControllerX1=new (c('SubscriptionsHandler'))();this.$VideoAutoplayControllerX2=new (c('SubscriptionsHandler'))();this.$VideoAutoplayControllerX3=true;this.$VideoAutoplayControllerX4=null;this.$VideoAutoplayControllerX5=null;this.$VideoAutoplayControllerX6=false;this.$VideoAutoplayControllerX7=null;var n=c('XVideoAutoplayNuxAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))(n).send();c('destroyOnUnload')(function(){this.$VideoAutoplayControllerX8();if(this===k)k=null;}.bind(this));}m.registerVideoUnit=function(n){'use strict';if(k==null)k=new m();k.addSubscriberVideoUnit();k.addVideoUnit(n);if(c('VideoPlayerExperiments').enforceOnlyOneVideoPlayingWithAudio)k.$VideoAutoplayControllerX9(n);if(n.isVisible())k.updateAutoplay();};m.setShouldAutoplay=function(n){'use strict';if(k==null)k=new m();k.$VideoAutoplayControllerX3=n;k.updateAutoplay();};m.prototype.$VideoAutoplayControllerX8=function(){'use strict';this.$VideoAutoplayControllerX1.release();this.$VideoAutoplayControllerX2.release();};m.setAutoplayNux=function(n,o){'use strict';if(k==null)return;k.$VideoAutoplayControllerX4=n;k.$VideoAutoplayControllerX5=o;k.$VideoAutoplayControllerX6=true;var p=c('DOM').find(o.getContentRoot(),"._5cqr");c('Event').listen(p,'click',function(){k.$VideoAutoplayControllerX10();});var q=c('DOM').scry(o.getContentRoot(),"._36gl")[0];if(q)c('Event').listen(q,'click',function(){k.$VideoAutoplayControllerX10();});};m.prototype.$VideoAutoplayControllerX10=function(){'use strict';this.$VideoAutoplayControllerX5.hide();this.$VideoAutoplayControllerX6=false;var n=c('XVideoAutoplayNuxDismissAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))(n).send();};m.prototype.setupPlayingVideoUnitSubscriptions=function(){'use strict';if(this.getPlayingVideoUnit().addListener){this.$VideoAutoplayControllerX1.release();this.$VideoAutoplayControllerX1.engage();if(!this.getPlayingVideoUnit().isLooping())this.$VideoAutoplayControllerX1.addSubscriptions(this.getPlayingVideoUnit().addListener('finishPlayback',function(){this.setPlayingVideoUnit(null);}.bind(this)));this.$VideoAutoplayControllerX1.addSubscriptions(this.getPlayingVideoUnit().addListener('turnOffAutoplay',function(){this.setPlayingVideoUnit(null);}.bind(this)));}};m.prototype.$VideoAutoplayControllerX9=function(n){'use strict';if(!n.addListener)return;var o=function(){var p=n.getVideoPlayerController();if(!p.isMuted()&&p.isState('playing')){if(this.$VideoAutoplayControllerX7&&this.$VideoAutoplayControllerX7!==n)this.$VideoAutoplayControllerX7.getVideoPlayerController().pause(c('VideoPlayerReason').USER);this.$VideoAutoplayControllerX7=n;}}.bind(this);this.$VideoAutoplayControllerX2.addSubscriptions(n.addListener('beginPlayback',o),n.addListener('changeVolume',o),n.addListener('unmuteVideo',o));};m.prototype.showAutoplayNUX=function(n){'use strict';if(this.$VideoAutoplayControllerX5&&!this.$VideoAutoplayControllerX5.isShown()){var o=n.getVideoPlayerController().getRootNode();c('DOM').prependContent(o,this.$VideoAutoplayControllerX4);this.$VideoAutoplayControllerX5.show();var p=c('XVideoAutoplayNuxLogViewAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))(p).send();}this.$VideoAutoplayControllerX6=false;};m.getChannelVideos=function(){'use strict';if(k)return k.getVideoUnits().filter(function(n){return n.getIsInChannel();});return null;};m.prototype.updateAutoplay=function(){'use strict';if(!this.$VideoAutoplayControllerX3){this.pausePlayingVideo(c('VideoPlayerReason').AUTOPLAY);return;}var n=this.getVisibleUnits();this.getClosestVideoUnits(c('VideoPlayerPreloadExperiment').preloadVideosCount).forEach(function(r){return r.preload();});var o=n.length,p=null;if(o==1){p=n[0];p=p.isAutoplayable()?p:null;}else if(o>1){var q=c('getViewportDimensions')().height/2;n.forEach(function(r){if(!r.isAutoplayable())return;var s=r.getDOMPosition(),t=s.y+s.height/2,u=Math.abs(t-q);r.playPriority=u;if(!p||r.playPriority<p.playPriority)p=r;});}if(this.getPlayingVideoUnit()){if(p!=this.getPlayingVideoUnit()){this.pausePlayingVideo(c('VideoPlayerReason').AUTOPLAY);this.playVideo(p,c('VideoPlayerReason').AUTOPLAY);if(this.$VideoAutoplayControllerX6)this.showAutoplayNUX(p);}}else if(p){this.playVideo(p,c('VideoPlayerReason').AUTOPLAY);if(this.$VideoAutoplayControllerX6)this.showAutoplayNUX(p);}};f.exports=m;},null);
__d('VideoAutoplayPlayerBase',['EventEmitter'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(){'use strict';i.constructor.call(this);}j.prototype.isVisible=function(){'use strict';throw new Error('Should be overridden');};j.prototype.getDistanceToViewport=function(){'use strict';throw new Error('Should be overridden');};j.prototype.logDisplayed=function(){'use strict';throw new Error('Should be overridden');};j.prototype.playWithoutUnmute=function(k){'use strict';throw new Error('Should be overridden');};j.prototype.pause=function(k){'use strict';throw new Error('Should be overridden');};j.prototype.isAutoplayable=function(){'use strict';throw new Error('Should be overridden');};j.prototype.getDOMPosition=function(){'use strict';throw new Error('Should be overridden');};j.prototype.isLooping=function(){'use strict';throw new Error('Should be overridden');};f.exports=j;},null);
__d('MountedContextMenu.react',['cx','ContextualLayer.react','DOMQuery','Event','Focus','LayerHideOnEscape','PopoverMenu.react','PopoverMenuInterface','React','ReactDOM','ReactLayeredComponentMixin','SubscriptionsHandler','isNode'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=Object.prototype.hasOwnProperty,j=c('React').PropTypes;function k(m,n,o,p,q){var r=o.getContent().getBoundingClientRect(),s=o.getContext().getBoundingClientRect(),t=m-s.left,u=n-s.top;switch(q){case 'left':t-=r.width;break;case 'center':t-=s.width*.5;break;case 'right':t-=s.width-r.width;break;default:throw new Error('invalid alignment');}switch(p){case 'above':break;case 'left':t+=r.width;u-=r.height*.5;break;case 'right':t-=r.width;u-=r.height*.5;break;case 'below':u-=s.height;break;default:throw new Error('invalid position');}return {offsetX:t,offsetY:u};}var l=c('React').createClass({displayName:'MountedContextMenu',mixins:[c('ReactLayeredComponentMixin')],propTypes:{disableFocusOutline:j.bool,menu:function(m,n,o){if(!i.call(m,n))return new Error(o+'.'+n+' is required');var p=m[n],q=p&&p.type;if(!(q&&q.prototype instanceof c('PopoverMenuInterface')))return new Error(n+' must implement PopoverMenuInterface');},mountedTriggerElem:function(m,n,o){if(!i.call(m,n)){return new Error(o+'.'+n+' is required');}else if(!c('isNode')(m[n]))return new Error(o+'.'+n+' must be a raw DOM node');}},getDefaultProps:function(){return {disableFocusOutline:false};},getInitialState:function(){return {shown:false,lastOpenedX:0,lastOpenedY:0,offsetX:0,offsetY:0};},_getTriggerDOMNode:function(){return this.props.mountedTriggerElem;},_getMenuDOMNode:function(){var m=this.refs.popover.getMenu();return m&&m.getRoot();},_getLayer:function(){return this.refs.menuLayer.layer;},renderLayers:function(){var m=this.props.menu,n=m.props.onItemClick,o=this;m=c('React').cloneElement(m,{onItemClick:function(){o.hide();return n&&n.apply(this,arguments);}});return {menu:c('React').createElement(c('ContextualLayer.react'),{alignment:'right',behaviors:[c('LayerHideOnEscape')],contextRef:function(){return this._getTriggerDOMNode();}.bind(this),offsetX:this.state.offsetX,offsetY:this.state.offsetY,position:'below',ref:'menuLayer',shown:this.state.shown},c('React').createElement(c('PopoverMenu.react'),{alignh:'left',menu:m,position:'below',ref:'popover'},c('React').createElement('div',{className:"_4345",ref:'fakeTrigger'})))};},render:function(){if(this.props.mountedTriggerElem)return null;},_updatePosition:function(m,n){var o=this._getLayer(),p=o.getOrientation(),q=p.getPosition(),r=p.getAlignment(),s=k(m,n,o,q,r),t=s.offsetX,u=s.offsetY;o.setOffsetX(t).setOffsetY(u);this.setState({offsetX:t,offsetY:u});},_onContextMenu:function(m){var n=m.clientX,o=m.clientY;m.preventDefault();m.stopPropagation();this.showAt(n,o);},_onMousedownAnywhere:function(m){var n=this._getMenuDOMNode(),o=n&&c('DOMQuery').contains(n,m.target),p=m.button===0;if(!(o&&p))this.hide();},_onRealTriggerFocus:function(){if(this.props.disableFocusOutline)c('Focus').setWithoutOutline(this._getTriggerDOMNode());},_onFakeTriggerFocus:function(){var m=this._getTriggerDOMNode();if(this.props.disableFocusOutline){c('Focus').setWithoutOutline(m);}else c('Focus').set(m);if(this.state.shown)this.hide();},_onWindowBlur:function(){this.hide();},componentDidMount:function(){var m=this._getTriggerDOMNode(),n=c('ReactDOM').findDOMNode(this.refs.fakeTrigger),o=this._getLayer(),p=this.refs.popover;this._subscriberHandler=new (c('SubscriptionsHandler'))();this._subscriberHandler.addSubscriptions(c('Event').listen(m,'contextmenu',this._onContextMenu),c('Event').listen(document.body,'mousedown',this._onMousedownAnywhere),c('Event').listen(m,'focus',this._onRealTriggerFocus),c('Event').listen(n,'focus',this._onFakeTriggerFocus),c('Event').listen(window,'blur',this._onWindowBlur),o.subscribe('show',function(){var q=this.state.lastOpenedX,r=this.state.lastOpenedY;this._updatePosition(q,r);p.showPopover();}.bind(this)),o.subscribe('hide',function(){p.hidePopover();}));},componentWillUnmount:function(){this._subscriberHandler&&this._subscriberHandler.release();},show:function(){this.setState({shown:true});},showAt:function(m,n){this.setState({lastOpenedX:m,lastOpenedY:n});this.show();},hide:function(){this.setState({shown:false});}});f.exports=l;},null);
__d('VideoPlayerHTML5ContextMenu.react',['cx','fbt','ContextualLayer.react','DOMQuery','Event','Focus','FullScreen','getFullScreenElement','Keys','LayerAutoFocus','LayerHideOnEscape','MountedContextMenu.react','React','ReactDOM','ReactLayeredComponentMixin','ReactXUIMenu','SubscriptionsHandler','VideoContextMenuGK','isNode'],function a(b,c,d,e,f,g,h,i){'use strict';if(c.__markCompiled)c.__markCompiled();var j=Object.prototype.hasOwnProperty,k=c('ReactXUIMenu').Item,l=c('React').PropTypes,m=.35,n=6,o=60,p=c('React').createClass({displayName:'VideoPlayerHTML5ContextMenu',mixins:[c('ReactLayeredComponentMixin')],propTypes:{videoElem:function(q,r,s){if(!j.call(q,r)){return new Error(s+'.'+r+' is required');}else if(!c('isNode')(q[r]))return new Error(s+'.'+r+' must be a raw DOM node');},paused:l.bool,muted:l.bool,permalinkURL:l.string,onTogglePause:l.func.isRequired,onToggleMute:l.func.isRequired},getInitialState:function(){return {permalinkVisible:false,fullscreened:false,screenWidth:screen.width,screenHeight:screen.height};},componentDidMount:function(){var q=this.refs.permalinkLayer.layer;this._subscriberHandler=new (c('SubscriptionsHandler'))();this._subscriberHandler.addSubscriptions(c('FullScreen').subscribe('changed',this._onFullScreenChanged),q.subscribe('hide',this._onHidePermalinkOverlay),q.subscribe('show',this._onShowPermalinkOverlay));},componentWillUnmount:function(){this._subscriberHandler&&this._subscriberHandler.release();},_onFullScreenChanged:function(){var q=c('getFullScreenElement')(),r=this.props.videoElem,s=!!(c('FullScreen').isFullScreen()&&q&&r&&c('DOMQuery').contains(q,r));this.setState({fullscreened:s});},_renderTogglePauseLabel:function(){if(this.props.paused){return i._("Play");}else return i._("Pause");},_renderToggleMuteLabel:function(){if(this.props.muted){return i._("Unmute");}else return i._("Mute");},_onTogglePause:function(){this.props.onTogglePause&&this.props.onTogglePause();},_onToggleMute:function(){this.props.onToggleMute&&this.props.onToggleMute();},_onShowPermalinkOverlay:function(){c('Focus').set(c('ReactDOM').findDOMNode(this.refs.permalinkText));this.setState({permalinkVisible:true});},_onHidePermalinkOverlay:function(){this.setState({permalinkVisible:false});},_onPermalinkTextFocus:function(){c('ReactDOM').findDOMNode(this.refs.permalinkText).select();},_onPermalinkTextKeyDown:function(q){if(c('Event').getKeyCode(q)==c('Keys').ESC)this.setState({permalinkVisible:false});},_onPermalinkTextMouseUp:function(q){q.preventDefault();},_getVideoDimensions:function(){var q=void 0,r=void 0;if(this.state.fullscreened){q=this.state.screenWidth;r=this.state.screenHeight;}else{var s=this.props.videoElem.getBoundingClientRect();q=s.width;r=s.height;}return {width:q,height:r};},_renderPermalinkLayerContent:function(q){var r=this.props.permalinkURL;if(r){var s={width:q+'px'};return (c('React').createElement('div',{className:"_26oo",style:s},c('React').createElement('input',{className:"_26op autofocus",onFocus:this._onPermalinkTextFocus,onKeyDown:this._onPermalinkTextKeyDown,onMouseUp:this._onPermalinkTextMouseUp,readOnly:true,ref:'permalinkText',type:'text',value:r}),c('React').createElement('button',{className:"_26oq",onClick:this._onHidePermalinkOverlay},i._("Close"))));}},renderLayers:function(){var q=this.props.permalinkURL&&this.state.permalinkVisible,r=0,s=0,t=null,u=this._getVideoDimensions(),v=u.width,w=u.height,x=v*m;r=v/2-x/2;s=-w+n;if(this.state.fullscreened)s+=o;t=this._renderPermalinkLayerContent(x);return {permalinkOverlay:c('React').createElement(c('ContextualLayer.react'),{alignment:'left',behaviors:[c('LayerHideOnEscape'),c('LayerAutoFocus')],contextRef:function(){return this.props.videoElem;}.bind(this),offsetX:r,offsetY:s,position:'below',ref:'permalinkLayer',shown:q},t)};},_renderPermalinkCopyOption:function(){if(this.props.permalinkURL)return (c('React').createElement(k,{onclick:this._onShowPermalinkOverlay,ref:'permalinkMenuItem'},i._("Show video URL")));},render:function(){var q=c('React').createElement(c('ReactXUIMenu'),{className:c('VideoContextMenuGK').menuRedesign?"_45di":''},c('React').createElement(k,{onclick:this._onTogglePause},this._renderTogglePauseLabel()),c('React').createElement(k,{onclick:this._onToggleMute},this._renderToggleMuteLabel()),this._renderPermalinkCopyOption(),this.props.children);return (c('React').createElement(c('MountedContextMenu.react'),{mountedTriggerElem:this.props.videoElem,menu:q,ref:'menu'}));}});f.exports=p;},null);
__d('VideoContextMenu',['EventListener','Bootloader','URI','React','ReactDOM','VideoPlayerHTML5ContextMenu.react','VideoPlayerReason','UserAgent','CurrentUser'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j,k){'use strict';this.$VideoContextMenu2=i;this.$VideoContextMenu3=k;this.$VideoContextMenu4=j;this.$VideoContextMenu1={};this.$VideoContextMenu5=null;if(this.$VideoContextMenu3.permalinkURL)this.$VideoContextMenu5=new (c('URI'))(this.$VideoContextMenu3.permalinkURL).getQualifiedURI().toString();var l=['muteVideo','unmuteVideo','changeVolume','beginPlayback','pausePlayback','finishPlayback'];i.addListener('optionsChange',function(){return this.$VideoContextMenu8();}.bind(this));this.$VideoContextMenu8();l.forEach(function(m){return (i.addListener(m,function(){return this.$VideoContextMenu9();}.bind(this)));}.bind(this));c('EventListener').listen(this.$VideoContextMenu2.getVideoNode(),'contextmenu',this.$VideoContextMenu10.bind(this));}h.prototype.$VideoContextMenu11=function(i,j,k,l){'use strict';c('Bootloader').loadModules(["VideoComponentOptionMenuItems"],function(m){if(!this.$VideoContextMenu7)this.$VideoContextMenu7=new m(this.$VideoContextMenu2,function(){return this.$VideoContextMenu9();}.bind(this));this.$VideoContextMenu7.addComponentOptionMenuItem(i,j,k,l);}.bind(this),'VideoContextMenu');};h.prototype.$VideoContextMenu8=function(){'use strict';if(this.$VideoContextMenu2.hasOption('DebugOverlay','hidden'))this.$VideoContextMenu11('DebugOverlay','hidden','Show Debug Information','Hide Debug Information');};h.prototype.$VideoContextMenu9=function(){'use strict';if(this.$VideoContextMenu6)this.$VideoContextMenu12();};h.prototype.$VideoContextMenu13=function(i,j){'use strict';if(!this.$VideoContextMenu7)return undefined;return this.$VideoContextMenu7.getComponentOptionMenuItem(i,j);};h.prototype.$VideoContextMenu12=function(){'use strict';var i=this.$VideoContextMenu13('DebugOverlay','hidden'),j=this.$VideoContextMenu2.getVideoNode();this.$VideoContextMenu6=c('ReactDOM').render(c('React').createElement(c('VideoPlayerHTML5ContextMenu.react'),{videoElem:j,paused:!this.$VideoContextMenu2.isState('playing'),muted:this.$VideoContextMenu2.isMuted(),permalinkURL:this.$VideoContextMenu5,onTogglePause:function(){return this.$VideoContextMenu14();}.bind(this),onToggleMute:function(){return this.$VideoContextMenu15();}.bind(this)},i),this.$VideoContextMenu4);};h.prototype.$VideoContextMenu15=function(){'use strict';if(this.$VideoContextMenu2.isMuted()){this.$VideoContextMenu2.unmute();}else this.$VideoContextMenu2.mute();};h.prototype.$VideoContextMenu14=function(){'use strict';var i=c('VideoPlayerReason').USER;if(!this.$VideoContextMenu2.isState('playing')){this.$VideoContextMenu2.play(i);}else this.$VideoContextMenu2.pause(i);};h.prototype.$VideoContextMenu10=function(i){'use strict';var j=c('CurrentUser').isEmployee()&&(c('UserAgent').isPlatform('Mac OS X')?i.getModifiers().meta:i.getModifiers().ctrl);if(j&&this.$VideoContextMenu6){var k=this.$VideoContextMenu2.getVideoNode();c('ReactDOM').unmountComponentAtNode(k);delete this.$VideoContextMenu6;}else if(!j&&!this.$VideoContextMenu6){i.preventDefault();this.$VideoContextMenu12();}};f.exports=h;},null);
__d('VideoPlayerUIComponentDrawer',['EventEmitter'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(k,l){i.constructor.call(this);this.$VideoPlayerUIComponentDrawer1=k;this.$VideoPlayerUIComponentDrawer2=l;this.$VideoPlayerUIComponentDrawer3=false;}j.prototype.reserve=function(){this.$VideoPlayerUIComponentDrawer3=true;this.emit('reserve');};j.prototype.release=function(){this.$VideoPlayerUIComponentDrawer3=false;this.emit('release');};j.prototype.getPriority=function(){return this.$VideoPlayerUIComponentDrawer1;};j.prototype.getHeight=function(){return this.$VideoPlayerUIComponentDrawer2;};j.prototype.isReserved=function(){return this.$VideoPlayerUIComponentDrawer3;};j.priorities={EmbeddedControls:0,ClickForMore:1,SphericalMouseAnimation:2};f.exports=j;},null);
__d('VideoPlayerVolumeSettings',['WebStorage'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){'use strict';this.$VideoPlayerVolumeSettings1=1;this.$VideoPlayerVolumeSettings2=1;}h.prototype.getVolume=function(){'use strict';var j=c('WebStorage').getLocalStorage();if(j){var k=j.getItem('videoPlayerControllerVolume');if(k===null||isNaN(+k))return 1;return +k;}return this.$VideoPlayerVolumeSettings1;};h.prototype.saveVolume=function(j){'use strict';var k=c('WebStorage').getLocalStorage();if(k)return k.setItem('videoPlayerControllerVolume',j);this.$VideoPlayerVolumeSettings1=j;};h.prototype.getLastVolumeBeforeMute=function(){'use strict';var j=c('WebStorage').getLocalStorage();if(j){var k=j.getItem('videoPlayerControllerLastVolumeBeforeMute');if(k===null||isNaN(+k))return 1;return +k;}return this.$VideoPlayerVolumeSettings2;};h.prototype.saveLastVolumeBeforeMute=function(j){'use strict';var k=c('WebStorage').getLocalStorage();if(k)return k.setItem('videoPlayerControllerLastVolumeBeforeMute',j);this.$VideoPlayerVolumeSettings2=j;};var i=new h();f.exports=i;},null);
__d('VideoWithLoopingPlayback',['VideoPlayerReason','setImmediate'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){'use strict';this.$VideoWithLoopingPlayback2=i;this.$VideoWithLoopingPlayback1=1;this.$VideoWithLoopingPlayback2.addListener('finishPlayback',function(){return this.$VideoWithLoopingPlayback3(j);}.bind(this));this.$VideoWithLoopingPlayback2.registerOption('Looping','isLooping',function(){return true;});}h.prototype.$VideoWithLoopingPlayback3=function(i){'use strict';var j=this.$VideoWithLoopingPlayback2.getOption('FeedAutoplay','isVisibleForAutoplay'),k=this.$VideoWithLoopingPlayback2.getOption('WatchAndScroll','isActive');if((j||j===undefined)&&!k&&(this.$VideoWithLoopingPlayback1<i||i==-1)){c('setImmediate')(function(){return this.$VideoWithLoopingPlayback2.play(c('VideoPlayerReason').LOOP);}.bind(this));this.$VideoWithLoopingPlayback1++;}};f.exports=h;},null);