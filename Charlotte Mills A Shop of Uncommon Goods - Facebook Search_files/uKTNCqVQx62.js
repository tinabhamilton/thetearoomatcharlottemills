if (self.CavalryLogger) { CavalryLogger.start_js(["sxeSJ"]); }

__d("VideoProjection",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={FLAT:"flat",EQUIRECTANGULAR:"equirectangular",CUBEMAP:"cubemap",UNPADDED_CUBEMAP:"unpadded_cubemap",UNPADDED_CUBESTRIP:"unpadded_cubestrip",OFFSET_CUBEMAP:"offset_cubemap",ROTATED_CUBEMAP:"rotated_cubemap",PYRAMID:"pyramid"};},null);
__d("d3/behavior/behavior",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};f.exports=h;},null);
__d("d3/core/dispatch",["d3/core/map"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/map")._Map,i=function(){var l=new j(),m=-1,n=arguments.length;while(++m<n)l[arguments[m]]=k(l);return l;};function j(){}j.prototype.on=function(l,m){var n=l.indexOf("."),o="";if(n>0){o=l.substring(n+1);l=l.substring(0,n);}return arguments.length<2?this[l].on(o):this[l].on(o,m);};function k(l){var m=[],n=new h();function event(){var o=m,p=-1,q=o.length,r;while(++p<q)if(r=o[p].on)r.apply(this,arguments);return l;}event.on=function(o,p){var q=n.get(o),r;if(arguments.length<2)return q&&q.on;if(q){q.on=null;m=m.slice(0,r=m.indexOf(q)).concat(m.slice(r+1));n.remove(o);}if(p)m.push(n.set(o,{on:p}));return l;};return event;}i._dispatch=j;i._event=k;f.exports=i;},null);
__d("d3/core/event",["d3/core/dispatch","d3/core/core"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/dispatch")._dispatch,i=c("d3/core/dispatch")._event;c("d3/core/core").event=null;function j(){c("d3/core/core").event.stopPropagation();c("d3/core/core").event.preventDefault();}function k(){var m=c("d3/core/core").event,n;while(n=m.sourceEvent)m=n;return m;}function l(m){var n=new h(),o=0,p=arguments.length;while(++o<p)n[arguments[o]]=i(n);n.of=function(q,r){return function(s){try{var t=s.sourceEvent=c("d3/core/core").event;s.target=m;c("d3/core/core").event=s;n[s.type].apply(q,r);}finally{c("d3/core/core").event=t;}};};return n;}g._eventCancel=j;g._eventSource=k;g._eventDispatch=l;},null);
__d("d3/core/array",["d3/core/core"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._document,i=k;function j(n){var o=-1,p=n.length,q=[];while(++o<p)q.push(n[o]);return q;}function k(n){return Array.prototype.slice.call(n);}try{i(h.documentElement.childNodes)[0].nodeType;}catch(l){i=j;}var m=[].__proto__?function(n,o){n.__proto__=o;}:function(n,o){for(var p in o)n[p]=o[p];};g._array=i;g._arraySubclass=m;},null);
__d("d3/core/selection-root",["d3/core/core","d3/core/array","d3/core/selection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._document,i=c("d3\/core\/array")._array,j=c("d3\/core\/selection")._selection([[h]]);j[0].parentNode=c("d3\/core\/selection")._selectRoot;var k=function(l){return typeof l==="string"?j.select(l):c("d3\/core\/selection")._selection([[l]]);};k.all=function(l){return typeof l==="string"?j.selectAll(l):c("d3\/core\/selection")._selection([i(l)]);};k._selectionRoot=j;f.exports=k;},null);
__d("d3/core/selection",["d3/core/array","d3/core/core","d3/core/selection-root"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/array")._arraySubclass,i=c("d3\/core\/core")._document;function j(r){h(r,p);return r;}var k=function(r,s){return s.querySelector(r);},l=function(r,s){return s.querySelectorAll(r);},m=i.documentElement,n=m.matchesSelector||m.webkitMatchesSelector||m.mozMatchesSelector||m.msMatchesSelector||m.oMatchesSelector,o=function(r,s){return n.call(r,s);};if(typeof Sizzle==="function"){k=function(r,s){return Sizzle(r,s)[0]||null;};l=function(r,s){return Sizzle.uniqueSort(Sizzle(r,s));};o=Sizzle.matchesSelector;}var p=[],q=function(){return c("d3\/core\/selection-root")._selectionRoot;};q.prototype=p;q._selectionPrototype=p;q._select=k;q._selectAll=l;q._selectRoot=m;q._selectMatches=o;q._selection=j;f.exports=q;},null);
__d("d3/core/mouse",["d3/core/core","d3/core/event","d3/core/selection-root"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/event")._eventSource,i=c("d3/core/core")._window,j=c("d3/core/core")._document,k=function(n){return m(n,h());},l=/WebKit/.test(i.navigator.userAgent)?-1:0;function m(n,o){var p=n.ownerSVGElement||n;if(p.createSVGPoint){var q=p.createSVGPoint();if(l<0&&(i.scrollX||i.scrollY)){p=c("d3/core/selection-root")(j.body).append("svg").style("position","absolute").style("top",0).style("left",0);var r=p[0][0].getScreenCTM();l=!(r.f||r.e);p.remove();}if(l){q.x=o.pageX;q.y=o.pageY;}else{q.x=o.clientX;q.y=o.clientY;}q=q.matrixTransform(n.getScreenCTM().inverse());return [q.x,q.y];}var s=n.getBoundingClientRect();return [o.clientX-s.left-n.clientLeft,o.clientY-s.top-n.clientTop];}k._mousePoint=m;f.exports=k;},null);
__d("d3/core/touches",["d3/core/event","d3/core/array","d3/core/mouse"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/event")._eventSource,i=c("d3\/core\/array")._array,j=c("d3\/core\/mouse")._mousePoint,k=function(l,m){if(arguments.length<2)m=h().touches;return m?i(m).map(function(n){var o=j(l,n);o.identifier=n.identifier;return o;}):[];};f.exports=k;},null);
__d("d3/behavior/drag",["d3/core/event","d3/core/core","d3/core/selection-root","d3/core/touches","d3/core/mouse","d3/core/rebind"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/event")._eventDispatch,i=c("d3/core/core")._window,j=c("d3/core/event")._eventCancel,k=function(){var event=h(m,"drag","dragstart","dragend"),l=null;function m(){this.on("mousedown.drag",n).on("touchstart.drag",n);}function n(){var o=this,p=event.of(o,arguments),q=c("d3/core/core").event.target,r=c("d3/core/core").event.touches?c("d3/core/core").event.changedTouches[0].identifier:null,s,t=w(),u=0,v=c("d3/core/selection-root")(i).on(r!=null?"touchmove.drag-"+r:"mousemove.drag",x).on(r!=null?"touchend.drag-"+r:"mouseup.drag",y,true);if(l){s=l.apply(o,arguments);s=[s.x-t[0],s.y-t[1]];}else s=[0,0];if(r==null)j();p({type:"dragstart"});function w(){var aa=o.parentNode;return r!=null?c("d3/core/touches")(aa).filter(function(ba){return ba.identifier===r;})[0]:c("d3/core/mouse")(aa);}function x(){if(!o.parentNode)return y();var aa=w(),ba=aa[0]-t[0],ca=aa[1]-t[1];u|=ba|ca;t=aa;j();p({type:"drag",x:aa[0]+s[0],y:aa[1]+s[1],dx:ba,dy:ca});}function y(){p({type:"dragend"});if(u){j();if(c("d3/core/core").event.target===q)v.on("click.drag",z,true);}v.on(r!=null?"touchmove.drag-"+r:"mousemove.drag",null).on(r!=null?"touchend.drag-"+r:"mouseup.drag",null);}function z(){j();v.on("click.drag",null);}}m.origin=function(o){if(!arguments.length)return l;l=o;return m;};return c("d3/core/rebind")(m,event,"on");};f.exports=k;},null);
__d("d3/behavior/zoom",["d3/core/event","d3/core/core","d3/core/selection-root","d3/core/mouse","d3/core/touches","d3/core/rebind"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/event")._eventDispatch,i=c("d3/core/core")._window,j=c("d3/core/event")._eventCancel,k=function(){var o=[0,0],p,q=1,r,s=l,event=h(y,"zoom"),t,u,v,w,x;function y(){this.on("mousedown.zoom",fa).on("mousemove.zoom",ha).on(n+".zoom",ga).on("dblclick.zoom",ia).on("touchstart.zoom",ja).on("touchmove.zoom",ka).on("touchend.zoom",ja);}y.translate=function(la){if(!arguments.length)return o;o=la.map(Number);da();return y;};y.scale=function(la){if(!arguments.length)return q;q=+la;da();return y;};y.scaleExtent=function(la){if(!arguments.length)return s;s=la==null?l:la.map(Number);return y;};y.x=function(la){if(!arguments.length)return u;u=la;t=la.copy();o=[0,0];q=1;return y;};y.y=function(la){if(!arguments.length)return w;w=la;v=la.copy();o=[0,0];q=1;return y;};function z(la){return [(la[0]-o[0])/q,(la[1]-o[1])/q];}function aa(la){return [la[0]*q+o[0],la[1]*q+o[1]];}function ba(la){q=Math.max(s[0],Math.min(s[1],la));}function ca(la,ma){ma=aa(ma);o[0]+=la[0]-ma[0];o[1]+=la[1]-ma[1];}function da(){if(u)u.domain(t.range().map(function(la){return (la-o[0])/q;}).map(t.invert));if(w)w.domain(v.range().map(function(la){return (la-o[1])/q;}).map(v.invert));}function ea(event){da();c("d3/core/core").event.preventDefault();event({type:"zoom",scale:q,translate:o});}function fa(){var la=this,ma=event.of(la,arguments),na=c("d3/core/core").event.target,oa=0,pa=c("d3/core/selection-root")(i).on("mousemove.zoom",ra).on("mouseup.zoom",sa),qa=z(c("d3/core/mouse")(la));i.focus();j();function ra(){oa=1;ca(c("d3/core/mouse")(la),qa);ea(ma);}function sa(){if(oa)j();pa.on("mousemove.zoom",null).on("mouseup.zoom",null);if(oa&&c("d3/core/core").event.target===na)pa.on("click.zoom",ta,true);}function ta(){j();pa.on("click.zoom",null);}}function ga(){if(!p)p=z(c("d3/core/mouse")(this));ba(Math.pow(2,m()*.002)*q);ca(c("d3/core/mouse")(this),p);ea(event.of(this,arguments));}function ha(){p=null;}function ia(){var la=c("d3/core/mouse")(this),ma=z(la),na=Math.log(q)/Math.LN2;ba(Math.pow(2,c("d3/core/core").event.shiftKey?Math.ceil(na)-1:Math.floor(na)+1));ca(la,ma);ea(event.of(this,arguments));}function ja(){var la=c("d3/core/touches")(this),ma=Date.now();r=q;p={};la.forEach(function(pa){p[pa.identifier]=z(pa);});j();if(la.length===1){if(ma-x<500){var na=la[0],oa=z(la[0]);ba(q*2);ca(na,oa);ea(event.of(this,arguments));}x=ma;}}function ka(){var la=c("d3/core/touches")(this),ma=la[0],na=p[ma.identifier];if(oa=la[1]){var oa,pa=p[oa.identifier];ma=[(ma[0]+oa[0])/2,(ma[1]+oa[1])/2];na=[(na[0]+pa[0])/2,(na[1]+pa[1])/2];ba(c("d3/core/core").event.scale*r);}ca(ma,na);x=null;ea(event.of(this,arguments));}return c("d3/core/rebind")(y,event,"on");},l=[0,Infinity],m,n="onwheel" in document?(m=function(){return -c("d3/core/core").event.deltaY*(c("d3/core/core").event.deltaMode?120:1);},"wheel"):"onmousewheel" in document?(m=function(){return c("d3/core/core").event.wheelDelta;},"mousewheel"):(m=function(){return -c("d3/core/core").event.detail;},"MozMousePixelScroll");f.exports=k;},null);
__d("d3/compat/date",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();if(!Date.now)Date.now=function(){return +new Date();};},null);
__d("d3/compat/style",["d3/core/core"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/core")._document,i=c("d3/core/core")._window;try{h.createElement("div").style.setProperty("opacity",0,"");}catch(j){var k=i.CSSStyleDeclaration.prototype,l=k.setProperty;k.setProperty=function(m,n,o){l.call(this,m,n+"",o);};}},null);
__d("d3/core/ascending",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(i,j){return i<j?-1:i>j?1:i>=j?0:NaN;};f.exports=h;},null);
__d("d3/core/collapse",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){return i.trim().replace(/\s+/g," ");}g._collapse=h;},null);
__d("d3/core/descending",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(i,j){return j<i?-1:j>i?1:j>=i?0:NaN;};f.exports=h;},null);
__d("d3/core/ease",["d3/core/identity","d3/core/core","d3/core/map"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/identity")._identity,i=c("d3\/core\/core")._u03c0,j=function(){return h;},k=c("d3/core/map")({linear:j,poly:t,quad:function(){return q;},cubic:function(){return r;},sin:function(){return u;},exp:function(){return v;},circle:function(){return w;},elastic:x,back:y,bounce:function(){return z;}}),l=c("d3/core/map")({"in":h,out:o,"in-out":p,"out-in":function(aa){return p(o(aa));}}),m=function(aa){var ba=aa.indexOf("-"),ca=ba>=0?aa.substring(0,ba):aa,da=ba>=0?aa.substring(ba+1):"in";ca=k.get(ca)||j;da=l.get(da)||h;return n(da(ca.apply(null,Array.prototype.slice.call(arguments,1))));};function n(aa){return function(ba){return ba<=0?0:ba>=1?1:aa(ba);};}function o(aa){return function(ba){return 1-aa(1-ba);};}function p(aa){return function(ba){return .5*(ba<.5?aa(2*ba):2-aa(2-2*ba));};}function q(aa){return aa*aa;}function r(aa){return aa*aa*aa;}function s(aa){if(aa<=0)return 0;if(aa>=1)return 1;var ba=aa*aa,ca=ba*aa;return 4*(aa<.5?ca:3*(aa-ba)+ca-.75);}function t(aa){return function(ba){return Math.pow(ba,aa);};}function u(aa){return 1-Math.cos(aa*i/2);}function v(aa){return Math.pow(2,10*(aa-1));}function w(aa){return 1-Math.sqrt(1-aa*aa);}function x(aa,ba){var ca;if(arguments.length<2)ba=.45;if(arguments.length){ca=ba/(2*i)*Math.asin(1/aa);}else aa=1,ca=ba/4;return function(da){return 1+aa*Math.pow(2,10*-da)*Math.sin((da-ca)*2*i/ba);};}function y(aa){if(!aa)aa=1.70158;return function(ba){return ba*ba*((aa+1)*ba-aa);};}function z(aa){return aa<1/2.75?7.5625*aa*aa:aa<2/2.75?7.5625*(aa-=1.5/2.75)*aa+.75:aa<2.5/2.75?7.5625*(aa-=2.25/2.75)*aa+.9375:7.5625*(aa-=2.625/2.75)*aa+.984375;}m._cubicInOut=s;f.exports=m;},null);
__d("d3/core/entries",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(i){var j=[];for(var k in i)j.push({key:k,value:i[k]});return j;};f.exports=h;},null);
__d("d3/core/extent",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(i,j){var k=-1,l=i.length,m,n,o;if(arguments.length===1){while(++k<l&&((m=o=i[k])==null||m!=m))m=o=undefined;while(++k<l)if((n=i[k])!=null){if(m>n)m=n;if(o<n)o=n;}}else{while(++k<l&&((m=o=j.call(i,i[k],k))==null||m!=m))m=undefined;while(++k<l)if((n=j.call(i,i[k],k))!=null){if(m>n)m=n;if(o<n)o=n;}}return [m,o];};f.exports=h;},null);
__d("d3/core/functor",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(j){return typeof j==="function"?j:function(){return j;};}var i=h;i._functor=h;f.exports=i;},null);
__d("d3/core/xhr",["d3/core/core","d3/core/identity","d3/core/array","d3/core/dispatch","d3/core/rebind"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/identity")._identity,i=c("d3/core/core")._window,j=c("d3\/core\/array")._array,k=function(m,n,o){var p={},q=c("d3/core/dispatch")("progress","load","error"),r={},s=h,t=new (i.XDomainRequest&&/^(http(s)?:)?\/\//.test(m)?XDomainRequest:XMLHttpRequest)();"onload" in t?t.onload=t.onerror=u:t.onreadystatechange=function(){t.readyState>3&&u();};function u(){var v=t.status;!v&&t.responseText||v>=200&&v<300||v===304?q.load.call(p,s.call(p,t)):q.error.call(p,t);}t.onprogress=function(event){var v=c("d3/core/core").event;c("d3/core/core").event=event;try{q.progress.call(p,t);}finally{c("d3/core/core").event=v;}};p.header=function(v,w){v=(v+"").toLowerCase();if(arguments.length<2)return r[v];if(w==null){delete r[v];}else r[v]=w+"";return p;};p.mimeType=function(v){if(!arguments.length)return n;n=v==null?null:v+"";return p;};p.response=function(v){s=v;return p;};["get","post"].forEach(function(v){p[v]=function(){return p.send.apply(p,[v].concat(j(arguments)));};});p.send=function(v,w,x){if(arguments.length===2&&typeof w==="function")x=w,w=null;t.open(v,m,true);if(n!=null&&!("accept" in r))r.accept=n+",*/*";if(t.setRequestHeader)for(var y in r)t.setRequestHeader(y,r[y]);if(n!=null&&t.overrideMimeType)t.overrideMimeType(n);if(x!=null)p.on("error",x).on("load",function(z){x(null,z);});t.send(w==null?null:w);return p;};p.abort=function(){t.abort();return p;};c("d3/core/rebind")(p,q,"on");if(arguments.length===2&&typeof n==="function")o=n,n=null;return o==null?p:p.get(l(o));};function l(m){return m.length===1?function(n,o){m(n==null?o:null);}:m;}f.exports=k;},null);
__d("d3/core/html",["d3/core/core","d3/core/xhr"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._document,i=function(k,l){return c("d3/core/xhr")(k,"text/html",l).response(j);};function j(k){var l=h.createRange();l.selectNode(h.body);return l.createContextualFragment(k.responseText);}f.exports=i;},null);
__d("d3/core/json",["d3/core/xhr"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(j,k){return c("d3/core/xhr")(j,"application/json",k).response(i);};function i(j){return JSON.parse(j.responseText);}f.exports=h;},null);
__d("d3/core/keys",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(i){var j=[];for(var k in i)j.push(k);return j;};f.exports=h;},null);
__d("d3/core/number",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){return i!=null&&!isNaN(i);}g._number=h;},null);
__d("d3/core/mean",["d3/core/number"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/number")._number,i=function(j,k){var l=j.length,m,n=0,o=-1,p=0;if(arguments.length===1){while(++o<l)if(h(m=j[o]))n+=(m-n)/++p;}else while(++o<l)if(h(m=k.call(j,j[o],o)))n+=(m-n)/++p;return p?n:undefined;};f.exports=i;},null);
__d("d3/core/quantile",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(i,j){var k=(i.length-1)*j+1,l=Math.floor(k),m=+i[l-1],n=k-l;return n?m+n*(i[l]-m):m;};f.exports=h;},null);
__d("d3/core/median",["d3/core/number","d3/core/quantile","d3/core/ascending"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/number")._number,i=function(j,k){if(arguments.length>1)j=j.map(k);j=j.filter(h);return j.length?c("d3/core/quantile")(j.sort(c("d3/core/ascending")),.5):undefined;};f.exports=i;},null);
__d("d3/core/merge",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(i){return Array.prototype.concat.apply([],i);};f.exports=h;},null);
__d("d3/core/nest",["d3/core/map"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/map")._Map,i=function(){var j={},k=[],l=[],m,n;function o(q,r){if(r>=k.length)return n?n.call(j,q):m?q.sort(m):q;var s=-1,t=q.length,u=k[r++],v,w,x=new h(),y,z={};while(++s<t)if(y=x.get(v=u(w=q[s]))){y.push(w);}else x.set(v,[w]);x.forEach(function(aa,ba){z[aa]=o(ba,r);});return z;}function p(q,r){if(r>=k.length)return q;var s=[],t=l[r++],u;for(u in q)s.push({key:u,values:p(q[u],r)});if(t)s.sort(function(v,w){return t(v.key,w.key);});return s;}j.map=function(q){return o(q,0);};j.entries=function(q){return p(o(q,0),0);};j.key=function(q){k.push(q);return j;};j.sortKeys=function(q){l[k.length-1]=q;return j;};j.sortValues=function(q){m=q;return j;};j.rollup=function(q){n=q;return j;};return j;};f.exports=i;},null);
__d("d3/core/noop",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){}g._noop=h;},null);
__d("d3/core/permute",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(i,j){var k=[],l=-1,m=j.length;while(++l<m)k[l]=i[j[l]];return k;};f.exports=h;},null);
__d("d3/core/random",["d3/core/core"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={normal:function(i,j){var k=arguments.length;if(k<2)j=1;if(k<1)i=0;return function(){var l,m,n;do{l=Math.random()*2-1;m=Math.random()*2-1;n=l*l+m*m;}while(!n||n>1);return i+j*l*Math.sqrt(-2*Math.log(n)/n);};},logNormal:function(){var i=h.normal.apply(c("d3/core/core"),arguments);return function(){return Math.exp(i());};},irwinHall:function(i){return function(){for(var j=0,k=0;k<i;k++)j+=Math.random();return j/i;};}};f.exports=h;},null);
__d("d3/core/selection-append",["d3/core/selection","d3/core/core","d3/core/ns"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype,i=c("d3\/core\/core")._document;h.append=function(j){j=c("d3/core/ns").qualify(j);function k(){return this.appendChild(i.createElementNS(this.namespaceURI,j));}function l(){return this.appendChild(i.createElementNS(j.space,j.local));}return this.select(j.local?l:k);};},null);
__d("d3/core/selection-attr",["d3/core/selection","d3/core/ns"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.attr=function(j,k){if(arguments.length<2){if(typeof j==="string"){var l=this.node();j=c("d3/core/ns").qualify(j);return j.local?l.getAttributeNS(j.space,j.local):l.getAttribute(j);}for(k in j)this.each(i(k,j[k]));return this;}return this.each(i(j,k));};function i(j,k){j=c("d3/core/ns").qualify(j);function l(){this.removeAttribute(j);}function m(){this.removeAttributeNS(j.space,j.local);}function n(){this.setAttribute(j,k);}function o(){this.setAttributeNS(j.space,j.local,k);}function p(){var r=k.apply(this,arguments);if(r==null){this.removeAttribute(j);}else this.setAttribute(j,r);}function q(){var r=k.apply(this,arguments);if(r==null){this.removeAttributeNS(j.space,j.local);}else this.setAttributeNS(j.space,j.local,r);}return k==null?j.local?m:l:typeof k==="function"?j.local?q:p:j.local?o:n;}},null);
__d("d3/core/selection-call",["d3/core/selection","d3/core/array"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype,i=c("d3\/core\/array")._array;h.call=function(j){var k=i(arguments);j.apply(k[0]=this,k);return this;};},null);
__d("d3/core/selection-classed",["d3/core/selection","d3/core/collapse","d3/core/requote"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype,i=c("d3\/core\/collapse")._collapse;h.classed=function(m,n){if(arguments.length<2){if(typeof m==="string"){var o=this.node(),p=(m=m.trim().split(/^|\s+/g)).length,q=-1;if(n=o.classList){while(++q<p)if(!n.contains(m[q]))return false;}else{n=o.className;if(n.baseVal!=null)n=n.baseVal;while(++q<p)if(!j(m[q]).test(n))return false;}return true;}for(n in m)this.each(k(n,m[n]));return this;}return this.each(k(m,n));};function j(m){return new RegExp("(?:^|\\s+)"+c("d3/core/requote")(m)+"(?:\\s+|$)","g");}function k(m,n){m=m.trim().split(/\s+/).map(l);var o=m.length;function p(){var r=-1;while(++r<o)m[r](this,n);}function q(){var r=-1,s=n.apply(this,arguments);while(++r<o)m[r](this,s);}return typeof n==="function"?q:p;}function l(m){var n=j(m);return function(o,p){if(q=o.classList)return p?q.add(m):q.remove(m);var q=o.className,r=q.baseVal!=null,s=r?q.baseVal:q;if(p){n.lastIndex=0;if(!n.test(s)){s=i(s+" "+m);if(r){q.baseVal=s;}else o.className=s;}}else if(s){s=i(s.replace(n," "));if(r){q.baseVal=s;}else o.className=s;}};}},null);
__d("d3/core/selection-enter",["d3/core/array","d3/core/selection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/array")._arraySubclass,i=c("d3\/core\/selection")._selectionPrototype;function j(m){h(m,k);return m;}var k=[],l=j;l.prototype=k;k.append=i.append;k.insert=i.insert;k.empty=i.empty;k.node=i.node;l._enterPrototype=k;l._enter=j;f.exports=l;},null);
__d("d3/core/selection-data",["d3/core/selection","d3/core/map","d3/core/selection-enter"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/selection")._selectionPrototype,i=c("d3\/core\/map")._Map,j=c("d3/core/selection")._selection;h.data=function(l,m){var n=-1,o=this.length,p,q;if(!arguments.length){l=new Array(o=(p=this[0]).length);while(++n<o)if(q=p[n])l[n]=q.__data__;return l;}function r(v,w){var x,y=v.length,z=w.length,aa=Math.min(y,z),ba=new Array(z),ca=new Array(z),da=new Array(y),ea,fa;if(m){var ga=new i(),ha=new i(),ia=[],ja;for(x=-1;++x<y;){ja=m.call(ea=v[x],ea.__data__,x);if(ga.has(ja)){da[x]=ea;}else ga.set(ja,ea);ia.push(ja);}for(x=-1;++x<z;){ja=m.call(w,fa=w[x],x);if(ea=ga.get(ja)){ba[x]=ea;ea.__data__=fa;}else if(!ha.has(ja))ca[x]=k(fa);ha.set(ja,fa);ga.remove(ja);}for(x=-1;++x<y;)if(ga.has(ia[x]))da[x]=v[x];}else{for(x=-1;++x<aa;){ea=v[x];fa=w[x];if(ea){ea.__data__=fa;ba[x]=ea;}else ca[x]=k(fa);}for(;x<z;++x)ca[x]=k(w[x]);for(;x<y;++x)da[x]=v[x];}ca.update=ba;ca.parentNode=ba.parentNode=da.parentNode=v.parentNode;s.push(ca);t.push(ba);u.push(da);}var s=c("d3\/core\/selection-enter")._enter([]),t=j([]),u=j([]);if(typeof l==="function"){while(++n<o)r(p=this[n],l.call(p,p.parentNode.__data__,n));}else while(++n<o)r(p=this[n],l);t.enter=function(){return s;};t.exit=function(){return u;};return t;};function k(l){return {__data__:l};}},null);
__d("d3/core/selection-datum",["d3/core/selection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.datum=function(i){return arguments.length?this.property("__data__",i):this.property("__data__");};},null);
__d("d3/core/selection-each",["d3/core/selection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.each=function(j){return i(this,function(k,l,m){j.call(k,k.__data__,l,m);});};function i(j,k){for(var l=0,m=j.length;l<m;l++)for(var n=j[l],o=0,p=n.length,q;o<p;o++)if(q=n[o])k(q,o,l);return j;}g._each=i;},null);
__d("d3/core/selection-empty",["d3/core/selection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.empty=function(){return !this.node();};},null);
__d("d3/core/selection-enter-select",["d3/core/selection","d3/core/selection-enter"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selection;c("d3\/core\/selection-enter")._enterPrototype.select=function(i){var j=[],k,l,m,n,o;for(var p=-1,q=this.length;++p<q;){m=(n=this[p]).update;j.push(k=[]);k.parentNode=n.parentNode;for(var r=-1,s=n.length;++r<s;)if(o=n[r]){k.push(m[r]=l=i.call(n.parentNode,o.__data__,r));l.__data__=o.__data__;}else k.push(null);}return h(j);};},null);
__d("d3/core/selection-filter",["d3/core/selection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/selection")._selectionPrototype,i=c("d3/core/selection")._selection,j=c("d3/core/selection")._selectMatches;h.filter=function(l){var m=[],n,o,p;if(typeof l!=="function")l=k(l);for(var q=0,r=this.length;q<r;q++){m.push(n=[]);n.parentNode=(o=this[q]).parentNode;for(var s=0,t=o.length;s<t;s++)if((p=o[s])&&l.call(p,p.__data__,s))n.push(p);}return i(m);};function k(l){return function(){return j(this,l);};}g._filter=k;},null);
__d("d3/core/selection-html",["d3/core/selection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.html=function(i){return arguments.length?this.each(typeof i==="function"?function(){var j=i.apply(this,arguments);this.innerHTML=j==null?"":j;}:i==null?function(){this.innerHTML="";}:function(){this.innerHTML=i;}):this.node().innerHTML;};},null);
__d("d3/core/selection-insert",["d3/core/selection","d3/core/core","d3/core/ns"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/selection")._selectionPrototype,i=c("d3\/core\/core")._document,j=c("d3/core/selection")._select;h.insert=function(k,l){k=c("d3/core/ns").qualify(k);function m(){return this.insertBefore(i.createElementNS(this.namespaceURI,k),j(l,this));}function n(){return this.insertBefore(i.createElementNS(k.space,k.local),j(l,this));}return this.select(k.local?n:m);};},null);
__d("d3/core/selection-node",["d3/core/selection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.node=function(){for(var i=0,j=this.length;i<j;i++)for(var k=this[i],l=0,m=k.length;l<m;l++){var n=k[l];if(n)return n;}return null;};},null);
__d("d3/core/selection-on",["d3/core/selection","d3/core/array","d3/core/core"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype,i=c("d3\/core\/array")._array;h.on=function(k,l,m){var n=arguments.length;if(n<3){if(typeof k!=="string"){if(n<2)l=false;for(m in k)this.each(j(m,k[m],l));return this;}if(n<2)return (n=this.node()["__on"+k])&&n._;m=false;}return this.each(j(k,l,m));};function j(k,l,m){var n="__on"+k,o=k.indexOf(".");if(o>0)k=k.substring(0,o);function p(){var r=this[n];if(r){this.removeEventListener(k,r,r.$);delete this[n];}}function q(){var r=this,s=i(arguments);p.call(this);this.addEventListener(k,this[n]=t,t.$=m);t._=l;function t(u){var v=c("d3/core/core").event;c("d3/core/core").event=u;s[0]=r.__data__;try{l.apply(r,s);}finally{c("d3/core/core").event=v;}}}return l?q:p;}},null);
__d("d3/core/selection-order",["d3/core/selection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.order=function(){for(var i=-1,j=this.length;++i<j;)for(var k=this[i],l=k.length-1,m=k[l],n;--l>=0;)if(n=k[l]){if(m&&m!==n.nextSibling)m.parentNode.insertBefore(n,m);m=n;}return this;};},null);
__d("d3/core/selection-property",["d3/core/selection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.property=function(j,k){if(arguments.length<2){if(typeof j==="string")return this.node()[j];for(k in j)this.each(i(k,j[k]));return this;}return this.each(i(j,k));};function i(j,k){function l(){delete this[j];}function m(){this[j]=k;}function n(){var o=k.apply(this,arguments);if(o==null){delete this[j];}else this[j]=o;}return k==null?l:typeof k==="function"?n:m;}},null);
__d("d3/core/selection-remove",["d3/core/selection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.remove=function(){return this.each(function(){var i=this.parentNode;if(i)i.removeChild(this);});};},null);
__d("d3/core/selection-select",["d3/core/selection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/selection")._selectionPrototype,i=c("d3/core/selection")._selection,j=c("d3/core/selection")._select;h.select=function(l){var m=[],n,o,p,q;if(typeof l!=="function")l=k(l);for(var r=-1,s=this.length;++r<s;){m.push(n=[]);n.parentNode=(p=this[r]).parentNode;for(var t=-1,u=p.length;++t<u;)if(q=p[t]){n.push(o=l.call(q,q.__data__,t));if(o&&"__data__" in q)o.__data__=q.__data__;}else n.push(null);}return i(m);};function k(l){return function(){return j(l,this);};}g._selector=k;},null);
__d("d3/core/selection-selectAll",["d3/core/selection","d3/core/array"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/selection")._selectionPrototype,i=c("d3\/core\/array")._array,j=c("d3/core/selection")._selection,k=c("d3/core/selection")._selectAll;h.selectAll=function(m){var n=[],o,p;if(typeof m!=="function")m=l(m);for(var q=-1,r=this.length;++q<r;)for(var s=this[q],t=-1,u=s.length;++t<u;)if(p=s[t]){n.push(o=i(m.call(p,p.__data__,t)));o.parentNode=p;}return j(n);};function l(m){return function(){return k(m,this);};}g._selectorAll=l;},null);
__d("d3/core/selection-sort",["d3/core/selection","d3/core/ascending"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.sort=function(j){j=i.apply(this,arguments);for(var k=-1,l=this.length;++k<l;)this[k].sort(j);return this.order();};function i(j){if(!arguments.length)j=c("d3/core/ascending");return function(k,l){return !k-!l||j(k.__data__,l.__data__);};}},null);
__d("d3/core/selection-style",["d3/core/selection","d3/core/core"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype,i=c("d3\/core\/core")._window;h.style=function(k,l,m){var n=arguments.length;if(n<3){if(typeof k!=="string"){if(n<2)l="";for(m in k)this.each(j(m,k[m],l));return this;}if(n<2)return i.getComputedStyle(this.node(),null).getPropertyValue(k);m="";}return this.each(j(k,l,m));};function j(k,l,m){function n(){this.style.removeProperty(k);}function o(){this.style.setProperty(k,l,m);}function p(){var q=l.apply(this,arguments);if(q==null){this.style.removeProperty(k);}else this.style.setProperty(k,q,m);}return l==null?n:typeof l==="function"?p:o;}},null);
__d("d3/core/selection-text",["d3/core/selection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype;h.text=function(i){return arguments.length?this.each(typeof i==="function"?function(){var j=i.apply(this,arguments);this.textContent=j==null?"":j;}:i==null?function(){this.textContent="";}:function(){this.textContent=i;}):this.node().textContent;};},null);
__d("d3/core/timer",["d3/core/core"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._window,i=0,j={},k=null,l,m,n=function(r,s,t){if(arguments.length<3){if(arguments.length<2){s=0;}else if(!isFinite(s))return;t=Date.now();}var u=j[r.id];if(u&&u.callback===r){u.then=t;u.delay=s;}else j[r.id=++i]=k={callback:r,then:t,delay:s,next:k};if(!l){m=clearTimeout(m);l=1;q(o);}};function o(){var r,s=Date.now(),t=k;while(t){r=s-t.then;if(r>=t.delay)t.flush=t.callback(r);t=t.next;}var u=p()-s;if(u>24){if(isFinite(u)){clearTimeout(m);m=setTimeout(o,u);}l=0;}else{l=1;q(o);}}n.flush=function(){var r,s=Date.now(),t=k;while(t){r=s-t.then;if(!t.delay)t.flush=t.callback(r);t=t.next;}p();};function p(){var r=null,s=k,t=Infinity;while(s)if(s.flush){delete j[s.callback.id];s=r?r.next=s.next:k=s.next;}else{t=Math.min(t,s.then+s.delay);s=(r=s).next;}return t;}var q=h.requestAnimationFrame||h.webkitRequestAnimationFrame||h.mozRequestAnimationFrame||h.oRequestAnimationFrame||h.msRequestAnimationFrame||function(r){setTimeout(r,17);};f.exports=n;},null);
__d("d3/core/transition",["d3/core/array","d3/core/ease","d3/core/selection","d3/core/selection-root","d3/core/map","d3/core/dispatch","d3/core/timer"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/array")._arraySubclass,i=c("d3\/core\/ease")._cubicInOut,j=c("d3\/core\/selection")._selectionPrototype,k=c("d3\/core\/selection-root")._selectionRoot,l=c("d3\/core\/map")._Map;function m(t,u){h(t,n);t.id=u;return t;}var n=[],o=0,p,q={ease:i,delay:0,duration:250};n.call=j.call;n.empty=j.empty;n.node=j.node;var r=function(t){return arguments.length?r._transitionInheritId?t.transition():t:k.transition();};r.prototype=n;function s(t,u,v,w){var x=t.__transition__||(t.__transition__={active:0,count:0}),y=x[v];if(!y){var z=w.time;y=x[v]={tween:new l(),event:c("d3/core/dispatch")("start","end"),time:z,ease:w.ease,delay:w.delay,duration:w.duration};++x.count;c("d3/core/timer")(function(aa){var ba=t.__data__,ca=y.ease,event=y.event,da=y.delay,ea=y.duration,fa=[];return da<=aa?ga(aa):c("d3/core/timer")(ga,da,z),1;function ga(ja){if(x.active>v)return ia();x.active=v;event.start.call(t,ba,u);y.tween.forEach(function(ka,la){if(la=la.call(t,ba,u))fa.push(la);});if(!ha(ja))c("d3/core/timer")(ha,0,z);return 1;}function ha(ja){if(x.active!==v)return ia();var ka=(ja-da)/ea,la=ca(ka),ma=fa.length;while(ma>0)fa[--ma].call(t,la);if(ka>=1){ia();event.end.call(t,ba,u);return 1;}}function ia(){if(--x.count){delete x[v];}else delete t.__transition__;return 1;}},0,z);return y;}}r._transitionPrototype=n;r._transitionId=o;r._transitionInheritId=p;r._transitionInherit=q;r._transition=m;r._transitionNode=s;f.exports=r;},null);
__d("d3/core/selection-transition",["d3/core/transition","d3/core/selection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/selection")._selectionPrototype,i=c("d3/core/transition")._transitionNode,j=c("d3/core/transition")._transition;h.transition=function(){var k=c("d3/core/transition")._transitionInheritId||++c("d3/core/transition")._transitionId,l=[],m,n,o=Object.create(c("d3/core/transition")._transitionInherit);o.time=Date.now();for(var p=-1,q=this.length;++p<q;){l.push(m=[]);for(var r=this[p],s=-1,t=r.length;++s<t;){if(n=r[s])i(n,s,k,o);m.push(n);}}return j(l,k);};},null);
__d("d3/core/shuffle",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(i){var j=i.length,k,l;while(j){l=Math.random()*j--|0;k=i[j],i[j]=i[l],i[l]=k;}return i;};f.exports=h;},null);
__d("d3/core/sum",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(i,j){var k=0,l=i.length,m,n=-1;if(arguments.length===1){while(++n<l)if(!isNaN(m=+i[n]))k+=m;}else while(++n<l)if(!isNaN(m=+j.call(i,i[n],n)))k+=m;return k;};f.exports=h;},null);
__d("d3/core/text",["d3/core/xhr","d3/core/core"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(){return c("d3/core/xhr").apply(c("d3/core/core"),arguments).response(i);};function i(j){return j.responseText;}f.exports=h;},null);
__d("d3/core/transition-tween",["d3/core/transition","d3/core/selection-each"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/transition")._transitionPrototype,i=c("d3\/core\/selection-each")._each;h.tween=function(k,l){var m=this.id;if(arguments.length<2)return this.node().__transition__[m].tween.get(k);return i(this,l==null?function(n){n.__transition__[m].tween.remove(k);}:function(n){n.__transition__[m].tween.set(k,l);});};function j(k,l,m,n){var o=k.id;return i(k,typeof m==="function"?function(p,q,r){p.__transition__[o].tween.set(l,n(m.call(p,p.__data__,q,r)));}:(m=n(m),function(p){p.__transition__[o].tween.set(l,m);}));}g._tween=j;},null);
__d("d3/core/transition-attr",["d3/core/transition","d3/core/interpolate","d3/core/ns","d3/core/transition-tween"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/transition")._transitionPrototype,i=c("d3\/core\/interpolate")._interpolateByName;h.attr=function(j,k){if(arguments.length<2){for(k in j)this.attr(k,j[k]);return this;}var l=i(j),m=c("d3/core/ns").qualify(j);function n(){this.removeAttribute(m);}function o(){this.removeAttributeNS(m.space,m.local);}return c("d3\/core\/transition-tween")._tween(this,"attr."+j,k,function(p){function q(){var s=this.getAttribute(m),t;return s!==p&&(t=l(s,p),function(u){this.setAttribute(m,t(u));});}function r(){var s=this.getAttributeNS(m.space,m.local),t;return s!==p&&(t=l(s,p),function(u){this.setAttributeNS(m.space,m.local,t(u));});}return p==null?m.local?o:n:(p+="",m.local?r:q);});};h.attrTween=function(j,k){var l=c("d3/core/ns").qualify(j);function m(o,p){var q=k.call(this,o,p,this.getAttribute(l));return q&&function(r){this.setAttribute(l,q(r));};}function n(o,p){var q=k.call(this,o,p,this.getAttributeNS(l.space,l.local));return q&&function(r){this.setAttributeNS(l.space,l.local,q(r));};}return this.tween("attr."+j,l.local?n:m);};},null);
__d("d3/core/transition-delay",["d3/core/transition","d3/core/selection-each"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/transition")._transitionPrototype,i=c("d3\/core\/selection-each")._each;h.delay=function(j){var k=this.id;return i(this,typeof j==="function"?function(l,m,n){l.__transition__[k].delay=j.call(l,l.__data__,m,n)|0;}:(j|=0,function(l){l.__transition__[k].delay=j;}));};},null);
__d("d3/core/transition-duration",["d3/core/transition","d3/core/selection-each"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/transition")._transitionPrototype,i=c("d3\/core\/selection-each")._each;h.duration=function(j){var k=this.id;return i(this,typeof j==="function"?function(l,m,n){l.__transition__[k].duration=Math.max(1,j.call(l,l.__data__,m,n)|0);}:(j=Math.max(1,j|0),function(l){l.__transition__[k].duration=j;}));};},null);
__d("d3/core/transition-each",["d3/core/transition","d3/core/selection-each"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/transition")._transitionPrototype,i=c("d3\/core\/selection-each")._each;h.each=function(j,k){var l=this.id;if(arguments.length<2){var m=c("d3/core/transition")._transitionInherit,n=c("d3/core/transition")._transitionInheritId;c("d3/core/transition")._transitionInheritId=l;i(this,function(o,p,q){c("d3/core/transition")._transitionInherit=o.__transition__[l];j.call(o,o.__data__,p,q);});c("d3/core/transition")._transitionInherit=m;c("d3/core/transition")._transitionInheritId=n;}else i(this,function(o){o.__transition__[l].event.on(j,k);});return this;};},null);
__d("d3/core/transition-ease",["d3/core/transition","d3/core/selection-each","d3/core/ease","d3/core/core"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/transition")._transitionPrototype,i=c("d3\/core\/selection-each")._each;h.ease=function(j){var k=this.id;if(arguments.length<1)return this.node().__transition__[k].ease;if(typeof j!=="function")j=c("d3/core/ease").apply(c("d3/core/core"),arguments);return i(this,function(l){l.__transition__[k].ease=j;});};},null);
__d("d3/core/transition-filter",["d3/core/transition","d3/core/selection-filter"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/transition")._transitionPrototype,i=c("d3\/core\/selection-filter")._filter,j=c("d3/core/transition")._transition;h.filter=function(k){var l=[],m,n,o;if(typeof k!=="function")k=i(k);for(var p=0,q=this.length;p<q;p++){l.push(m=[]);for(var n=this[p],r=0,s=n.length;r<s;r++)if((o=n[r])&&k.call(o,o.__data__,r))m.push(o);}return j(l,this.id,this.time).ease(this.ease());};},null);
__d("d3/core/transition-remove",["d3/core/transition"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/transition")._transitionPrototype;h.remove=function(){return this.each("end.transition",function(){var i;if(!this.__transition__&&(i=this.parentNode))i.removeChild(this);});};},null);
__d("d3/core/transition-select",["d3/core/transition","d3/core/selection-select"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/transition")._transitionPrototype,i=c("d3\/core\/selection-select")._selector,j=c("d3/core/transition")._transitionNode,k=c("d3/core/transition")._transition;h.select=function(l){var m=this.id,n=[],o,p,q;if(typeof l!=="function")l=i(l);for(var r=-1,s=this.length;++r<s;){n.push(o=[]);for(var t=this[r],u=-1,v=t.length;++u<v;)if((q=t[u])&&(p=l.call(q,q.__data__,u))){if("__data__" in q)p.__data__=q.__data__;j(p,u,m,q.__transition__[m]);o.push(p);}else o.push(null);}return k(n,m);};},null);
__d("d3/core/transition-selectAll",["d3/core/transition","d3/core/selection-selectAll"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/transition")._transitionPrototype,i=c("d3\/core\/selection-selectAll")._selectorAll,j=c("d3/core/transition")._transitionNode,k=c("d3/core/transition")._transition;h.selectAll=function(l){var m=this.id,n=[],o,p,q,r,s;if(typeof l!=="function")l=i(l);for(var t=-1,u=this.length;++t<u;)for(var v=this[t],w=-1,x=v.length;++w<x;)if(q=v[w]){s=q.__transition__[m];p=l.call(q,q.__data__,w);n.push(o=[]);for(var y=-1,z=p.length;++y<z;){j(r=p[y],y,m,s);o.push(r);}}return k(n,m);};},null);
__d("d3/core/transition-style",["d3/core/transition","d3/core/interpolate","d3/core/core","d3/core/transition-tween"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/transition")._transitionPrototype,i=c("d3\/core\/interpolate")._interpolateByName,j=c("d3\/core\/core")._window;h.style=function(k,l,m){var n=arguments.length;if(n<3){if(typeof k!=="string"){if(n<2)l="";for(m in k)this.style(m,k[m],l);return this;}m="";}var o=i(k);function p(){this.style.removeProperty(k);}return c("d3\/core\/transition-tween")._tween(this,"style."+k,l,function(q){function r(){var s=j.getComputedStyle(this,null).getPropertyValue(k),t;return s!==q&&(t=o(s,q),function(u){this.style.setProperty(k,t(u),m);});}return q==null?p:(q+="",r);});};h.styleTween=function(k,l,m){if(arguments.length<3)m="";return this.tween("style."+k,function(n,o){var p=l.call(this,n,o,j.getComputedStyle(this,null).getPropertyValue(k));return p&&function(q){this.style.setProperty(k,p(q),m);};});};},null);
__d("d3/core/transition-text",["d3/core/transition","d3/core/transition-tween"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/transition")._transitionPrototype;h.text=function(j){return c("d3\/core\/transition-tween")._tween(this,"text",j,i);};function i(j){if(j==null)j="";return function(){this.textContent=j;};}},null);
__d("d3/core/transition-transition",["d3/core/transition"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/transition")._transitionPrototype,i=c("d3/core/transition")._transitionNode,j=c("d3/core/transition")._transition;h.transition=function(){var k=this.id,l=++c("d3/core/transition")._transitionId,m=[],n,o,p,q;for(var r=0,s=this.length;r<s;r++){m.push(n=[]);for(var o=this[r],t=0,u=o.length;t<u;t++){if(p=o[t]){q=Object.create(p.__transition__[k]);q.delay+=q.duration;i(p,t,l,q);}n.push(p);}}return j(m,l);};},null);
__d("d3/core/zip",["d3/core/min"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(){if(!(n=arguments.length))return [];for(var j=-1,k=c("d3/core/min")(arguments,i),l=new Array(k);++j<k;)for(var m=-1,n,o=l[j]=new Array(n);++m<n;)o[m]=arguments[m][j];return l;};function i(j){return j.length;}f.exports=h;},null);
__d("d3/core/transpose",["d3/core/zip","d3/core/core"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(i){return c("d3/core/zip").apply(c("d3/core/core"),i);};f.exports=h;},null);
__d("d3/core/true",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){return true;}g._true=h;},null);
__d("d3/core/values",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(i){var j=[];for(var k in i)if(i.hasOwnProperty(k))j.push(i[k]);return j;};f.exports=h;},null);
__d("d3/core/xml",["d3/core/xhr","d3/core/core"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(){return c("d3/core/xhr").apply(c("d3/core/core"),arguments).response(i);};function i(j){return j.responseXML;}f.exports=h;},null);
__d("d3/d3.behavior",["d3/behavior/behavior","d3/behavior/drag","d3/behavior/zoom"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c("d3/behavior/behavior").drag=c("d3\/behavior\/drag");c("d3/behavior/behavior").zoom=c("d3\/behavior\/zoom");f.exports=c("d3/behavior/behavior");},null);
__d("d3/d3.core",["d3/compat/date","d3/compat/style","d3/core/selection-attr","d3/core/selection-classed","d3/core/selection-style","d3/core/selection-property","d3/core/selection-text","d3/core/selection-html","d3/core/selection-append","d3/core/selection-insert","d3/core/selection-remove","d3/core/selection-data","d3/core/selection-datum","d3/core/selection-order","d3/core/selection-sort","d3/core/selection-on","d3/core/selection-call","d3/core/selection-empty","d3/core/selection-node","d3/core/selection-transition","d3/core/selection-enter-select","d3/core/transition-select","d3/core/transition-selectAll","d3/core/transition-filter","d3/core/transition-attr","d3/core/transition-style","d3/core/transition-text","d3/core/transition-remove","d3/core/transition-ease","d3/core/transition-delay","d3/core/transition-duration","d3/core/transition-each","d3/core/transition-transition","d3/core/core","d3/core/map","d3/core/functor","d3/core/rebind","d3/core/ascending","d3/core/descending","d3/core/mean","d3/core/median","d3/core/min","d3/core/max","d3/core/extent","d3/core/random","d3/core/sum","d3/core/quantile","d3/core/shuffle","d3/core/transpose","d3/core/zip","d3/core/bisect","d3/core/nest","d3/core/keys","d3/core/values","d3/core/entries","d3/core/permute","d3/core/merge","d3/core/range","d3/core/requote","d3/core/round","d3/core/xhr","d3/core/text","d3/core/json","d3/core/html","d3/core/xml","d3/core/ns","d3/core/dispatch","d3/core/format","d3/core/formatPrefix","d3/core/ease","d3/core/transform","d3/core/interpolate","d3/core/rgb","d3/core/hsl","d3/core/hcl","d3/core/lab","d3/core/selection","d3/core/selection-root","d3/core/selection-enter","d3/core/transition","d3/core/timer","d3/core/mouse","d3/core/touches"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c("d3\/compat\/date");c("d3\/compat\/style");c("d3\/core\/selection-attr");c("d3\/core\/selection-classed");c("d3\/core\/selection-style");c("d3\/core\/selection-property");c("d3\/core\/selection-text");c("d3\/core\/selection-html");c("d3\/core\/selection-append");c("d3\/core\/selection-insert");c("d3\/core\/selection-remove");c("d3\/core\/selection-data");c("d3\/core\/selection-datum");c("d3\/core\/selection-order");c("d3\/core\/selection-sort");c("d3\/core\/selection-on");c("d3\/core\/selection-call");c("d3\/core\/selection-empty");c("d3\/core\/selection-node");c("d3\/core\/selection-transition");c("d3\/core\/selection-enter-select");c("d3\/core\/transition-select");c("d3\/core\/transition-selectAll");c("d3\/core\/transition-filter");c("d3\/core\/transition-attr");c("d3\/core\/transition-style");c("d3\/core\/transition-text");c("d3\/core\/transition-remove");c("d3\/core\/transition-ease");c("d3\/core\/transition-delay");c("d3\/core\/transition-duration");c("d3\/core\/transition-each");c("d3\/core\/transition-transition");c("d3/core/core").map=c("d3\/core\/map");c("d3/core/core").functor=c("d3\/core\/functor");c("d3/core/core").rebind=c("d3\/core\/rebind");c("d3/core/core").ascending=c("d3\/core\/ascending");c("d3/core/core").descending=c("d3\/core\/descending");c("d3/core/core").mean=c("d3\/core\/mean");c("d3/core/core").median=c("d3\/core\/median");c("d3/core/core").min=c("d3\/core\/min");c("d3/core/core").max=c("d3\/core\/max");c("d3/core/core").extent=c("d3\/core\/extent");c("d3/core/core").random=c("d3\/core\/random");c("d3/core/core").sum=c("d3\/core\/sum");c("d3/core/core").quantile=c("d3\/core\/quantile");c("d3/core/core").shuffle=c("d3\/core\/shuffle");c("d3/core/core").transpose=c("d3\/core\/transpose");c("d3/core/core").zip=c("d3\/core\/zip");c("d3/core/core").bisect=c("d3\/core\/bisect");c("d3/core/core").bisector=c("d3\/core\/bisect").or;c("d3/core/core").bisectLeft=c("d3\/core\/bisect").left;c("d3/core/core").bisectRight=c("d3\/core\/bisect").right;c("d3/core/core").nest=c("d3\/core\/nest");c("d3/core/core").keys=c("d3\/core\/keys");c("d3/core/core").values=c("d3\/core\/values");c("d3/core/core").entries=c("d3\/core\/entries");c("d3/core/core").permute=c("d3\/core\/permute");c("d3/core/core").merge=c("d3\/core\/merge");c("d3/core/core").range=c("d3\/core\/range");c("d3/core/core").requote=c("d3\/core\/requote");c("d3/core/core").round=c("d3\/core\/round");c("d3/core/core").xhr=c("d3\/core\/xhr");c("d3/core/core").text=c("d3\/core\/text");c("d3/core/core").json=c("d3\/core\/json");c("d3/core/core").html=c("d3\/core\/html");c("d3/core/core").xml=c("d3\/core\/xml");c("d3/core/core").ns=c("d3\/core\/ns");c("d3/core/core").dispatch=c("d3\/core\/dispatch");c("d3/core/core").format=c("d3\/core\/format");c("d3/core/core").formatPrefix=c("d3\/core\/formatPrefix");c("d3/core/core").ease=c("d3\/core\/ease");c("d3/core/core").transform=c("d3\/core\/transform");c("d3/core/core").interpolate=c("d3\/core\/interpolate");c("d3/core/core").interpolators=c("d3\/core\/interpolate").interpolators;c("d3/core/core").interpolateRgb=c("d3\/core\/interpolate").rgb;c("d3/core/core").interpolateLab=c("d3\/core\/interpolate").lab;c("d3/core/core").interpolateHcl=c("d3\/core\/interpolate").hcl;c("d3/core/core").interpolateHsl=c("d3\/core\/interpolate").hsl;c("d3/core/core").interpolateRound=c("d3\/core\/interpolate").round;c("d3/core/core").interpolateArray=c("d3\/core\/interpolate").array;c("d3/core/core").interpolateString=c("d3\/core\/interpolate").string;c("d3/core/core").interpolateNumber=c("d3\/core\/interpolate").number;c("d3/core/core").interpolateObject=c("d3\/core\/interpolate").object;c("d3/core/core").interpolateTransform=c("d3\/core\/interpolate").transform;c("d3/core/core").rgb=c("d3\/core\/rgb");c("d3/core/core").hsl=c("d3\/core\/hsl");c("d3/core/core").hcl=c("d3\/core\/hcl");c("d3/core/core").lab=c("d3\/core\/lab");c("d3/core/core").selection=c("d3\/core\/selection");c("d3/core/core").select=c("d3\/core\/selection-root");c("d3/core/core").selectAll=c("d3\/core\/selection-root").all;c("d3/core/core").selection.enter=c("d3\/core\/selection-enter");c("d3/core/core").transition=c("d3\/core\/transition");c("d3/core/core").timer=c("d3\/core\/timer");c("d3/core/core").mouse=c("d3\/core\/mouse");c("d3/core/core").touches=c("d3\/core\/touches");f.exports=c("d3/core/core");},null);
__d("d3/dsv/dsv",["d3/core/xhr"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){var k=new RegExp("[\""+i+"\n]"),l=i.charCodeAt(0);function m(q,r){return c("d3/core/xhr")(q,j,r).response(n);}function n(q){return m.parse(q.responseText);}m.parse=function(q){var r;return m.parseRows(q,function(s){if(r)return r(s);r=new Function("d","return {"+s.map(function(t,u){return JSON.stringify(t)+": d["+u+"]";}).join(",")+"}");});};m.parseRows=function(q,r){var s={},t={},u=[],v=q.length,w=0,x=0,y,z;function aa(){if(w>=v)return t;if(z)return z=false,s;var ca=w;if(q.charCodeAt(ca)===34){var da=ca;while(da++<v)if(q.charCodeAt(da)===34){if(q.charCodeAt(da+1)!==34)break;++da;}w=da+2;var ea=q.charCodeAt(da+1);if(ea===13){z=true;if(q.charCodeAt(da+2)===10)++w;}else if(ea===10)z=true;return q.substring(ca+1,da).replace(/""/g,"\"");}while(w<v){var ea=q.charCodeAt(w++),fa=1;if(ea===10){z=true;}else if(ea===13){z=true;if(q.charCodeAt(w)===10)++w,++fa;}else if(ea!==l)continue;return q.substring(ca,w-fa);}return q.substring(ca);}while((y=aa())!==t){var ba=[];while(y!==s&&y!==t){ba.push(y);y=aa();}if(r&&!(ba=r(ba,x++)))continue;u.push(ba);}return u;};m.format=function(q){return q.map(o).join("\n");};function o(q){return q.map(p).join(i);}function p(q){return k.test(q)?"\""+q.replace(/\"/g,"\"\"")+"\"":q;}return m;}g._dsv=h;},null);
__d("d3/dsv/csv",["d3/dsv/dsv"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/dsv\/dsv")._dsv,i=h(",","text/csv");f.exports=i;},null);
__d("d3/dsv/tsv",["d3/dsv/dsv"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/dsv\/dsv")._dsv,i=h("\t","text/tab-separated-values");f.exports=i;},null);
__d("d3/d3.dsv",["d3/core/core","d3/dsv/csv","d3/dsv/tsv"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c("d3/core/core").csv=c("d3\/dsv\/csv");c("d3/core/core").tsv=c("d3\/dsv\/tsv");f.exports=c("d3/core/core");},null);
__d("d3/geo/cartesian",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(n){var o=n[0],p=n[1],q=Math.cos(p);return [q*Math.cos(o),q*Math.sin(o),Math.sin(p)];}function i(n,o){return n[0]*o[0]+n[1]*o[1]+n[2]*o[2];}function j(n,o){return [n[1]*o[2]-n[2]*o[1],n[2]*o[0]-n[0]*o[2],n[0]*o[1]-n[1]*o[0]];}function k(n,o){n[0]+=o[0];n[1]+=o[1];n[2]+=o[2];}function l(n,o){return [n[0]*o,n[1]*o,n[2]*o];}function m(n){var o=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=o;n[1]/=o;n[2]/=o;}g._cartesian=h;g._cartesianDot=i;g._cartesianCross=j;g._cartesianAdd=k;g._cartesianScale=l;g._cartesianNormalize=m;},null);
__d("d3/geo/spherical",["d3/core/core"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._u03b5;function i(k){return [Math.atan2(k[1],k[0]),Math.asin(Math.max(-1,Math.min(1,k[2])))];}function j(k,l){return Math.abs(k[0]-l[0])<h&&Math.abs(k[1]-l[1])<h;}g._spherical=i;g._sphericalEqual=j;},null);
__d("d3/geo/circle",["d3/core/core","d3/geo/cartesian","d3/geo/spherical","d3/geo/rotation"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/core")._radians,i=c("d3/core/core")._degrees,j=c("d3/core/core")._u03c0,k=c("d3\/geo\/spherical")._spherical,l=c("d3/geo/cartesian")._cartesian,m=c("d3/geo/cartesian")._cartesianNormalize,n=c("d3/core/core")._u03b5,o=function(){var r=[0,0],s,t=6,u;function v(){var w=typeof r==="function"?r.apply(this,arguments):r,x=c("d3\/geo\/rotation")._rotation(-w[0]*h,-w[1]*h,0).invert,y=[];u(null,null,1,{point:function(z,aa){y.push(z=x(z,aa));z[0]*=i,z[1]*=i;}});return {type:"Polygon",coordinates:[y]};}v.origin=function(w){if(!arguments.length)return r;r=w;return v;};v.angle=function(w){if(!arguments.length)return s;u=p((s=+w)*h,t*h);return v;};v.precision=function(w){if(!arguments.length)return t;u=p(s*h,(t=+w)*h);return v;};return v.angle(90);};function p(r,s){var t=Math.cos(r),u=Math.sin(r);return function(v,w,x,y){if(v!=null){v=q(t,v);w=q(t,w);if(x>0?v<w:v>w)v+=x*2*j;}else{v=r+x*2*j;w=r;}var z;for(var aa=x*s,ba=v;x>0?ba>w:ba<w;ba-=aa)y.point((z=k([t,-u*Math.cos(ba),-u*Math.sin(ba)]))[0],z[1]);};}function q(r,s){var t=l(s);t[0]-=r;m(t);var u=Math.acos(Math.max(-1,Math.min(1,-t[1])));return ((-t[2]<0?-u:u)+2*Math.PI-n)%(2*Math.PI);}o._circleInterpolate=p;f.exports=o;},null);
__d("d3/geo/clip",["d3/core/core","d3/core/noop","d3/core/merge"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/core")._u03b5,i=c("d3/core/core")._u03c0,j=c("d3\/core\/noop")._noop;function k(r,s,t){return function(u){var v=s(u),w={point:x,lineStart:z,lineEnd:aa,polygonStart:function(){w.point=ia;w.lineStart=ja;w.lineEnd=ka;ea=false;da=ca=0;ba=[];u.polygonStart();},polygonEnd:function(){w.point=x;w.lineStart=z;w.lineEnd=aa;ba=c("d3/core/merge")(ba);if(ba.length){l(ba,t,u);}else if(ca<-h||ea&&da<-h){u.lineStart();t(null,null,1,u);u.lineEnd();}u.polygonEnd();ba=null;},sphere:function(){u.polygonStart();u.lineStart();t(null,null,1,u);u.lineEnd();u.polygonEnd();}};function x(la,ma){if(r(la,ma))u.point(la,ma);}function y(la,ma){v.point(la,ma);}function z(){w.point=y;v.lineStart();}function aa(){w.point=x;v.lineEnd();}var ba,ca,da,ea,fa=p(),ga=s(fa),ha;function ia(la,ma){ga.point(la,ma);ha.push([la,ma]);}function ja(){ga.lineStart();ha=[];}function ka(){ia(ha[0][0],ha[0][1]);ga.lineEnd();var la=ga.clean(),ma=fa.buffer(),na,oa=ma.length;if(!oa){ea=true;da+=q(ha,-1);ha=null;return;}ha=null;if(la&1){na=ma[0];ca+=q(na,1);var oa=na.length-1,pa=-1,qa;u.lineStart();while(++pa<oa)u.point((qa=na[pa])[0],qa[1]);u.lineEnd();return;}if(oa>1&&la&2)ma.push(ma.pop().concat(ma.shift()));ba.push(ma.filter(o));}return w;};}function l(r,s,t){var u=[],v=[];r.forEach(function(ba){var ca=ba.length;if(ca<=1)return;var da=ba[0],ea=ba[ca-1],fa={point:da,points:ba,other:null,visited:false,entry:true,subject:true},ga={point:da,points:[da],other:fa,visited:false,entry:false,subject:false};fa.other=ga;u.push(fa);v.push(ga);fa={point:ea,points:[ea],other:null,visited:false,entry:false,subject:true};ga={point:ea,points:[ea],other:fa,visited:false,entry:true,subject:false};fa.other=ga;u.push(fa);v.push(ga);});v.sort(n);m(u);m(v);if(!u.length)return;var w=u[0],x,y,z;while(1){x=w;while(x.visited)if((x=x.next)===w)return;y=x.points;t.lineStart();do{x.visited=x.other.visited=true;if(x.entry){if(x.subject){for(var aa=0;aa<y.length;aa++)t.point((z=y[aa])[0],z[1]);}else s(x.point,x.next.point,1,t);x=x.next;}else{if(x.subject){y=x.prev.points;for(var aa=y.length;--aa>=0;)t.point((z=y[aa])[0],z[1]);}else s(x.point,x.prev.point,-1,t);x=x.prev;}x=x.other;y=x.points;}while(!x.visited);t.lineEnd();}}function m(r){if(!(s=r.length))return;var s,t=0,u=r[0],v;while(++t<s){u.next=v=r[t];v.prev=u;u=v;}u.next=v=r[0];v.prev=u;}function n(r,s){return ((r=r.point)[0]<0?r[1]-i/2-h:i/2-r[1])-((s=s.point)[0]<0?s[1]-i/2-h:i/2-s[1]);}function o(r){return r.length>1;}function p(){var r=[],s;return {lineStart:function(){r.push(s=[]);},point:function(t,u){s.push([t,u]);},lineEnd:j,buffer:function(){var t=r;r=[];s=null;return t;}};}function q(r,s){if(!(t=r.length))return 0;var t,u=0,v=0,w=r[0],x=w[0],y=w[1],z=Math.cos(y),aa=Math.atan2(s*Math.sin(x)*z,Math.sin(y)),ba=1-s*Math.cos(x)*z,ca=aa,da,ea;while(++u<t){w=r[u];z=Math.cos(y=w[1]);da=Math.atan2(s*Math.sin(x=w[0])*z,Math.sin(y));ea=1-s*Math.cos(x)*z;if(Math.abs(ba-2)<h&&Math.abs(ea-2)<h)continue;if(!(Math.abs(ea)<h||Math.abs(ba)<h))if(Math.abs(Math.abs(da-aa)-i)<h){if(ea+ba>2)v+=4*(da-aa);}else if(Math.abs(ba-2)<h){v+=4*(da-ca);}else v+=((3*i+da-aa)%(2*i)-i)*(ba+ea);ca=aa,aa=da,ba=ea;}return v;}g._clip=k;},null);
__d("d3/geo/clip-circle",["d3/core/core","d3/geo/spherical","d3/geo/cartesian","d3/geo/clip","d3/geo/circle"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/core")._radians,i=c("d3\/geo\/clip")._clip,j=c("d3/geo/spherical")._sphericalEqual,k=c("d3/core/core")._u03b5,l=c("d3/geo/cartesian")._cartesian,m=c("d3/geo/cartesian")._cartesianCross,n=c("d3/geo/cartesian")._cartesianDot,o=c("d3/geo/cartesian")._cartesianScale,p=c("d3/geo/cartesian")._cartesianAdd,q=c("d3/geo/spherical")._spherical;function r(s){var t=s*h,u=Math.cos(t),v=c("d3\/geo\/circle")._circleInterpolate(t,6*h);return i(w,x,v);function w(z,aa){return Math.cos(z)*Math.cos(aa)>u;}function x(z){var aa,ba,ca,da;return {lineStart:function(){ca=ba=false;da=1;},point:function(ea,fa){var ga=[ea,fa],ha,ia=w(ea,fa);if(!aa&&(ca=ba=ia))z.lineStart();if(ia!==ba){ha=y(aa,ga);if(j(aa,ha)||j(ga,ha)){ga[0]+=k;ga[1]+=k;ia=w(ga[0],ga[1]);}}if(ia!==ba){da=0;if(ba=ia){z.lineStart();ha=y(ga,aa);z.point(ha[0],ha[1]);}else{ha=y(aa,ga);z.point(ha[0],ha[1]);z.lineEnd();}aa=ha;}if(ia&&(!aa||!j(aa,ga)))z.point(ga[0],ga[1]);aa=ga;},lineEnd:function(){if(ba)z.lineEnd();aa=null;},clean:function(){return da|(ca&&ba)<<1;}};}function y(z,aa){var ba=l(z,0),ca=l(aa,0),da=[1,0,0],ea=m(ba,ca),fa=n(ea,ea),ga=ea[0],ha=fa-ga*ga;if(!ha)return z;var ia=u*fa/ha,ja=-u*ga/ha,ka=m(da,ea),la=o(da,ia),ma=o(ea,ja);p(la,ma);var na=ka,oa=n(la,na),pa=n(na,na),qa=Math.sqrt(oa*oa-pa*(n(la,la)-1)),ra=o(na,(-oa-qa)/pa);p(ra,la);return q(ra);}}g._clipCircle=r;},null);
__d("d3/geo/equirectangular",["d3/core/core","d3/geo/projection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._u03c0,i;function j(k,l){return [k,l];}(i=function(){return c("d3\/geo\/projection")._projection(j).scale(250/h);}).raw=j.invert=j;i._equirectangular=j;f.exports=i;},null);
__d("d3/geo/clip-antimeridian",["d3/core/core","d3/geo/clip","d3/core/true"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/geo\/clip")._clip,i=c("d3\/core\/true")._true,j=c("d3/core/core")._u03c0,k=c("d3/core/core")._u03b5,l=h(i,m,o);function m(p){var q=NaN,r=NaN,s=NaN,t;return {lineStart:function(){p.lineStart();t=1;},point:function(u,v){var w=u>0?j:-j,x=Math.abs(u-q);if(Math.abs(x-j)<k){p.point(q,r=(r+v)/2>0?j/2:-j/2);p.point(s,r);p.lineEnd();p.lineStart();p.point(w,r);p.point(u,r);t=0;}else if(s!==w&&x>=j){if(Math.abs(q-s)<k)q-=s*k;if(Math.abs(u-w)<k)u-=w*k;r=n(q,r,u,v);p.point(s,r);p.lineEnd();p.lineStart();p.point(w,r);t=0;}p.point(q=u,r=v);s=w;},lineEnd:function(){p.lineEnd();q=r=NaN;},clean:function(){return 2-t;}};}function n(p,q,r,s){var t,u,v=Math.sin(p-r);return Math.abs(v)>k?Math.atan((Math.sin(q)*(u=Math.cos(s))*Math.sin(r)-Math.sin(s)*(t=Math.cos(q))*Math.sin(p))/(t*u*v)):(q+s)/2;}function o(p,q,r,s){var t;if(p==null){t=r*j/2;s.point(-j,t);s.point(0,t);s.point(j,t);s.point(j,0);s.point(j,-t);s.point(0,-t);s.point(-j,-t);s.point(-j,0);s.point(-j,t);}else if(Math.abs(p[0]-q[0])>k){var u=(p[0]<q[0]?1:-1)*j;t=r*u/2;s.point(-u,t);s.point(0,t);s.point(u,t);}else s.point(q[0],q[1]);}g._clipAntimeridian=l;},null);
__d("d3/geo/compose",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){function k(l,m){return l=i(l,m),j(l[0],l[1]);}if(i.invert&&j.invert)k.invert=function(l,m){return l=j.invert(l,m),l&&i.invert(l[0],l[1]);};return k;}g._compose=h;},null);
__d("d3/geo/resample",["d3/geo/cartesian","d3/core/core"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/geo\/cartesian")._cartesian,i=c("d3\/core\/core")._u03b5;function j(k){var l=.5,m=16;function n(p){var q,r,s,t,u,v,w={point:x,lineStart:y,lineEnd:aa,polygonStart:function(){p.polygonStart();w.lineStart=ba;},polygonEnd:function(){p.polygonEnd();w.lineStart=y;}};function x(ca,da){ca=k(ca,da);p.point(ca[0],ca[1]);}function y(){r=NaN;w.point=z;p.lineStart();}function z(ca,da){var ea=h([ca,da]),fa=k(ca,da);o(r,s,q,t,u,v,r=fa[0],s=fa[1],q=ca,t=ea[0],u=ea[1],v=ea[2],m,p);p.point(r,s);}function aa(){w.point=x;p.lineEnd();}function ba(){var ca,da,ea,fa,ga,ha,ia;y();w.point=function(ja,ka){z(ca=ja,da=ka),ea=r,fa=s,ga=t,ha=u,ia=v;w.point=z;};w.lineEnd=function(){o(r,s,q,t,u,v,ea,fa,ca,ga,ha,ia,m,p);w.lineEnd=aa;aa();};}return w;}function o(p,q,r,s,t,u,v,w,x,y,z,aa,ba,ca){var da=v-p,ea=w-q,fa=da*da+ea*ea;if(fa>4*l&&ba--){var ga=s+y,ha=t+z,ia=u+aa,ja=Math.sqrt(ga*ga+ha*ha+ia*ia),ka=Math.asin(ia/=ja),la=Math.abs(Math.abs(ia)-1)<i?(r+x)/2:Math.atan2(ha,ga),ma=k(la,ka),na=ma[0],oa=ma[1],pa=na-p,qa=oa-q,ra=ea*pa-da*qa;if(ra*ra/fa>l||Math.abs((da*pa+ea*qa)/fa-.5)>.3){o(p,q,r,s,t,u,na,oa,la,ga/=ja,ha/=ja,ia,ba,ca);ca.point(na,oa);o(na,oa,la,ga,ha,ia,v,w,x,y,z,aa,ba,ca);}}}n.precision=function(p){if(!arguments.length)return Math.sqrt(l);m=(l=p*p)>0&&16;return n;};return n;}g._resample=j;},null);
__d("d3/geo/projection",["d3/core/core","d3/geo/resample","d3/geo/clip-antimeridian","d3/geo/compose","d3/core/rebind","d3/geo/clip-circle","d3/geo/rotation"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/geo\/resample")._resample,i=c("d3\/geo\/clip-antimeridian")._clipAntimeridian,j=c("d3/core/core")._radians,k=c("d3/core/core")._degrees,l=c("d3\/geo\/compose")._compose,m=c("d3/core/core")._u03c0,n=o;n.mutator=p;function o(r){return p(function(){return r;})();}function p(r){var s,t,u,v=h(function(la,ma){la=s(la,ma);return [la[0]*w+ea,fa-la[1]*w];}),w=150,x=480,y=250,z=0,aa=0,ba=0,ca=0,da=0,ea,fa,ga=i,ha=null;function ia(la){la=u(la[0]*j,la[1]*j);return [la[0]*w+ea,fa-la[1]*w];}function ja(la){la=u.invert((la[0]-ea)/w,(fa-la[1])/w);return la&&[la[0]*k,la[1]*k];}ia.stream=function(la){return q(t,ga(v(la)));};ia.clipAngle=function(la){if(!arguments.length)return ha;ga=la==null?(ha=la,i):c("d3\/geo\/clip-circle")._clipCircle(ha=+la);return ia;};ia.scale=function(la){if(!arguments.length)return w;w=+la;return ka();};ia.translate=function(la){if(!arguments.length)return [x,y];x=+la[0];y=+la[1];return ka();};ia.center=function(la){if(!arguments.length)return [z*k,aa*k];z=la[0]%360*j;aa=la[1]%360*j;return ka();};ia.rotate=function(la){if(!arguments.length)return [ba*k,ca*k,da*k];ba=la[0]%360*j;ca=la[1]%360*j;da=la.length>2?la[2]%360*j:0;return ka();};c("d3/core/rebind")(ia,v,"precision");function ka(){u=l(t=c("d3\/geo\/rotation")._rotation(ba,ca,da),s);var la=s(z,aa);ea=x-la[0]*w;fa=y+la[1]*w;return ia;}return function(){s=r.apply(this,arguments);ia.invert=s.invert&&ja;return ka();};}function q(r,s){return {point:function(t,u){u=r(t*j,u*j),t=u[0];s.point(t>m?t-2*m:t<-m?t+2*m:t,u[1]);},sphere:function(){s.sphere();},lineStart:function(){s.lineStart();},lineEnd:function(){s.lineEnd();},polygonStart:function(){s.polygonStart();},polygonEnd:function(){s.polygonEnd();}};}n._projection=o;n._projectionMutator=p;f.exports=n;},null);
__d("d3/geo/rotation",["d3/geo/compose","d3/core/core","d3/geo/equirectangular"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/geo\/compose")._compose,i=c("d3\/core\/core")._u03c0;function j(n,o,p){return n?o||p?h(l(n),m(o,p)):l(n):o||p?m(o,p):c("d3\/geo\/equirectangular")._equirectangular;}function k(n){return function(o,p){return o+=n,[o>i?o-2*i:o<-i?o+2*i:o,p];};}function l(n){var o=k(n);o.invert=k(-n);return o;}function m(n,o){var p=Math.cos(n),q=Math.sin(n),r=Math.cos(o),s=Math.sin(o);function t(u,v){var w=Math.cos(v),x=Math.cos(u)*w,y=Math.sin(u)*w,z=Math.sin(v),aa=z*p+x*q;return [Math.atan2(y*r-aa*s,x*p-z*q),Math.asin(Math.max(-1,Math.min(1,aa*r+y*s)))];}t.invert=function(u,v){var w=Math.cos(v),x=Math.cos(u)*w,y=Math.sin(u)*w,z=Math.sin(v),aa=z*r-y*s;return [Math.atan2(y*r+z*s,x*p+aa*q),Math.asin(Math.max(-1,Math.min(1,aa*p-x*q)))];};return t;}g._rotation=j;},null);
__d("d3/geo/albers",["d3/core/core","d3/geo/projection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/core")._radians,i=c("d3\/geo\/projection")._projectionMutator,j=c("d3/core/core")._degrees,k;function l(m,n){var o=Math.sin(m),p=(o+Math.sin(n))/2,q=1+o*(2*p-o),r=Math.sqrt(q)/p;function s(t,u){var v=Math.sqrt(q-2*p*Math.sin(u))/p;return [v*Math.sin(t*=p),r-v*Math.cos(t)];}s.invert=function(t,u){var v=r-u;return [Math.atan2(t,v)/p,Math.asin((q-(t*t+v*v)*p*p)/(2*p))];};return s;}(k=function(){var m=29.5*h,n=45.5*h,o=i(l),p=o(m,n);p.parallels=function(q){if(!arguments.length)return [m*j,n*j];return o(m=q[0]*h,n=q[1]*h);};return p.rotate([98,0]).center([0,38]).scale(1000);}).raw=l;f.exports=k;},null);
__d("d3/geo/albers-usa",["d3/geo/albers"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(){var i=c("d3/geo/albers")(),j=c("d3/geo/albers")().rotate([160,0]).center([0,60]).parallels([55,65]),k=c("d3/geo/albers")().rotate([160,0]).center([0,20]).parallels([8,18]),l=c("d3/geo/albers")().rotate([60,0]).center([0,10]).parallels([8,18]);function m(o){return n(o)(o);}function n(o){var p=o[0],q=o[1];return q>50?j:p<-140?k:q<21?l:i;}m.scale=function(o){if(!arguments.length)return i.scale();i.scale(o);j.scale(o*.6);k.scale(o);l.scale(o*1.5);return m.translate(i.translate());};m.translate=function(o){if(!arguments.length)return i.translate();var p=i.scale(),q=o[0],r=o[1];i.translate(o);j.translate([q-.4*p,r+.17*p]);k.translate([q-.19*p,r+.2*p]);l.translate([q+.58*p,r+.43*p]);return m;};return m.scale(i.scale());};f.exports=h;},null);
__d("d3/geo/stream",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(n,o){if(j.hasOwnProperty(n.type)){j[n.type](n,o);}else i(n,o);};function i(n,o){if(k.hasOwnProperty(n.type))k[n.type](n,o);}var j={Feature:function(n,o){i(n.geometry,o);},FeatureCollection:function(n,o){var p=n.features,q=-1,r=p.length;while(++q<r)i(p[q].geometry,o);}},k={Sphere:function(n,o){o.sphere();},Point:function(n,o){var p=n.coordinates;o.point(p[0],p[1]);},MultiPoint:function(n,o){var p=n.coordinates,q=-1,r=p.length,s;while(++q<r)s=p[q],o.point(s[0],s[1]);},LineString:function(n,o){l(n.coordinates,o,0);},MultiLineString:function(n,o){var p=n.coordinates,q=-1,r=p.length;while(++q<r)l(p[q],o,0);},Polygon:function(n,o){m(n.coordinates,o);},MultiPolygon:function(n,o){var p=n.coordinates,q=-1,r=p.length;while(++q<r)m(p[q],o);},GeometryCollection:function(n,o){var p=n.geometries,q=-1,r=p.length;while(++q<r)i(p[q],o);}};function l(n,o,p){var q=-1,r=n.length-p,s;o.lineStart();while(++q<r)s=n[q],o.point(s[0],s[1]);o.lineEnd();}function m(n,o){var p=-1,q=n.length;o.polygonStart();while(++p<q)l(n[p],o,1);o.polygonEnd();}f.exports=h;},null);
__d("d3/geo/area",["d3/core/core","d3/core/noop","d3/geo/stream"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/core")._u03c0,i=c("d3\/core\/noop")._noop,j=c("d3/core/core")._radians,k=function(q){l=0;c("d3/geo/stream")(q,o);return l;},l,m,n,o={sphere:function(){l+=4*h;},point:i,lineStart:i,lineEnd:i,polygonStart:function(){m=1,n=0;o.lineStart=p;},polygonEnd:function(){var q=2*Math.atan2(n,m);l+=q<0?4*h+q:q;o.lineStart=o.lineEnd=o.point=i;}};function p(){var q,r,s,t,u;o.point=function(w,x){o.point=v;s=(q=w)*j,t=Math.cos(x=(r=x)*j/2+h/4),u=Math.sin(x);};function v(w,x){w*=j;x=x*j/2+h/4;var y=w-s,z=Math.cos(x),aa=Math.sin(x),ba=u*aa,ca=m,da=n,ea=t*z+ba*Math.cos(y),fa=ba*Math.sin(y);m=ca*ea-da*fa;n=da*ea+ca*fa;s=w,t=z,u=aa;}o.lineEnd=function(){v(q,r);};}f.exports=k;},null);
__d("d3/geo/azimuthal",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i,j){function k(l,m){var n=Math.cos(l),o=Math.cos(m),p=i(n*o);return [p*o*Math.sin(l),p*Math.sin(m)];}k.invert=function(l,m){var n=Math.sqrt(l*l+m*m),o=j(n),p=Math.sin(o),q=Math.cos(o);return [Math.atan2(l*p,n*q),Math.asin(n&&m*p/n)];};return k;}g._azimuthal=h;},null);
__d("d3/geo/azimuthal-equal-area",["d3/geo/azimuthal","d3/geo/projection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/geo\/azimuthal")._azimuthal,i=c("d3\/geo\/projection")._projection,j,k=h(function(l){return Math.sqrt(2/(1+l));},function(l){return 2*Math.asin(l/2);});(j=function(){return i(k);}).raw=k;f.exports=j;},null);
__d("d3/geo/azimuthal-equidistant",["d3/geo/azimuthal","d3/core/identity","d3/geo/projection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/geo\/azimuthal")._azimuthal,i=c("d3\/core\/identity")._identity,j=c("d3\/geo\/projection")._projection,k,l=h(function(m){var n=Math.acos(m);return n&&n/Math.sin(n);},i);(k=function(){return j(l);}).raw=l;f.exports=k;},null);
__d("d3/geo/bounds",["d3/core/identity","d3/core/noop","d3/geo/stream"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/identity")._identity,i=c("d3\/core\/noop")._noop,j=k(h);function k(l){var m,n,o,p,q={point:r,lineStart:i,lineEnd:i,polygonStart:function(){q.lineEnd=s;},polygonEnd:function(){q.point=r;}};function r(t,u){if(t<m)m=t;if(t>o)o=t;if(u<n)n=u;if(u>p)p=u;}function s(){q.point=q.lineEnd=i;}return function(t){p=o=-(m=n=Infinity);c("d3/geo/stream")(t,l(q));return [[m,n],[o,p]];};}j._bounds=k;f.exports=j;},null);
__d("d3/geo/centroid",["d3/core/core","d3/geo/stream"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/core")._u03b5,i=c("d3/core/core")._degrees,j=c("d3/core/core")._radians,k=function(v){k._centroidDimension=m=k._centroidX=k._centroidY=k._centroidZ=0;c("d3/geo/stream")(v,q);var w;if(m&&Math.abs(w=Math.sqrt(k._centroidX*k._centroidX+k._centroidY*k._centroidY+k._centroidZ*k._centroidZ))>h)return [Math.atan2(k._centroidY,k._centroidX)*i,Math.asin(Math.max(-1,Math.min(1,k._centroidZ/w)))*i];},l,m,n,o,p,q={sphere:function(){if(k._centroidDimension<2){k._centroidDimension=2;m=k._centroidX=k._centroidY=k._centroidZ=0;}},point:r,lineStart:t,lineEnd:u,polygonStart:function(){if(k._centroidDimension<2){k._centroidDimension=2;m=k._centroidX=k._centroidY=k._centroidZ=0;}q.lineStart=s;},polygonEnd:function(){q.lineStart=t;}};function r(v,w){if(k._centroidDimension)return;++m;v*=j;var x=Math.cos(w*=j);k._centroidX+=(x*Math.cos(v)-k._centroidX)/m;k._centroidY+=(x*Math.sin(v)-k._centroidY)/m;k._centroidZ+=(Math.sin(w)-k._centroidZ)/m;}function s(){var v,w;k._centroidDimension=1;t();k._centroidDimension=2;var x=q.point;q.point=function(y,z){x(v=y,w=z);};q.lineEnd=function(){q.point(v,w);u();q.lineEnd=u;};}function t(){var v,w,x;if(k._centroidDimension>1)return;if(k._centroidDimension<1){k._centroidDimension=1;m=k._centroidX=k._centroidY=k._centroidZ=0;}q.point=function(z,aa){z*=j;var ba=Math.cos(aa*=j);v=ba*Math.cos(z);w=ba*Math.sin(z);x=Math.sin(aa);q.point=y;};function y(z,aa){z*=j;var ba=Math.cos(aa*=j),ca=ba*Math.cos(z),da=ba*Math.sin(z),ea=Math.sin(aa),fa=Math.atan2(Math.sqrt((fa=w*ea-x*da)*fa+(fa=x*ca-v*ea)*fa+(fa=v*da-w*ca)*fa),v*ca+w*da+x*ea);m+=fa;k._centroidX+=fa*(v+(v=ca));k._centroidY+=fa*(w+(w=da));k._centroidZ+=fa*(x+(x=ea));}}function u(){q.point=r;}k._centroidDimension=l;k._centroidX=n;k._centroidY=o;k._centroidZ=p;f.exports=k;},null);
__d("d3/geo/geo",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};f.exports=h;},null);
__d("d3/geo/gnomonic",["d3/geo/azimuthal","d3/geo/projection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/geo\/azimuthal")._azimuthal,i=c("d3\/geo\/projection")._projection,j,k=h(function(l){return 1/l;},Math.atan);(j=function(){return i(k);}).raw=k;f.exports=j;},null);
__d("d3/geo/graticule",["d3/core/core","d3/core/range"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._u03b5,i=function(){var l,m,n,o,p=22.5,q=p,r,s,t=2.5;function u(){return {type:"MultiLineString",coordinates:v()};}function v(){return c("d3/core/range")(Math.ceil(m/p)*p,l,p).map(r).concat(c("d3/core/range")(Math.ceil(o/q)*q,n,q).map(s));}u.lines=function(){return v().map(function(w){return {type:"LineString",coordinates:w};});};u.outline=function(){return {type:"Polygon",coordinates:[r(m).concat(s(n).slice(1),r(l).reverse().slice(1),s(o).reverse().slice(1))]};};u.extent=function(w){if(!arguments.length)return [[m,o],[l,n]];m=+w[0][0],l=+w[1][0];o=+w[0][1],n=+w[1][1];if(m>l)w=m,m=l,l=w;if(o>n)w=o,o=n,n=w;return u.precision(t);};u.step=function(w){if(!arguments.length)return [p,q];p=+w[0],q=+w[1];return u;};u.precision=function(w){if(!arguments.length)return t;t=+w;r=j(o,n,t);s=k(m,l,t);return u;};return u.extent([[-180+h,-90+h],[180-h,90-h]]);};function j(l,m,n){var o=c("d3/core/range")(l,m-h,n).concat(m);return function(p){return o.map(function(q){return [p,q];});};}function k(l,m,n){var o=c("d3/core/range")(l,m-h,n).concat(m);return function(p){return o.map(function(q){return [q,p];});};}f.exports=i;},null);
__d("d3/geo/interpolate",["d3/core/core"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._radians,i=function(k,l){return j(k[0]*h,k[1]*h,l[0]*h,l[1]*h);};function j(k,l,m,n){var o=Math.cos(l),p=Math.sin(l),q=Math.cos(n),r=Math.sin(n),s=o*Math.cos(k),t=o*Math.sin(k),u=q*Math.cos(m),v=q*Math.sin(m),w=Math.acos(Math.max(-1,Math.min(1,p*r+o*q*Math.cos(m-k)))),x=1/Math.sin(w);function y(z){var aa=Math.sin(z*=w)*x,ba=Math.sin(w-z)*x,ca=ba*s+aa*u,da=ba*t+aa*v,ea=ba*p+aa*r;return [Math.atan2(da,ca)/h,Math.atan2(ea,Math.sqrt(ca*ca+da*da))/h];}y.distance=w;return y;}f.exports=i;},null);
__d("d3/geo/greatArc",["d3/core/core","d3/geo/interpolate"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/core")._source,i=c("d3/core/core")._target,j=c("d3/core/core")._radians,k=function(){var l=h,m,n=i,o,p=6*j,q;function r(){var s=m||l.apply(this,arguments),t=o||n.apply(this,arguments),u=q||c("d3/geo/interpolate")(s,t),v=0,w=p/u.distance,x=[s];while((v+=w)<1)x.push(u(v));x.push(t);return {type:"LineString",coordinates:x};}r.distance=function(){return (q||c("d3/geo/interpolate")(m||l.apply(this,arguments),o||n.apply(this,arguments))).distance;};r.source=function(s){if(!arguments.length)return l;l=s,m=typeof s==="function"?null:s;q=m&&o?c("d3/geo/interpolate")(m,o):null;return r;};r.target=function(s){if(!arguments.length)return n;n=s,o=typeof s==="function"?null:s;q=m&&o?c("d3/geo/interpolate")(m,o):null;return r;};r.precision=function(s){if(!arguments.length)return p/j;p=s*j;return r;};return r;};f.exports=k;},null);
__d("d3/geo/mercator",["d3/core/core","d3/geo/projection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._u03c0,i=c("d3\/geo\/projection")._projection,j;function k(l,m){return [l/(2*h),Math.max(-.5,Math.min(+.5,Math.log(Math.tan(h/4+m/2))/(2*h)))];}k.invert=function(l,m){return [2*h*l,2*Math.atan(Math.exp(2*h*m))-h/2];};(j=function(){return i(k).scale(500);}).raw=k;f.exports=j;},null);
__d("d3/geo/orthographic",["d3/geo/azimuthal","d3/geo/projection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/geo\/azimuthal")._azimuthal,i=c("d3\/geo\/projection")._projection,j,k=h(function(){return 1;},Math.asin);(j=function(){return i(k);}).raw=k;f.exports=j;},null);
__d("d3/geo/path-buffer",["d3/geo/path"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){var i=c("d3\/geo\/path")._pathCircle(4.5),j=[],k={point:l,lineStart:function(){k.point=m;},lineEnd:o,polygonStart:function(){k.lineEnd=p;},polygonEnd:function(){k.lineEnd=o;k.point=l;},pointRadius:function(q){i=c("d3\/geo\/path")._pathCircle(q);return k;},result:function(){if(j.length){var q=j.join("");j=[];return q;}}};function l(q,r){j.push("M",q,",",r,i);}function m(q,r){j.push("M",q,",",r);k.point=n;}function n(q,r){j.push("L",q,",",r);}function o(){k.point=l;}function p(){j.push("Z");}return k;}g._pathBuffer=h;},null);
__d("d3/geo/path-area",["d3/core/noop"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/noop")._noop,i,j,k={point:h,lineStart:h,lineEnd:h,polygonStart:function(){j=0;k.lineStart=l;},polygonEnd:function(){k.lineStart=k.lineEnd=k.point=h;g._pathAreaSum+=Math.abs(j/2);}};function l(){var m,n,o,p;k.point=function(r,s){k.point=q;m=o=r,n=p=s;};function q(r,s){j+=p*r-o*s;o=r,p=s;}k.lineEnd=function(){q(m,n);};}g._pathAreaSum=i;g._pathArea=k;},null);
__d("d3/geo/path-centroid",["d3/geo/centroid"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={point:i,lineStart:j,lineEnd:k,polygonStart:function(){h.lineStart=l;},polygonEnd:function(){h.point=i;h.lineStart=j;h.lineEnd=k;}};function i(m,n){if(c("d3/geo/centroid")._centroidDimension)return;c("d3/geo/centroid")._centroidX+=m;c("d3/geo/centroid")._centroidY+=n;++c("d3/geo/centroid")._centroidZ;}function j(){var m,n;if(c("d3/geo/centroid")._centroidDimension!==1)if(c("d3/geo/centroid")._centroidDimension<1){c("d3/geo/centroid")._centroidDimension=1;c("d3/geo/centroid")._centroidX=c("d3/geo/centroid")._centroidY=c("d3/geo/centroid")._centroidZ=0;}else return;h.point=function(p,q){h.point=o;m=p,n=q;};function o(p,q){var r=p-m,s=q-n,t=Math.sqrt(r*r+s*s);c("d3/geo/centroid")._centroidX+=t*(m+p)/2;c("d3/geo/centroid")._centroidY+=t*(n+q)/2;c("d3/geo/centroid")._centroidZ+=t;m=p,n=q;}}function k(){h.point=i;}function l(){var m,n,o,p;if(c("d3/geo/centroid")._centroidDimension<2){c("d3/geo/centroid")._centroidDimension=2;c("d3/geo/centroid")._centroidX=c("d3/geo/centroid")._centroidY=c("d3/geo/centroid")._centroidZ=0;}h.point=function(r,s){h.point=q;m=o=r,n=p=s;};function q(r,s){var t=p*r-o*s;c("d3/geo/centroid")._centroidX+=t*(o+r);c("d3/geo/centroid")._centroidY+=t*(p+s);c("d3/geo/centroid")._centroidZ+=t*3;o=r,p=s;}h.lineEnd=function(){q(m,n);};}g._pathCentroid=h;},null);
__d("d3/geo/path-context",["d3/core/noop","d3/core/core"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/noop")._noop,i=c("d3\/core\/core")._u03c0;function j(k){var l=4.5,m={point:n,lineStart:function(){m.point=o;},lineEnd:q,polygonStart:function(){m.lineEnd=r;},polygonEnd:function(){m.lineEnd=q;m.point=n;},pointRadius:function(s){l=s;return m;},result:h};function n(s,t){k.moveTo(s,t);k.arc(s,t,l,0,2*i);}function o(s,t){k.moveTo(s,t);m.point=p;}function p(s,t){k.lineTo(s,t);}function q(){m.point=n;}function r(){k.closePath();}return m;}g._pathContext=j;},null);
__d("d3/geo/path",["d3/geo/path-area","d3/geo/centroid","d3/core/core","d3/geo/path-centroid","d3/geo/bounds","d3/core/identity","d3/geo/path-context","d3/geo/resample","d3/geo/stream","d3/geo/albers-usa","d3/geo/path-buffer"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/geo/path-area")._pathArea,i=c("d3\/geo\/path-centroid")._pathCentroid,j=c("d3\/geo\/bounds")._bounds,k=c("d3\/core\/identity")._identity,l=c("d3\/geo\/path-context")._pathContext,m=c("d3\/geo\/resample")._resample,n=c("d3/core/core")._degrees,o=c("d3/core/core")._radians,p=function(){var s=4.5,t,u,v,w;function x(y){if(y)c("d3/geo/stream")(y,v(w.pointRadius(typeof s==="function"?+s.apply(this,arguments):s)));return w.result();}x.area=function(y){c("d3/geo/path-area")._pathAreaSum=0;c("d3/geo/stream")(y,v(h));return c("d3/geo/path-area")._pathAreaSum;};x.centroid=function(y){c("d3/geo/centroid")._centroidDimension=c("d3/geo/centroid")._centroidX=c("d3/geo/centroid")._centroidY=c("d3/geo/centroid")._centroidZ=0;c("d3/geo/stream")(y,v(i));return c("d3/geo/centroid")._centroidZ?[c("d3/geo/centroid")._centroidX/c("d3/geo/centroid")._centroidZ,c("d3/geo/centroid")._centroidY/c("d3/geo/centroid")._centroidZ]:undefined;};x.bounds=function(y){return j(v)(y);};x.projection=function(y){if(!arguments.length)return t;v=(t=y)?y.stream||r(y):k;return x;};x.context=function(y){if(!arguments.length)return u;w=(u=y)==null?new (c("d3\/geo\/path-buffer")._pathBuffer)():new l(y);return x;};x.pointRadius=function(y){if(!arguments.length)return s;s=typeof y==="function"?y:+y;return x;};return x.projection(c("d3/geo/albers-usa")()).context(null);};function q(s){return "m0,"+s+"a"+s+","+s+" 0 1,1 0,"+ -2*s+"a"+s+","+s+" 0 1,1 0,"+ +2*s+"z";}function r(s){var t=m(function(u,v){return s([u*n,v*n]);});return function(u){u=t(u);return {point:function(v,w){u.point(v*o,w*o);},sphere:function(){u.sphere();},lineStart:function(){u.lineStart();},lineEnd:function(){u.lineEnd();},polygonStart:function(){u.polygonStart();},polygonEnd:function(){u.polygonEnd();}};};}p._pathCircle=q;f.exports=p;},null);
__d("d3/geo/stereographic",["d3/geo/azimuthal","d3/geo/projection"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/geo\/azimuthal")._azimuthal,i=c("d3\/geo\/projection")._projection,j,k=h(function(l){return 1/(1+l);},function(l){return 2*Math.atan(l);});(j=function(){return i(k);}).raw=k;f.exports=j;},null);
__d("d3/d3.geo",["d3/geo/geo","d3/geo/stream","d3/geo/albers-usa","d3/geo/albers","d3/geo/azimuthal-equal-area","d3/geo/azimuthal-equidistant","d3/geo/bounds","d3/geo/centroid","d3/geo/circle","d3/geo/equirectangular","d3/geo/gnomonic","d3/geo/graticule","d3/geo/interpolate","d3/geo/greatArc","d3/geo/mercator","d3/geo/orthographic","d3/geo/path","d3/geo/area","d3/geo/projection","d3/geo/stereographic"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c("d3/geo/geo").stream=c("d3\/geo\/stream");c("d3/geo/geo").albersUsa=c("d3\/geo\/albers-usa");c("d3/geo/geo").albers=c("d3\/geo\/albers");c("d3/geo/geo").azimuthalEqualArea=c("d3\/geo\/azimuthal-equal-area");c("d3/geo/geo").azimuthalEquidistant=c("d3\/geo\/azimuthal-equidistant");c("d3/geo/geo").bounds=c("d3\/geo\/bounds");c("d3/geo/geo").centroid=c("d3\/geo\/centroid");c("d3/geo/geo").circle=c("d3\/geo\/circle");c("d3/geo/geo").equirectangular=c("d3\/geo\/equirectangular");c("d3/geo/geo").gnomonic=c("d3\/geo\/gnomonic");c("d3/geo/geo").graticule=c("d3\/geo\/graticule");c("d3/geo/geo").interpolate=c("d3\/geo\/interpolate");c("d3/geo/geo").greatArc=c("d3\/geo\/greatArc");c("d3/geo/geo").mercator=c("d3\/geo\/mercator");c("d3/geo/geo").orthographic=c("d3\/geo\/orthographic");c("d3/geo/geo").path=c("d3\/geo\/path");c("d3/geo/geo").area=c("d3\/geo\/area");c("d3/geo/geo").projection=c("d3\/geo\/projection");c("d3/geo/geo").projectionMutator=c("d3\/geo\/projection").mutator;c("d3/geo/geo").stereographic=c("d3\/geo\/stereographic");f.exports=c("d3/geo/geo");},null);
__d("d3/geom/voronoi",["d3/core/core","d3/core/range"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._u03b5,i=function(l){var m=l.map(function(){return [];}),n=1e+06;k(l,function(o){var p,q,r,s,t,u;if(o.a===1&&o.b>=0){p=o.ep.r;q=o.ep.l;}else{p=o.ep.l;q=o.ep.r;}if(o.a===1){t=p?p.y:-n;r=o.c-o.b*t;u=q?q.y:n;s=o.c-o.b*u;}else{r=p?p.x:-n;t=o.c-o.a*r;s=q?q.x:n;u=o.c-o.a*s;}var v=[r,t],w=[s,u];m[o.region.l.index].push(v,w);m[o.region.r.index].push(v,w);});m=m.map(function(o,p){var q=l[p][0],r=l[p][1],s=o.map(function(u){return Math.atan2(u[0]-q,u[1]-r);}),t=c("d3/core/range")(o.length).sort(function(u,v){return s[u]-s[v];});return t.filter(function(u,v){return !v||s[u]-s[t[v-1]]>h;}).map(function(u){return o[u];});});m.forEach(function(o,p){var q=o.length;if(!q)return o.push([-n,-n],[-n,n],[n,n],[n,-n]);if(q>2)return;var r=l[p],s=o[0],t=o[1],u=r[0],v=r[1],w=s[0],x=s[1],y=t[0],z=t[1],aa=Math.abs(y-w),ba=z-x;if(Math.abs(ba)<h){var ca=v<x?-n:n;o.push([-n,ca],[n,ca]);}else if(aa<h){var da=u<w?-n:n;o.push([da,-n],[da,n]);}else{var ca=(y-w)*(x-v)<(w-u)*(z-x)?n:-n,ea=Math.abs(ba)-aa;if(Math.abs(ea)<h){o.push([ba<0?ca:-ca,ca]);}else{if(ea>0)ca*=-1;o.push([-n,ca],[n,ca]);}}});return m;},j={l:"r",r:"l"};function k(l,m){var n={list:l.map(function(fa,ga){return {index:ga,x:fa[0],y:fa[1]};}).sort(function(fa,ga){return fa.y<ga.y?-1:fa.y>ga.y?1:fa.x<ga.x?-1:fa.x>ga.x?1:0;}),bottomSite:null},o={list:[],leftEnd:null,rightEnd:null,init:function(){o.leftEnd=o.createHalfEdge(null,"l");o.rightEnd=o.createHalfEdge(null,"l");o.leftEnd.r=o.rightEnd;o.rightEnd.l=o.leftEnd;o.list.unshift(o.leftEnd,o.rightEnd);},createHalfEdge:function(fa,ga){return {edge:fa,side:ga,vertex:null,l:null,r:null};},insert:function(fa,ga){ga.l=fa;ga.r=fa.r;fa.r.l=ga;fa.r=ga;},leftBound:function(fa){var ga=o.leftEnd;do{ga=ga.r;}while(ga!=o.rightEnd&&p.rightOf(ga,fa));ga=ga.l;return ga;},del:function(fa){fa.l.r=fa.r;fa.r.l=fa.l;fa.edge=null;},right:function(fa){return fa.r;},left:function(fa){return fa.l;},leftRegion:function(fa){return fa.edge==null?n.bottomSite:fa.edge.region[fa.side];},rightRegion:function(fa){return fa.edge==null?n.bottomSite:fa.edge.region[j[fa.side]];}},p={bisect:function(fa,ga){var ha={region:{l:fa,r:ga},ep:{l:null,r:null}},ia=ga.x-fa.x,ja=ga.y-fa.y,ka=ia>0?ia:-ia,la=ja>0?ja:-ja;ha.c=fa.x*ia+fa.y*ja+(ia*ia+ja*ja)*.5;if(ka>la){ha.a=1;ha.b=ja/ia;ha.c/=ia;}else{ha.b=1;ha.a=ia/ja;ha.c/=ja;}return ha;},intersect:function(fa,ga){var ha=fa.edge,ia=ga.edge;if(!ha||!ia||ha.region.r==ia.region.r)return null;var ja=ha.a*ia.b-ha.b*ia.a;if(Math.abs(ja)<1e-10)return null;var ka=(ha.c*ia.b-ia.c*ha.b)/ja,la=(ia.c*ha.a-ha.c*ia.a)/ja,ma=ha.region.r,na=ia.region.r,oa,pa;if(ma.y<na.y||ma.y==na.y&&ma.x<na.x){oa=fa;pa=ha;}else{oa=ga;pa=ia;}var qa=ka>=pa.region.r.x;if(qa&&oa.side==="l"||!qa&&oa.side==="r")return null;return {x:ka,y:la};},rightOf:function(fa,ga){var ha=fa.edge,ia=ha.region.r,ja=ga.x>ia.x;if(ja&&fa.side==="l")return 1;if(!ja&&fa.side==="r")return 0;if(ha.a===1){var ka=ga.y-ia.y,la=ga.x-ia.x,ma=0,na=0;if(!ja&&ha.b<0||ja&&ha.b>=0){na=ma=ka>=ha.b*la;}else{na=ga.x+ga.y*ha.b>ha.c;if(ha.b<0)na=!na;if(!na)ma=1;}if(!ma){var oa=ia.x-ha.region.l.x;na=ha.b*(la*la-ka*ka)<oa*ka*(1+2*la/oa+ha.b*ha.b);if(ha.b<0)na=!na;}}else{var pa=ha.c-ha.a*ga.x,qa=ga.y-pa,ra=ga.x-ia.x,sa=pa-ia.y;na=qa*qa>ra*ra+sa*sa;}return fa.side==="l"?na:!na;},endPoint:function(fa,ga,ha){fa.ep[ga]=ha;if(!fa.ep[j[ga]])return;m(fa);},distance:function(fa,ga){var ha=fa.x-ga.x,ia=fa.y-ga.y;return Math.sqrt(ha*ha+ia*ia);}},q={list:[],insert:function(fa,ga,ha){fa.vertex=ga;fa.ystar=ga.y+ha;for(var ia=0,ja=q.list,ka=ja.length;ia<ka;ia++){var la=ja[ia];if(fa.ystar>la.ystar||fa.ystar==la.ystar&&ga.x>la.vertex.x){continue;}else break;}ja.splice(ia,0,fa);},del:function(fa){for(var ga=0,ha=q.list,ia=ha.length;ga<ia&&ha[ga]!=fa;++ga);ha.splice(ga,1);},empty:function(){return q.list.length===0;},nextEvent:function(fa){for(var ga=0,ha=q.list,ia=ha.length;ga<ia;++ga)if(ha[ga]==fa)return ha[ga+1];return null;},min:function(){var fa=q.list[0];return {x:fa.vertex.x,y:fa.ystar};},extractMin:function(){return q.list.shift();}};o.init();n.bottomSite=n.list.shift();var r=n.list.shift(),s,t,u,v,w,x,y,z,aa,ba,ca,da,ea;while(true){if(!q.empty())s=q.min();if(r&&(q.empty()||r.y<s.y||r.y==s.y&&r.x<s.x)){t=o.leftBound(r);u=o.right(t);y=o.rightRegion(t);da=p.bisect(y,r);x=o.createHalfEdge(da,"l");o.insert(t,x);ba=p.intersect(t,x);if(ba){q.del(t);q.insert(t,ba,p.distance(ba,r));}t=x;x=o.createHalfEdge(da,"r");o.insert(t,x);ba=p.intersect(x,u);if(ba)q.insert(x,ba,p.distance(ba,r));r=n.list.shift();}else if(!q.empty()){t=q.extractMin();v=o.left(t);u=o.right(t);w=o.right(u);y=o.leftRegion(t);z=o.rightRegion(u);ca=t.vertex;p.endPoint(t.edge,t.side,ca);p.endPoint(u.edge,u.side,ca);o.del(t);q.del(u);o.del(u);ea="l";if(y.y>z.y){aa=y;y=z;z=aa;ea="r";}da=p.bisect(y,z);x=o.createHalfEdge(da,ea);o.insert(v,x);p.endPoint(da,j[ea],ca);ba=p.intersect(v,x);if(ba){q.del(v);q.insert(v,ba,p.distance(ba,y));}ba=p.intersect(x,w);if(ba)q.insert(x,ba,p.distance(ba,y));}else break;}for(t=o.right(o.leftEnd);t!=o.rightEnd;t=o.right(t))m(t.edge);}i._tessellate=k;f.exports=i;},null);
__d("d3/geom/delaunay",["d3/geom/voronoi"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/geom\/voronoi")._tessellate,i=function(j){var k=j.map(function(){return [];}),l=[];h(j,function(m){k[m.region.l.index].push(j[m.region.r.index]);});k.forEach(function(m,n){var o=j[n],p=o[0],q=o[1];m.forEach(function(t){t.angle=Math.atan2(t[0]-p,t[1]-q);});m.sort(function(t,u){return t.angle-u.angle;});for(var r=0,s=m.length-1;r<s;r++)l.push([o,m[r],m[r+1]]);});return l;};f.exports=i;},null);
__d("d3/geom/geom",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};f.exports=h;},null);
__d("d3/geom/hull",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(j){if(j.length<3)return [];var k=j.length,l=k-1,m=[],n=[],o,p,q=0,r,s,t,u,v,w,x,y;for(o=1;o<k;++o)if(j[o][1]<j[q][1]){q=o;}else if(j[o][1]==j[q][1])q=j[o][0]<j[q][0]?o:q;for(o=0;o<k;++o){if(o===q)continue;s=j[o][1]-j[q][1];r=j[o][0]-j[q][0];m.push({angle:Math.atan2(s,r),index:o});}m.sort(function(aa,ba){return aa.angle-ba.angle;});x=m[0].angle;w=m[0].index;v=0;for(o=1;o<l;++o){p=m[o].index;if(x==m[o].angle){r=j[w][0]-j[q][0];s=j[w][1]-j[q][1];t=j[p][0]-j[q][0];u=j[p][1]-j[q][1];if(r*r+s*s>=t*t+u*u){m[o].index=-1;}else{m[v].index=-1;x=m[o].angle;v=o;w=p;}}else{x=m[o].angle;v=o;w=p;}}n.push(q);for(o=0,p=0;o<2;++p)if(m[p].index!==-1){n.push(m[p].index);o++;}y=n.length;for(;p<l;++p){if(m[p].index===-1)continue;while(!i(n[y-2],n[y-1],m[p].index,j))--y;n[y++]=m[p].index;}var z=[];for(o=0;o<y;++o)z.push(j[n[o]]);return z;};function i(j,k,l,m){var n,o,p,q,r,s,t;n=m[j];o=n[0];p=n[1];n=m[k];q=n[0];r=n[1];n=m[l];s=n[0];t=n[1];return (t-p)*(q-o)-(r-p)*(s-o)>0;}f.exports=h;},null);
__d("d3/geom/polygon",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(k){k.area=function(){var l=0,m=k.length,n=k[m-1][1]*k[0][0]-k[m-1][0]*k[0][1];while(++l<m)n+=k[l-1][1]*k[l][0]-k[l-1][0]*k[l][1];return n*.5;};k.centroid=function(l){var m=-1,n=k.length,o=0,p=0,q,r=k[n-1],s;if(!arguments.length)l=-1/(6*k.area());while(++m<n){q=r;r=k[m];s=q[0]*r[1]-r[0]*q[1];o+=(q[0]+r[0])*s;p+=(q[1]+r[1])*s;}return [o*l,p*l];};k.clip=function(l){var m,n=-1,o=k.length,p,q,r=k[o-1],s,t,u;while(++n<o){m=l.slice();l.length=0;s=k[n];t=m[(q=m.length)-1];p=-1;while(++p<q){u=m[p];if(i(u,r,s)){if(!i(t,r,s))l.push(j(t,u,r,s));l.push(u);}else if(i(t,r,s))l.push(j(t,u,r,s));t=u;}r=s;}return l;};return k;};function i(k,l,m){return (m[0]-l[0])*(k[1]-l[1])<(m[1]-l[1])*(k[0]-l[0]);}function j(k,l,m,n){var o=k[0],p=m[0],q=l[0]-o,r=n[0]-p,s=k[1],t=m[1],u=l[1]-s,v=n[1]-t,w=(r*(s-t)-v*(o-p))/(v*q-r*u);return [o+w*q,s+w*u];}f.exports=h;},null);
__d("d3/geom/quadtree",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(k,l,m,n,o){var p,q=-1,r=k.length;if(arguments.length<5)if(arguments.length===3){o=m;n=l;m=l=0;}else{l=m=Infinity;n=o=-Infinity;while(++q<r){p=k[q];if(p.x<l)l=p.x;if(p.y<m)m=p.y;if(p.x>n)n=p.x;if(p.y>o)o=p.y;}}var s=n-l,t=o-m;if(s>t){o=m+s;}else n=l+t;function u(x,y,z,aa,ba,ca){if(isNaN(y.x)||isNaN(y.y))return;if(x.leaf){var da=x.point;if(da){if(Math.abs(da.x-y.x)+Math.abs(da.y-y.y)<.01){v(x,y,z,aa,ba,ca);}else{x.point=null;v(x,da,z,aa,ba,ca);v(x,y,z,aa,ba,ca);}}else x.point=y;}else v(x,y,z,aa,ba,ca);}function v(x,y,z,aa,ba,ca){var da=(z+ba)*.5,ea=(aa+ca)*.5,fa=y.x>=da,ga=y.y>=ea,ha=(ga<<1)+fa;x.leaf=false;x=x.nodes[ha]||(x.nodes[ha]=i());if(fa){z=da;}else ba=da;if(ga){aa=ea;}else ca=ea;u(x,y,z,aa,ba,ca);}var w=i();w.add=function(x){u(w,x,l,m,n,o);};w.visit=function(x){j(x,w,l,m,n,o);};k.forEach(w.add);return w;};function i(){return {leaf:true,nodes:[],point:null};}function j(k,l,m,n,o,p){if(!k(l,m,n,o,p)){var q=(m+o)*.5,r=(n+p)*.5,s=l.nodes;if(s[0])j(k,s[0],m,n,q,r);if(s[1])j(k,s[1],q,n,o,r);if(s[2])j(k,s[2],m,r,q,p);if(s[3])j(k,s[3],q,r,o,p);}}f.exports=h;},null);
__d("d3/d3.geom",["d3/geom/geom","d3/geom/hull","d3/geom/polygon","d3/geom/voronoi","d3/geom/delaunay","d3/geom/quadtree"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c("d3/geom/geom").hull=c("d3\/geom\/hull");c("d3/geom/geom").polygon=c("d3\/geom\/polygon");c("d3/geom/geom").voronoi=c("d3\/geom\/voronoi");c("d3/geom/geom").delaunay=c("d3\/geom\/delaunay");c("d3/geom/geom").quadtree=c("d3\/geom\/quadtree");f.exports=c("d3/geom/geom");},null);
__d("d3/layout/bundle",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(){return function(l){var m=[],n=-1,o=l.length;while(++n<o)m.push(i(l[n]));return m;};};function i(l){var m=l.source,n=l.target,o=k(m,n),p=[m];while(m!==o){m=m.parent;p.push(m);}var q=p.length;while(n!==o){p.splice(q,0,n);n=n.parent;}return p;}function j(l){var m=[],n=l.parent;while(n!=null){m.push(l);l=n;n=n.parent;}m.push(l);return m;}function k(l,m){if(l===m)return l;var n=j(l),o=j(m),p=n.pop(),q=o.pop(),r=null;while(p===q){r=p;p=n.pop();q=o.pop();}return r;}f.exports=h;},null);
__d("d3/layout/chord",["d3/core/core","d3/core/range"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._u03c0,i=function(){var j={},k,l,m,n,o=0,p,q,r;function s(){var u={},v=[],w=c("d3/core/range")(n),x=[],y,z,aa,ba,ca;k=[];l=[];y=0,ba=-1;while(++ba<n){z=0,ca=-1;while(++ca<n)z+=m[ba][ca];v.push(z);x.push(c("d3/core/range")(n));y+=z;}if(p)w.sort(function(ka,la){return p(v[ka],v[la]);});if(q)x.forEach(function(ka,la){ka.sort(function(ma,na){return q(m[la][ma],m[la][na]);});});y=(2*h-o*n)/y;z=0,ba=-1;while(++ba<n){aa=z,ca=-1;while(++ca<n){var da=w[ba],ea=x[da][ca],fa=m[da][ea],ga=z,ha=z+=fa*y;u[da+"-"+ea]={index:da,subindex:ea,startAngle:ga,endAngle:ha,value:fa};}l[da]={index:da,startAngle:aa,endAngle:z,value:(z-aa)/y};z+=o;}ba=-1;while(++ba<n){ca=ba-1;while(++ca<n){var ia=u[ba+"-"+ca],ja=u[ca+"-"+ba];if(ia.value||ja.value)k.push(ia.value<ja.value?{source:ja,target:ia}:{source:ia,target:ja});}}if(r)t();}function t(){k.sort(function(u,v){return r((u.source.value+u.target.value)/2,(v.source.value+v.target.value)/2);});}j.matrix=function(u){if(!arguments.length)return m;n=(m=u)&&m.length;k=l=null;return j;};j.padding=function(u){if(!arguments.length)return o;o=u;k=l=null;return j;};j.sortGroups=function(u){if(!arguments.length)return p;p=u;k=l=null;return j;};j.sortSubgroups=function(u){if(!arguments.length)return q;q=u;k=null;return j;};j.sortChords=function(u){if(!arguments.length)return r;r=u;if(k)t();return j;};j.chords=function(){if(!k)s();return k;};j.groups=function(){if(!l)s();return l;};return j;};f.exports=i;},null);
__d("d3/layout/hierarchy",["d3/core/rebind","d3/core/merge"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(){var n=l,o=j,p=k;function q(t,u,v){var w=o.call(s,t,u);t.depth=u;v.push(t);if(w&&(y=w.length)){var x=-1,y,z=t.children=[],aa=0,ba=u+1,ca;while(++x<y){ca=q(w[x],ba,v);ca.parent=t;z.push(ca);aa+=ca.value;}if(n)z.sort(n);if(p)t.value=aa;}else if(p)t.value=+p.call(s,t,u)||0;return t;}function r(t,u){var v=t.children,w=0;if(v&&(y=v.length)){var x=-1,y,z=u+1;while(++x<y)w+=r(v[x],z);}else if(p)w=+p.call(s,t,u)||0;if(p)t.value=w;return w;}function s(t){var u=[];q(t,0,u);return u;}s.sort=function(t){if(!arguments.length)return n;n=t;return s;};s.children=function(t){if(!arguments.length)return o;o=t;return s;};s.value=function(t){if(!arguments.length)return p;p=t;return s;};s.revalue=function(t){r(t,0);return t;};return s;};function i(n,o){c("d3/core/rebind")(n,o,"sort","children","value");n.nodes=n;n.links=m;return n;}function j(n){return n.children;}function k(n){return n.value;}function l(n,o){return o.value-n.value;}function m(n){return c("d3/core/merge")(n.map(function(o){return (o.children||[]).map(function(p){return {source:o,target:p};});}));}h._hierarchyRebind=i;f.exports=h;},null);
__d("d3/layout/tree",["d3/layout/hierarchy"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/layout/hierarchy")._hierarchyRebind,i=function(){var u=c("d3/layout/hierarchy")().sort(null).value(null),v=j,w=[1,1];function x(y,z){var aa=u.call(this,y,z),ba=aa[0];function ca(la,ma){var na=la.children,oa=la._tree;if(na&&(pa=na.length)){var pa,qa=na[0],ra,sa=qa,ta,ua=-1;while(++ua<pa){ta=na[ua];ca(ta,ra);sa=ea(ta,ra,sa);ra=ta;}r(la);var va=.5*(qa._tree.prelim+ta._tree.prelim);if(ma){oa.prelim=ma._tree.prelim+v(la,ma);oa.mod=oa.prelim-va;}else oa.prelim=va;}else if(ma)oa.prelim=ma._tree.prelim+v(la,ma);}function da(la,ma){la.x=la._tree.prelim+ma;var na=la.children;if(na&&(pa=na.length)){var oa=-1,pa;ma+=la._tree.mod;while(++oa<pa)da(na[oa],ma);}}function ea(la,ma,na){if(ma){var oa=la,pa=la,qa=ma,ra=la.parent.children[0],sa=oa._tree.mod,ta=pa._tree.mod,ua=qa._tree.mod,va=ra._tree.mod,wa;while(qa=l(qa),oa=k(oa),qa&&oa){ra=k(ra);pa=l(pa);pa._tree.ancestor=la;wa=qa._tree.prelim+ua-oa._tree.prelim-sa+v(qa,oa);if(wa>0){s(t(qa,la,na),la,wa);sa+=wa;ta+=wa;}ua+=qa._tree.mod;sa+=oa._tree.mod;va+=ra._tree.mod;ta+=pa._tree.mod;}if(qa&&!l(pa)){pa._tree.thread=qa;pa._tree.mod+=ua-ta;}if(oa&&!k(ra)){ra._tree.thread=oa;ra._tree.mod+=sa-va;na=la;}}return na;}q(ba,function(la,ma){la._tree={ancestor:la,prelim:0,mod:0,change:0,shift:0,number:ma?ma._tree.number+1:0};});ca(ba);da(ba,-ba._tree.prelim);var fa=m(ba,o),ga=m(ba,n),ha=m(ba,p),ia=fa.x-v(fa,ga)/2,ja=ga.x+v(ga,fa)/2,ka=ha.depth||1;q(ba,function(la){la.x=(la.x-ia)/(ja-ia)*w[0];la.y=la.depth/ka*w[1];delete la._tree;});return aa;}x.separation=function(y){if(!arguments.length)return v;v=y;return x;};x.size=function(y){if(!arguments.length)return w;w=y;return x;};return h(x,u);};function j(u,v){return u.parent==v.parent?1:2;}function k(u){var v=u.children;return v&&v.length?v[0]:u._tree.thread;}function l(u){var v=u.children,w;return v&&(w=v.length)?v[w-1]:u._tree.thread;}function m(u,v){var w=u.children;if(w&&(y=w.length)){var x,y,z=-1;while(++z<y)if(v(x=m(w[z],v),u)>0)u=x;}return u;}function n(u,v){return u.x-v.x;}function o(u,v){return v.x-u.x;}function p(u,v){return u.depth-v.depth;}function q(u,v){function w(x,y){var z=x.children;if(z&&(da=z.length)){var aa,ba=null,ca=-1,da;while(++ca<da){aa=z[ca];w(aa,ba);ba=aa;}}v(x,y);}w(u,null);}function r(u){var v=0,w=0,x=u.children,y=x.length,z;while(--y>=0){z=x[y]._tree;z.prelim+=v;z.mod+=v;v+=z.shift+(w+=z.change);}}function s(u,v,w){u=u._tree;v=v._tree;var x=w/(v.number-u.number);u.change+=x;v.change-=x;v.shift+=w;v.prelim+=w;v.mod+=w;}function t(u,v,w){return u._tree.ancestor.parent==v.parent?u._tree.ancestor:w;}i._treeSeparation=j;i._treeVisitAfter=q;f.exports=i;},null);
__d("d3/layout/cluster",["d3/layout/tree","d3/layout/hierarchy","d3/core/max"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/layout/tree")._treeSeparation,i=c("d3/layout/tree")._treeVisitAfter,j=c("d3/layout/hierarchy")._hierarchyRebind,k=function(){var p=c("d3/layout/hierarchy")().sort(null).value(null),q=h,r=[1,1];function s(t,u){var v=p.call(this,t,u),w=v[0],x,y=0;i(w,function(da){var ea=da.children;if(ea&&ea.length){da.x=m(ea);da.y=l(ea);}else{da.x=x?y+=q(da,x):0;da.y=0;x=da;}});var z=n(w),aa=o(w),ba=z.x-q(z,aa)/2,ca=aa.x+q(aa,z)/2;i(w,function(da){da.x=(da.x-ba)/(ca-ba)*r[0];da.y=(1-(w.y?da.y/w.y:1))*r[1];});return v;}s.separation=function(t){if(!arguments.length)return q;q=t;return s;};s.size=function(t){if(!arguments.length)return r;r=t;return s;};return j(s,p);};function l(p){return 1+c("d3/core/max")(p,function(q){return q.y;});}function m(p){return p.reduce(function(q,r){return q+r.x;},0)/p.length;}function n(p){var q=p.children;return q&&q.length?n(q[0]):p;}function o(p){var q=p.children,r;return q&&(r=q.length)?o(q[r-1]):p;}f.exports=k;},null);
__d("d3/layout/force",["d3/core/identity","d3/core/dispatch","d3/geom/quadtree","d3/core/timer","d3/behavior/drag","d3/core/core","d3/core/rebind"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/identity")._identity,i=function(){var q={},event=c("d3/core/dispatch")("start","tick","end"),r=[1,1],s,t,u=.9,v=o,w=p,x=-30,y=.1,z=.8,aa=[],ba=[],ca,da,ea;function fa(ha){return function(ia,ja,ka,la){if(ia.point!==ha){var ma=ia.cx-ha.x,na=ia.cy-ha.y,oa=1/Math.sqrt(ma*ma+na*na);if((la-ja)*oa<z){var pa=ia.charge*oa*oa;ha.px-=ma*pa;ha.py-=na*pa;return true;}if(ia.point&&isFinite(oa)){var pa=ia.pointCharge*oa*oa;ha.px-=ma*pa;ha.py-=na*pa;}}return !ia.charge;};}q.tick=function(){if((t*=.99)<.005){event.end({type:"end",alpha:t=0});return true;}var ha=aa.length,ia=ba.length,ja,ka,la,ma,na,oa,pa,qa,ra;for(ka=0;ka<ia;++ka){la=ba[ka];ma=la.source;na=la.target;qa=na.x-ma.x;ra=na.y-ma.y;if(oa=qa*qa+ra*ra){oa=t*da[ka]*((oa=Math.sqrt(oa))-ca[ka])/oa;qa*=oa;ra*=oa;na.x-=qa*(pa=ma.weight/(na.weight+ma.weight));na.y-=ra*pa;ma.x+=qa*(pa=1-pa);ma.y+=ra*pa;}}if(pa=t*y){qa=r[0]/2;ra=r[1]/2;ka=-1;if(pa)while(++ka<ha){la=aa[ka];la.x+=(qa-la.x)*pa;la.y+=(ra-la.y)*pa;}}if(x){n(ja=c("d3/geom/quadtree")(aa),t,ea);ka=-1;while(++ka<ha)if(!(la=aa[ka]).fixed)ja.visit(fa(la));}ka=-1;while(++ka<ha){la=aa[ka];if(la.fixed){la.x=la.px;la.y=la.py;}else{la.x-=(la.px-(la.px=la.x))*u;la.y-=(la.py-(la.py=la.y))*u;}}event.tick({type:"tick",alpha:t});};q.nodes=function(ha){if(!arguments.length)return aa;aa=ha;return q;};q.links=function(ha){if(!arguments.length)return ba;ba=ha;return q;};q.size=function(ha){if(!arguments.length)return r;r=ha;return q;};q.linkDistance=function(ha){if(!arguments.length)return v;v=typeof ha==="function"?ha:+ha;return q;};q.distance=q.linkDistance;q.linkStrength=function(ha){if(!arguments.length)return w;w=typeof ha==="function"?ha:+ha;return q;};q.friction=function(ha){if(!arguments.length)return u;u=+ha;return q;};q.charge=function(ha){if(!arguments.length)return x;x=typeof ha==="function"?ha:+ha;return q;};q.gravity=function(ha){if(!arguments.length)return y;y=+ha;return q;};q.theta=function(ha){if(!arguments.length)return z;z=+ha;return q;};q.alpha=function(ha){if(!arguments.length)return t;ha=+ha;if(t){if(ha>0){t=ha;}else t=0;}else if(ha>0){event.start({type:"start",alpha:t=ha});c("d3/core/timer")(q.tick);}return q;};q.start=function(){var ha,ia,ja=aa.length,ka=ba.length,la=r[0],ma=r[1],na,oa;for(ha=0;ha<ja;++ha){(oa=aa[ha]).index=ha;oa.weight=0;}for(ha=0;ha<ka;++ha){oa=ba[ha];if(typeof oa.source=="number")oa.source=aa[oa.source];if(typeof oa.target=="number")oa.target=aa[oa.target];++oa.source.weight;++oa.target.weight;}for(ha=0;ha<ja;++ha){oa=aa[ha];if(isNaN(oa.x))oa.x=pa("x",la);if(isNaN(oa.y))oa.y=pa("y",ma);if(isNaN(oa.px))oa.px=oa.x;if(isNaN(oa.py))oa.py=oa.y;}ca=[];if(typeof v==="function"){for(ha=0;ha<ka;++ha)ca[ha]=+v.call(this,ba[ha],ha);}else for(ha=0;ha<ka;++ha)ca[ha]=v;da=[];if(typeof w==="function"){for(ha=0;ha<ka;++ha)da[ha]=+w.call(this,ba[ha],ha);}else for(ha=0;ha<ka;++ha)da[ha]=w;ea=[];if(typeof x==="function"){for(ha=0;ha<ja;++ha)ea[ha]=+x.call(this,aa[ha],ha);}else for(ha=0;ha<ja;++ha)ea[ha]=x;function pa(ra,sa){var ta=qa(ha),ua=-1,va=ta.length,wa;while(++ua<va)if(!isNaN(wa=ta[ua][ra]))return wa;return Math.random()*sa;}function qa(){if(!na){na=[];for(ia=0;ia<ja;++ia)na[ia]=[];for(ia=0;ia<ka;++ia){var ra=ba[ia];na[ra.source.index].push(ra.target);na[ra.target.index].push(ra.source);}}return na[ha];}return q.resume();};q.resume=function(){return q.alpha(.1);};q.stop=function(){return q.alpha(0);};q.drag=function(){if(!s)s=c("d3/behavior/drag")().origin(h).on("dragstart.force",j).on("drag.force",ga).on("dragend.force",k);if(!arguments.length)return s;this.on("mouseover.force",l).on("mouseout.force",m).call(s);};function ga(ha){ha.px=c("d3/core/core").event.x,ha.py=c("d3/core/core").event.y;q.resume();}return c("d3/core/rebind")(q,event,"on");};function j(q){q.fixed|=2;}function k(q){q.fixed&=~6;}function l(q){q.fixed|=4;q.px=q.x,q.py=q.y;}function m(q){q.fixed&=~4;}function n(q,r,s){var t=0,u=0;q.charge=0;if(!q.leaf){var v=q.nodes,w=v.length,x=-1,y;while(++x<w){y=v[x];if(y==null)continue;n(y,r,s);q.charge+=y.charge;t+=y.charge*y.cx;u+=y.charge*y.cy;}}if(q.point){if(!q.leaf){q.point.x+=Math.random()-.5;q.point.y+=Math.random()-.5;}var z=r*s[q.point.index];q.charge+=q.pointCharge=z;t+=z*q.point.x;u+=z*q.point.y;}q.cx=t/q.charge;q.cy=u/q.charge;}var o=20,p=1;f.exports=i;},null);
__d("d3/layout/histogram",["d3/core/functor","d3/core/bisect","d3/core/min","d3/core/max"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/functor")._functor,i=function(){var m=true,n=Number,o=l,p=j;function q(r,s){var t=[],u=r.map(n,this),v=o.call(this,u,s),w=p.call(this,v,u,s),x,s=-1,y=u.length,z=w.length-1,aa=m?1:1/y,ba;while(++s<z){x=t[s]=[];x.dx=w[s+1]-(x.x=w[s]);x.y=0;}if(z>0){s=-1;while(++s<y){ba=u[s];if(ba>=v[0]&&ba<=v[1]){x=t[c("d3/core/bisect")(w,ba,1,z)-1];x.y+=aa;x.push(r[s]);}}}return t;}q.value=function(r){if(!arguments.length)return n;n=r;return q;};q.range=function(r){if(!arguments.length)return o;o=h(r);return q;};q.bins=function(r){if(!arguments.length)return p;p=typeof r==="number"?function(s){return k(s,r);}:h(r);return q;};q.frequency=function(r){if(!arguments.length)return m;m=!!r;return q;};return q;};function j(m,n){return k(m,Math.ceil(Math.log(n.length)/Math.LN2+1));}function k(m,n){var o=-1,p=+m[0],q=(m[1]-p)/n,r=[];while(++o<=n)r[o]=q*o+p;return r;}function l(m){return [c("d3/core/min")(m),c("d3/core/max")(m)];}f.exports=i;},null);
__d("d3/layout/layout",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};f.exports=h;},null);
__d("d3/layout/pack",["d3/layout/hierarchy","d3/layout/tree"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/layout\/tree")._treeVisitAfter,i=c("d3/layout/hierarchy")._hierarchyRebind,j=function(){var t=c("d3/layout/hierarchy")().sort(k),u=0,v=[1,1];function w(x,y){var z=t.call(this,x,y),aa=z[0];aa.x=0;aa.y=0;h(aa,function(fa){fa.r=Math.sqrt(fa.value);});h(aa,o);var ba=v[0],ca=v[1],da=Math.max(2*aa.r/ba,2*aa.r/ca);if(u>0){var ea=u*da/2;h(aa,function(fa){fa.r+=ea;});h(aa,o);h(aa,function(fa){fa.r-=ea;});da=Math.max(2*aa.r/ba,2*aa.r/ca);}r(aa,ba/2,ca/2,1/da);return z;}w.size=function(x){if(!arguments.length)return v;v=x;return w;};w.padding=function(x){if(!arguments.length)return u;u=+x;return w;};return i(w,t);};function k(t,u){return t.value-u.value;}function l(t,u){var v=t._pack_next;t._pack_next=u;u._pack_prev=t;u._pack_next=v;v._pack_prev=u;}function m(t,u){t._pack_next=u;u._pack_prev=t;}function n(t,u){var v=u.x-t.x,w=u.y-t.y,x=t.r+u.r;return x*x-v*v-w*w>.001;}function o(t){if(!(u=t.children)||!(fa=u.length))return;var u,v=Infinity,w=-Infinity,x=Infinity,y=-Infinity,z,aa,ba,ca,da,ea,fa;function ga(na){v=Math.min(na.x-na.r,v);w=Math.max(na.x+na.r,w);x=Math.min(na.y-na.r,x);y=Math.max(na.y+na.r,y);}u.forEach(p);z=u[0];z.x=-z.r;z.y=0;ga(z);if(fa>1){aa=u[1];aa.x=aa.r;aa.y=0;ga(aa);if(fa>2){ba=u[2];s(z,aa,ba);ga(ba);l(z,ba);z._pack_prev=ba;l(ba,aa);aa=z._pack_next;for(ca=3;ca<fa;ca++){s(z,aa,ba=u[ca]);var ha=0,ia=1,ja=1;for(da=aa._pack_next;da!==aa;da=da._pack_next,ia++)if(n(da,ba)){ha=1;break;}if(ha==1)for(ea=z._pack_prev;ea!==da._pack_prev;ea=ea._pack_prev,ja++)if(n(ea,ba))break;if(ha){if(ia<ja||ia==ja&&aa.r<z.r){m(z,aa=da);}else m(z=ea,aa);ca--;}else{l(z,ba);aa=ba;ga(ba);}}}}var ka=(v+w)/2,la=(x+y)/2,ma=0;for(ca=0;ca<fa;ca++){ba=u[ca];ba.x-=ka;ba.y-=la;ma=Math.max(ma,ba.r+Math.sqrt(ba.x*ba.x+ba.y*ba.y));}t.r=ma;u.forEach(q);}function p(t){t._pack_next=t._pack_prev=t;}function q(t){delete t._pack_next;delete t._pack_prev;}function r(t,u,v,w){var x=t.children;t.x=u+=w*t.x;t.y=v+=w*t.y;t.r*=w;if(x){var y=-1,z=x.length;while(++y<z)r(x[y],u,v,w);}}function s(t,u,v){var w=t.r+v.r,x=u.x-t.x,y=u.y-t.y;if(w&&(x||y)){var z=u.r+v.r,aa=x*x+y*y;z*=z;w*=w;var ba=.5+(w-z)/(2*aa),ca=Math.sqrt(Math.max(0,2*z*(w+aa)-(w-=aa)*w-z*z))/(2*aa);v.x=t.x+ba*x+ca*y;v.y=t.y+ba*y-ca*x;}else{v.x=t.x+w;v.y=t.y;}}f.exports=j;},null);
__d("d3/layout/partition",["d3/layout/hierarchy"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/layout/hierarchy")._hierarchyRebind,i=function(){var j=c("d3/layout/hierarchy")(),k=[1,1];function l(o,p,q,r){var s=o.children;o.x=p;o.y=o.depth*r;o.dx=q;o.dy=r;if(s&&(u=s.length)){var t=-1,u,v,w;q=o.value?q/o.value:0;while(++t<u){l(v=s[t],p,w=v.value*q,r);p+=w;}}}function m(o){var p=o.children,q=0;if(p&&(s=p.length)){var r=-1,s;while(++r<s)q=Math.max(q,m(p[r]));}return 1+q;}function n(o,p){var q=j.call(this,o,p);l(q[0],0,k[0],k[1]/m(q[0]));return q;}n.size=function(o){if(!arguments.length)return k;k=o;return n;};return h(n,j);};f.exports=i;},null);
__d("d3/layout/pie",["d3/core/core","d3/core/sum","d3/core/range"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._u03c0,i=function(){var k=Number,l=j,m=0,n=2*h;function o(p){var q=p.map(function(v,w){return +k.call(o,v,w);}),r=+(typeof m==="function"?m.apply(this,arguments):m),s=((typeof n==="function"?n.apply(this,arguments):n)-m)/c("d3/core/sum")(q),t=c("d3/core/range")(p.length);if(l!=null)t.sort(l===j?function(v,w){return q[w]-q[v];}:function(v,w){return l(p[v],p[w]);});var u=[];t.forEach(function(v){var w;u[v]={data:p[v],value:w=q[v],startAngle:r,endAngle:r+=w*s};});return u;}o.value=function(p){if(!arguments.length)return k;k=p;return o;};o.sort=function(p){if(!arguments.length)return l;l=p;return o;};o.startAngle=function(p){if(!arguments.length)return m;m=p;return o;};o.endAngle=function(p){if(!arguments.length)return n;n=p;return o;};return o;},j={};f.exports=i;},null);
__d("d3/layout/stack",["d3/core/identity","d3/core/permute","d3/core/map","d3/core/range"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/identity")._identity,i=function(){var t=h,u=o,v=p,w=l,x=j,y=k;function z(aa,ba){var ca=aa.map(function(la,ma){return t.call(z,la,ma);}),da=ca.map(function(la){return la.map(function(ma,na){return [x.call(z,ma,na),y.call(z,ma,na)];});}),ea=u.call(z,da,ba);ca=c("d3/core/permute")(ca,ea);da=c("d3/core/permute")(da,ea);var fa=v.call(z,da,ba),ga=ca.length,ha=ca[0].length,ia,ja,ka;for(ja=0;ja<ha;++ja){w.call(z,ca[0][ja],ka=fa[ja],da[0][ja][1]);for(ia=1;ia<ga;++ia)w.call(z,ca[ia][ja],ka+=da[ia-1][ja][1],da[ia][ja][1]);}return aa;}z.values=function(aa){if(!arguments.length)return t;t=aa;return z;};z.order=function(aa){if(!arguments.length)return u;u=typeof aa==="function"?aa:m.get(aa)||o;return z;};z.offset=function(aa){if(!arguments.length)return v;v=typeof aa==="function"?aa:n.get(aa)||p;return z;};z.x=function(aa){if(!arguments.length)return x;x=aa;return z;};z.y=function(aa){if(!arguments.length)return y;y=aa;return z;};z.out=function(aa){if(!arguments.length)return w;w=aa;return z;};return z;};function j(t){return t.x;}function k(t){return t.y;}function l(t,u,v){t.y0=u;t.y=v;}var m=c("d3/core/map")({"inside-out":function(t){var u=t.length,v,w,x=t.map(q),y=t.map(r),z=c("d3/core/range")(u).sort(function(ea,fa){return x[ea]-x[fa];}),aa=0,ba=0,ca=[],da=[];for(v=0;v<u;++v){w=z[v];if(aa<ba){aa+=y[w];ca.push(w);}else{ba+=y[w];da.push(w);}}return da.reverse().concat(ca);},reverse:function(t){return c("d3/core/range")(t.length).reverse();},"default":o}),n=c("d3/core/map")({silhouette:function(t){var u=t.length,v=t[0].length,w=[],x=0,y,z,aa,ba=[];for(z=0;z<v;++z){for(y=0,aa=0;y<u;y++)aa+=t[y][z][1];if(aa>x)x=aa;w.push(aa);}for(z=0;z<v;++z)ba[z]=(x-w[z])/2;return ba;},wiggle:function(t){var u=t.length,v=t[0],w=v.length,x,y,z,aa,ba,ca,da,ea,fa,ga=[];ga[0]=ea=fa=0;for(y=1;y<w;++y){for(x=0,aa=0;x<u;++x)aa+=t[x][y][1];for(x=0,ba=0,da=v[y][0]-v[y-1][0];x<u;++x){for(z=0,ca=(t[x][y][1]-t[x][y-1][1])/(2*da);z<x;++z)ca+=(t[z][y][1]-t[z][y-1][1])/da;ba+=ca*t[x][y][1];}ga[y]=ea-=aa?ba/aa*da:0;if(ea<fa)fa=ea;}for(y=0;y<w;++y)ga[y]-=fa;return ga;},expand:function(t){var u=t.length,v=t[0].length,w=1/u,x,y,z,aa=[];for(y=0;y<v;++y){for(x=0,z=0;x<u;x++)z+=t[x][y][1];if(z){for(x=0;x<u;x++)t[x][y][1]/=z;}else for(x=0;x<u;x++)t[x][y][1]=w;}for(y=0;y<v;++y)aa[y]=0;return aa;},zero:p});function o(t){return c("d3/core/range")(t.length);}function p(t){var u=-1,v=t[0].length,w=[];while(++u<v)w[u]=0;return w;}function q(t){var u=1,v=0,w=t[0][1],x,y=t.length;for(;u<y;++u)if((x=t[u][1])>w){v=u;w=x;}return v;}function r(t){return t.reduce(s,0);}function s(t,u){return t+u[1];}f.exports=i;},null);
__d("d3/layout/treemap",["d3/layout/hierarchy"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/layout/hierarchy")._hierarchyRebind,i=function(){var l=c("d3/layout/hierarchy")(),m=Math.round,n=[1,1],o=null,p=j,q=false,r,s="squarify",t=.5*(1+Math.sqrt(5));function u(aa,ba){var ca=-1,da=aa.length,ea,fa;while(++ca<da){fa=(ea=aa[ca]).value*(ba<0?0:ba);ea.area=isNaN(fa)||fa<=0?0:fa;}}function v(aa){var ba=aa.children;if(ba&&ba.length){var ca=p(aa),da=[],ea=ba.slice(),fa,ga=Infinity,ha,ia=s==="slice"?ca.dx:s==="dice"?ca.dy:s==="slice-dice"?aa.depth&1?ca.dy:ca.dx:Math.min(ca.dx,ca.dy),ja;u(ea,ca.dx*ca.dy/aa.value);da.area=0;while((ja=ea.length)>0){da.push(fa=ea[ja-1]);da.area+=fa.area;if(s!=="squarify"||(ha=x(da,ia))<=ga){ea.pop();ga=ha;}else{da.area-=da.pop().area;y(da,ia,ca,false);ia=Math.min(ca.dx,ca.dy);da.length=da.area=0;ga=Infinity;}}if(da.length){y(da,ia,ca,true);da.length=da.area=0;}ba.forEach(v);}}function w(aa){var ba=aa.children;if(ba&&ba.length){var ca=p(aa),da=ba.slice(),ea,fa=[];u(da,ca.dx*ca.dy/aa.value);fa.area=0;while(ea=da.pop()){fa.push(ea);fa.area+=ea.area;if(ea.z!=null){y(fa,ea.z?ca.dx:ca.dy,ca,!da.length);fa.length=fa.area=0;}}ba.forEach(w);}}function x(aa,ba){var ca=aa.area,da,ea=0,fa=Infinity,ga=-1,ha=aa.length;while(++ga<ha){if(!(da=aa[ga].area))continue;if(da<fa)fa=da;if(da>ea)ea=da;}ca*=ca;ba*=ba;return ca?Math.max(ba*ea*t/ca,ca/(ba*fa*t)):Infinity;}function y(aa,ba,ca,da){var ea=-1,fa=aa.length,ga=ca.x,ha=ca.y,ia=ba?m(aa.area/ba):0,ja;if(ba==ca.dx){if(da||ia>ca.dy)ia=ca.dy;while(++ea<fa){ja=aa[ea];ja.x=ga;ja.y=ha;ja.dy=ia;ga+=ja.dx=Math.min(ca.x+ca.dx-ga,ia?m(ja.area/ia):0);}ja.z=true;ja.dx+=ca.x+ca.dx-ga;ca.y+=ia;ca.dy-=ia;}else{if(da||ia>ca.dx)ia=ca.dx;while(++ea<fa){ja=aa[ea];ja.x=ga;ja.y=ha;ja.dx=ia;ha+=ja.dy=Math.min(ca.y+ca.dy-ha,ia?m(ja.area/ia):0);}ja.z=false;ja.dy+=ca.y+ca.dy-ha;ca.x+=ia;ca.dx-=ia;}}function z(aa){var ba=r||l(aa),ca=ba[0];ca.x=0;ca.y=0;ca.dx=n[0];ca.dy=n[1];if(r)l.revalue(ca);u([ca],ca.dx*ca.dy/ca.value);(r?w:v)(ca);if(q)r=ba;return ba;}z.size=function(aa){if(!arguments.length)return n;n=aa;return z;};z.padding=function(aa){if(!arguments.length)return o;function ba(ea){var fa=aa.call(z,ea,ea.depth);return fa==null?j(ea):k(ea,typeof fa==="number"?[fa,fa,fa,fa]:fa);}function ca(ea){return k(ea,aa);}var da;p=(o=aa)==null?j:(da=typeof aa)==="function"?ba:da==="number"?(aa=[aa,aa,aa,aa],ca):ca;return z;};z.round=function(aa){if(!arguments.length)return m!=Number;m=aa?Math.round:Number;return z;};z.sticky=function(aa){if(!arguments.length)return q;q=aa;r=null;return z;};z.ratio=function(aa){if(!arguments.length)return t;t=aa;return z;};z.mode=function(aa){if(!arguments.length)return s;s=aa+"";return z;};return h(z,l);};function j(l){return {x:l.x,y:l.y,dx:l.dx,dy:l.dy};}function k(l,m){var n=l.x+m[3],o=l.y+m[0],p=l.dx-m[1]-m[3],q=l.dy-m[0]-m[2];if(p<0){n+=p/2;p=0;}if(q<0){o+=q/2;q=0;}return {x:n,y:o,dx:p,dy:q};}f.exports=i;},null);
__d("d3/d3.layout",["d3/layout/layout","d3/layout/bundle","d3/layout/chord","d3/layout/force","d3/layout/partition","d3/layout/pie","d3/layout/stack","d3/layout/histogram","d3/layout/hierarchy","d3/layout/pack","d3/layout/cluster","d3/layout/tree","d3/layout/treemap"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c("d3/layout/layout").bundle=c("d3\/layout\/bundle");c("d3/layout/layout").chord=c("d3\/layout\/chord");c("d3/layout/layout").force=c("d3\/layout\/force");c("d3/layout/layout").partition=c("d3\/layout\/partition");c("d3/layout/layout").pie=c("d3\/layout\/pie");c("d3/layout/layout").stack=c("d3\/layout\/stack");c("d3/layout/layout").histogram=c("d3\/layout\/histogram");c("d3/layout/layout").hierarchy=c("d3\/layout\/hierarchy");c("d3/layout/layout").pack=c("d3\/layout\/pack");c("d3/layout/layout").cluster=c("d3\/layout\/cluster");c("d3/layout/layout").tree=c("d3\/layout\/tree");c("d3/layout/layout").treemap=c("d3\/layout\/treemap");f.exports=c("d3/layout/layout");},null);
__d("d3/scale/category",["d3/scale/ordinal"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(){return c("d3/scale/ordinal")().range(i);};h.category20=function(){return c("d3/scale/ordinal")().range(j);};h.category20b=function(){return c("d3/scale/ordinal")().range(k);};h.category20c=function(){return c("d3/scale/ordinal")().range(l);};var i=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],j=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],k=["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],l=["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"];f.exports=h;},null);
__d("d3/scale/identity",["d3/scale/linear"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/scale/linear")._linearTicks,i=c("d3/scale/linear")._linearTickFormat,j=function(){return k([0,1]);};function k(l){function m(n){return +n;}m.invert=m;m.domain=m.range=function(n){if(!arguments.length)return l;l=n.map(m);return m;};m.ticks=function(n){return h(l,n);};m.tickFormat=function(n){return i(l,n);};m.copy=function(){return k(l);};return m;}f.exports=j;},null);
__d("d3/scale/log",["d3/scale/nice","d3/scale/linear","d3/scale/scale","d3/core/format"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/scale/nice")._nice,i=c("d3/scale/nice")._niceDefault,j=c("d3\/scale\/scale")._scaleExtent,k=c("d3/scale/linear")._linearRebind,l=function(){return m(c("d3/scale/linear")(),o);};function m(q,r){var s=r.pow;function t(u){return q(r(u));}t.invert=function(u){return s(q.invert(u));};t.domain=function(u){if(!arguments.length)return q.domain().map(s);r=u[0]<0?p:o;s=r.pow;q.domain(u.map(r));return t;};t.nice=function(){q.domain(h(q.domain(),i));return t;};t.ticks=function(){var u=j(q.domain()),v=[];if(u.every(isFinite)){var w=Math.floor(u[0]),x=Math.ceil(u[1]),y=s(u[0]),z=s(u[1]);if(r===p){v.push(s(w));for(;w++<x;)for(var aa=9;aa>0;aa--)v.push(s(w)*aa);}else{for(;w<x;w++)for(var aa=1;aa<10;aa++)v.push(s(w)*aa);v.push(s(w));}for(w=0;v[w]<y;w++);for(x=v.length;v[x-1]>z;x--);v=v.slice(w,x);}return v;};t.tickFormat=function(u,v){if(arguments.length<2)v=n;if(!arguments.length)return v;var w=Math.max(.1,u/t.ticks().length),x=r===p?(y=-1e-12,Math.floor):(y=1e-12,Math.ceil),y;return function(z){return z/s(x(r(z)+y))<=w?v(z):"";};};t.copy=function(){return m(q.copy(),r);};return k(t,q);}var n=c("d3/core/format")(".0e");function o(q){return Math.log(q<0?0:q)/Math.LN10;}function p(q){return -Math.log(q>0?0:-q)/Math.LN10;}o.pow=function(q){return Math.pow(10,q);};p.pow=function(q){return -Math.pow(10,-q);};f.exports=l;},null);
__d("d3/scale/pow",["d3/scale/linear","d3/scale/nice"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/scale/linear")._linearTicks,i=c("d3/scale/linear")._linearTickFormat,j=c("d3\/scale\/nice")._nice,k=c("d3/scale/linear")._linearNice,l=c("d3/scale/linear")._linearRebind,m=function(){return n(c("d3/scale/linear")(),1);};function n(p,q){var r=o(q),s=o(1/q);function t(u){return p(r(u));}t.invert=function(u){return s(p.invert(u));};t.domain=function(u){if(!arguments.length)return p.domain().map(s);p.domain(u.map(r));return t;};t.ticks=function(u){return h(t.domain(),u);};t.tickFormat=function(u){return i(t.domain(),u);};t.nice=function(){return t.domain(j(t.domain(),k));};t.exponent=function(u){if(!arguments.length)return q;var v=t.domain();r=o(q=u);s=o(1/q);return t.domain(v);};t.copy=function(){return n(p.copy(),q);};return l(t,p);}function o(p){return function(q){return q<0?-Math.pow(-q,p):Math.pow(q,p);};}f.exports=m;},null);
__d("d3/scale/quantile",["d3/core/quantile","d3/core/bisect","d3/core/ascending"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(){return i([],[]);};function i(j,k){var l;function m(){var o=0,p=k.length;l=[];while(++o<p)l[o-1]=c("d3/core/quantile")(j,o/p);return n;}function n(o){if(isNaN(o=+o))return NaN;return k[c("d3/core/bisect")(l,o)];}n.domain=function(o){if(!arguments.length)return j;j=o.filter(function(p){return !isNaN(p);}).sort(c("d3/core/ascending"));return m();};n.range=function(o){if(!arguments.length)return k;k=o;return m();};n.quantiles=function(){return l;};n.copy=function(){return i(j,k);};return m();}f.exports=h;},null);
__d("d3/scale/quantize",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(){return i(0,1,[0,1]);};function i(j,k,l){var m,n;function o(q){return l[Math.max(0,Math.min(n,Math.floor(m*(q-j))))];}function p(){m=l.length/(k-j);n=l.length-1;return o;}o.domain=function(q){if(!arguments.length)return [j,k];j=+q[0];k=+q[q.length-1];return p();};o.range=function(q){if(!arguments.length)return l;l=q;return p();};o.copy=function(){return i(j,k,l);};return p();}f.exports=h;},null);
__d("d3/scale/sqrt",["d3/scale/pow"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(){return c("d3/scale/pow")().exponent(.5);};f.exports=h;},null);
__d("d3/scale/threshold",["d3/core/bisect"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=function(){return i([.5],[0,1]);};function i(j,k){function l(m){return k[c("d3/core/bisect")(j,m)];}l.domain=function(m){if(!arguments.length)return j;j=m;return l;};l.range=function(m){if(!arguments.length)return k;k=m;return l;};l.copy=function(){return i(j,k);};return l;}f.exports=h;},null);
__d("d3/d3.scale",["d3/scale/scale","d3/scale/linear","d3/scale/log","d3/scale/pow","d3/scale/sqrt","d3/scale/ordinal","d3/scale/category","d3/scale/quantile","d3/scale/quantize","d3/scale/threshold","d3/scale/identity"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c("d3/scale/scale").linear=c("d3\/scale\/linear");c("d3/scale/scale").log=c("d3\/scale\/log");c("d3/scale/scale").pow=c("d3\/scale\/pow");c("d3/scale/scale").sqrt=c("d3\/scale\/sqrt");c("d3/scale/scale").ordinal=c("d3\/scale\/ordinal");c("d3/scale/scale").category10=c("d3\/scale\/category");c("d3/scale/scale").category20=c("d3\/scale\/category").category20;c("d3/scale/scale").category20b=c("d3\/scale\/category").category20b;c("d3/scale/scale").category20c=c("d3\/scale\/category").category20c;c("d3/scale/scale").quantile=c("d3\/scale\/quantile");c("d3/scale/scale").quantize=c("d3\/scale\/quantize");c("d3/scale/scale").threshold=c("d3\/scale\/threshold");c("d3/scale/scale").identity=c("d3\/scale\/identity");f.exports=c("d3/scale/scale");},null);
__d("d3/svg/arc",["d3/core/core","d3/core/functor"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/core")._u03c0,i=c("d3\/core\/functor")._functor,j=function(){var q=m,r=n,s=o,t=p;function u(){var v=q.apply(this,arguments),w=r.apply(this,arguments),x=s.apply(this,arguments)+k,y=t.apply(this,arguments)+k,z=(y<x&&(z=x,x=y,y=z),y-x),aa=z<h?"0":"1",ba=Math.cos(x),ca=Math.sin(x),da=Math.cos(y),ea=Math.sin(y);return z>=l?v?"M0,"+w+"A"+w+","+w+" 0 1,1 0,"+ -w+"A"+w+","+w+" 0 1,1 0,"+w+"M0,"+v+"A"+v+","+v+" 0 1,0 0,"+ -v+"A"+v+","+v+" 0 1,0 0,"+v+"Z":"M0,"+w+"A"+w+","+w+" 0 1,1 0,"+ -w+"A"+w+","+w+" 0 1,1 0,"+w+"Z":v?"M"+w*ba+","+w*ca+"A"+w+","+w+" 0 "+aa+",1 "+w*da+","+w*ea+"L"+v*da+","+v*ea+"A"+v+","+v+" 0 "+aa+",0 "+v*ba+","+v*ca+"Z":"M"+w*ba+","+w*ca+"A"+w+","+w+" 0 "+aa+",1 "+w*da+","+w*ea+"L0,0"+"Z";}u.innerRadius=function(v){if(!arguments.length)return q;q=i(v);return u;};u.outerRadius=function(v){if(!arguments.length)return r;r=i(v);return u;};u.startAngle=function(v){if(!arguments.length)return s;s=i(v);return u;};u.endAngle=function(v){if(!arguments.length)return t;t=i(v);return u;};u.centroid=function(){var v=(q.apply(this,arguments)+r.apply(this,arguments))/2,w=(s.apply(this,arguments)+t.apply(this,arguments))/2+k;return [Math.cos(w)*v,Math.sin(w)*v];};return u;},k=-h/2,l=2*h-1e-06;function m(q){return q.innerRadius;}function n(q){return q.outerRadius;}function o(q){return q.startAngle;}function p(q){return q.endAngle;}j._arcOffset=k;j._arcStartAngle=o;j._arcEndAngle=p;f.exports=j;},null);
__d("d3/svg/line",["d3/core/true","d3/core/functor","d3/core/identity","d3/core/map"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/true")._true,i=c("d3\/core\/functor")._functor,j=c("d3\/core\/identity")._identity;function k(la){var ma=m,na=n,oa=h,pa=p,qa=pa.key,ra=.7;function sa(ta){var ua=[],va=[],wa=-1,xa=ta.length,ya,za=i(ma),ab=i(na);function bb(){ua.push("M",pa(la(va),ra));}while(++wa<xa)if(oa.call(this,ya=ta[wa],wa)){va.push([+za.call(this,ya,wa),+ab.call(this,ya,wa)]);}else if(va.length){bb();va=[];}if(va.length)bb();return ua.length?ua.join(""):null;}sa.x=function(ta){if(!arguments.length)return ma;ma=ta;return sa;};sa.y=function(ta){if(!arguments.length)return na;na=ta;return sa;};sa.defined=function(ta){if(!arguments.length)return oa;oa=ta;return sa;};sa.interpolate=function(ta){if(!arguments.length)return qa;if(typeof ta==="function"){qa=pa=ta;}else qa=(pa=o.get(ta)||p).key;return sa;};sa.tension=function(ta){if(!arguments.length)return ra;ra=ta;return sa;};return sa;}var l=function(){return k(j);};function m(la){return la[0];}function n(la){return la[1];}var o=c("d3/core/map")({linear:p,"linear-closed":q,"step-before":r,"step-after":s,basis:y,"basis-open":z,"basis-closed":aa,bundle:ba,cardinal:v,"cardinal-open":t,"cardinal-closed":u,monotone:ka});o.forEach(function(la,ma){ma.key=la;ma.closed=/-closed$/.test(la);});function p(la){return la.join("L");}function q(la){return p(la)+"Z";}function r(la){var ma=0,na=la.length,oa=la[0],pa=[oa[0],",",oa[1]];while(++ma<na)pa.push("V",(oa=la[ma])[1],"H",oa[0]);return pa.join("");}function s(la){var ma=0,na=la.length,oa=la[0],pa=[oa[0],",",oa[1]];while(++ma<na)pa.push("H",(oa=la[ma])[0],"V",oa[1]);return pa.join("");}function t(la,ma){return la.length<4?p(la):la[1]+w(la.slice(1,la.length-1),x(la,ma));}function u(la,ma){return la.length<3?p(la):la[0]+w((la.push(la[0]),la),x([la[la.length-2]].concat(la,[la[1]]),ma));}function v(la,ma){return la.length<3?p(la):la[0]+w(la,x(la,ma));}function w(la,ma){if(ma.length<1||la.length!=ma.length&&la.length!=ma.length+2)return p(la);var na=la.length!=ma.length,oa="",pa=la[0],qa=la[1],ra=ma[0],sa=ra,ta=1;if(na){oa+="Q"+(qa[0]-ra[0]*2/3)+","+(qa[1]-ra[1]*2/3)+","+qa[0]+","+qa[1];pa=la[1];ta=2;}if(ma.length>1){sa=ma[1];qa=la[ta];ta++;oa+="C"+(pa[0]+ra[0])+","+(pa[1]+ra[1])+","+(qa[0]-sa[0])+","+(qa[1]-sa[1])+","+qa[0]+","+qa[1];for(var ua=2;ua<ma.length;ua++,ta++){qa=la[ta];sa=ma[ua];oa+="S"+(qa[0]-sa[0])+","+(qa[1]-sa[1])+","+qa[0]+","+qa[1];}}if(na){var va=la[ta];oa+="Q"+(qa[0]+sa[0]*2/3)+","+(qa[1]+sa[1]*2/3)+","+va[0]+","+va[1];}return oa;}function x(la,ma){var na=[],oa=(1-ma)/2,pa,qa=la[0],ra=la[1],sa=1,ta=la.length;while(++sa<ta){pa=qa;qa=ra;ra=la[sa];na.push([oa*(ra[0]-pa[0]),oa*(ra[1]-pa[1])]);}return na;}function y(la){if(la.length<3)return p(la);var ma=1,na=la.length,oa=la[0],pa=oa[0],qa=oa[1],ra=[pa,pa,pa,(oa=la[1])[0]],sa=[qa,qa,qa,oa[1]],ta=[pa,",",qa];ga(ta,ra,sa);while(++ma<na){oa=la[ma];ra.shift();ra.push(oa[0]);sa.shift();sa.push(oa[1]);ga(ta,ra,sa);}ma=-1;while(++ma<2){ra.shift();ra.push(oa[0]);sa.shift();sa.push(oa[1]);ga(ta,ra,sa);}return ta.join("");}function z(la){if(la.length<4)return p(la);var ma=[],na=-1,oa=la.length,pa,qa=[0],ra=[0];while(++na<3){pa=la[na];qa.push(pa[0]);ra.push(pa[1]);}ma.push(ca(fa,qa)+","+ca(fa,ra));--na;while(++na<oa){pa=la[na];qa.shift();qa.push(pa[0]);ra.shift();ra.push(pa[1]);ga(ma,qa,ra);}return ma.join("");}function aa(la){var ma,na=-1,oa=la.length,pa=oa+4,qa,ra=[],sa=[];while(++na<4){qa=la[na%oa];ra.push(qa[0]);sa.push(qa[1]);}ma=[ca(fa,ra),",",ca(fa,sa)];--na;while(++na<pa){qa=la[na%oa];ra.shift();ra.push(qa[0]);sa.shift();sa.push(qa[1]);ga(ma,ra,sa);}return ma.join("");}function ba(la,ma){var na=la.length-1;if(na){var oa=la[0][0],pa=la[0][1],qa=la[na][0]-oa,ra=la[na][1]-pa,sa=-1,ta,ua;while(++sa<=na){ta=la[sa];ua=sa/na;ta[0]=ma*ta[0]+(1-ma)*(oa+ua*qa);ta[1]=ma*ta[1]+(1-ma)*(pa+ua*ra);}}return y(la);}function ca(la,ma){return la[0]*ma[0]+la[1]*ma[1]+la[2]*ma[2]+la[3]*ma[3];}var da=[0,2/3,1/3,0],ea=[0,1/3,2/3,0],fa=[0,1/6,2/3,1/6];function ga(la,ma,na){la.push("C",ca(da,ma),",",ca(da,na),",",ca(ea,ma),",",ca(ea,na),",",ca(fa,ma),",",ca(fa,na));}function ha(la,ma){return (ma[1]-la[1])/(ma[0]-la[0]);}function ia(la){var ma=0,na=la.length-1,oa=[],pa=la[0],qa=la[1],ra=oa[0]=ha(pa,qa);while(++ma<na)oa[ma]=(ra+(ra=ha(pa=qa,qa=la[ma+1])))/2;oa[ma]=ra;return oa;}function ja(la){var ma=[],na,oa,pa,qa,ra=ia(la),sa=-1,ta=la.length-1;while(++sa<ta){na=ha(la[sa],la[sa+1]);if(Math.abs(na)<1e-06){ra[sa]=ra[sa+1]=0;}else{oa=ra[sa]/na;pa=ra[sa+1]/na;qa=oa*oa+pa*pa;if(qa>9){qa=na*3/Math.sqrt(qa);ra[sa]=qa*oa;ra[sa+1]=qa*pa;}}}sa=-1;while(++sa<=ta){qa=(la[Math.min(ta,sa+1)][0]-la[Math.max(0,sa-1)][0])/(6*(1+ra[sa]*ra[sa]));ma.push([qa||0,ra[sa]*qa||0]);}return ma;}function ka(la){return la.length<3?p(la):la[0]+w(la,ja(la));}l._lineInterpolators=o;l._line=k;l._lineX=m;l._lineY=n;l._lineLinear=p;l._lineStepBefore=r;l._lineStepAfter=s;f.exports=l;},null);
__d("d3/svg/area",["d3/svg/line","d3/core/true","d3/core/functor","d3/core/identity"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/svg/line")._lineX,i=c("d3/svg/line")._lineY,j=c("d3\/core\/true")._true,k=c("d3/svg/line")._lineLinear,l=c("d3\/core\/functor")._functor,m=c("d3/svg/line")._lineInterpolators,n=c("d3/svg/line")._lineStepBefore,o=c("d3/svg/line")._lineStepAfter,p=c("d3\/core\/identity")._identity;function q(s){var t=h,u=h,v=0,w=i,x=j,y=k,z=y.key,aa=y,ba="L",ca=.7;function da(ea){var fa=[],ga=[],ha=[],ia=-1,ja=ea.length,ka,la=l(t),ma=l(v),na=t===u?function(){return pa;}:l(u),oa=v===w?function(){return qa;}:l(w),pa,qa;function ra(){fa.push("M",y(s(ha),ca),ba,aa(s(ga.reverse()),ca),"Z");}while(++ia<ja)if(x.call(this,ka=ea[ia],ia)){ga.push([pa=+la.call(this,ka,ia),qa=+ma.call(this,ka,ia)]);ha.push([+na.call(this,ka,ia),+oa.call(this,ka,ia)]);}else if(ga.length){ra();ga=[];ha=[];}if(ga.length)ra();return fa.length?fa.join(""):null;}da.x=function(ea){if(!arguments.length)return u;t=u=ea;return da;};da.x0=function(ea){if(!arguments.length)return t;t=ea;return da;};da.x1=function(ea){if(!arguments.length)return u;u=ea;return da;};da.y=function(ea){if(!arguments.length)return w;v=w=ea;return da;};da.y0=function(ea){if(!arguments.length)return v;v=ea;return da;};da.y1=function(ea){if(!arguments.length)return w;w=ea;return da;};da.defined=function(ea){if(!arguments.length)return x;x=ea;return da;};da.interpolate=function(ea){if(!arguments.length)return z;if(typeof ea==="function"){z=y=ea;}else z=(y=m.get(ea)||k).key;aa=y.reverse||y;ba=y.closed?"M":"L";return da;};da.tension=function(ea){if(!arguments.length)return ca;ca=ea;return da;};return da;}n.reverse=o;o.reverse=n;var r=function(){return q(p);};r._area=q;f.exports=r;},null);
__d("d3/svg/line-radial",["d3/svg/line","d3/svg/arc"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/svg\/line")._line,i=c("d3\/svg\/arc")._arcOffset,j=function(){var l=h(k);l.radius=l.x,delete l.x;l.angle=l.y,delete l.y;return l;};function k(l){var m,n=-1,o=l.length,p,q;while(++n<o){m=l[n];p=m[0];q=m[1]+i;m[0]=p*Math.cos(q);m[1]=p*Math.sin(q);}return l;}j._lineRadial=k;f.exports=j;},null);
__d("d3/svg/area-radial",["d3/svg/area","d3/svg/line-radial"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/svg\/area")._area,i=c("d3\/svg\/line-radial")._lineRadial,j=function(){var k=h(i);k.radius=k.x,delete k.x;k.innerRadius=k.x0,delete k.x0;k.outerRadius=k.x1,delete k.x1;k.angle=k.y,delete k.y;k.startAngle=k.y0,delete k.y0;k.endAngle=k.y1,delete k.y1;return k;};f.exports=j;},null);
__d("d3/svg/axis",["d3/scale/scale","d3/scale/linear","d3/core/selection-root","d3/core/transition"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/scale/scale")._scaleRange,i=c("d3/scale/scale")._scaleExtent,j=function(){var p=c("d3/scale/linear")(),q=k,r=6,s=6,t=6,u=3,v=[10],w=null,x,y=0;function z(aa){aa.each(function(){var ba=c("d3/core/selection-root")(this),ca=w==null?p.ticks?p.ticks.apply(p,v):p.domain():w,da=x==null?p.tickFormat?p.tickFormat.apply(p,v):String:x,ea=o(p,ca,y),fa=ba.selectAll(".tick.minor").data(ea,String),ga=fa.enter().insert("line",".tick").attr("class","tick minor").style("opacity",1e-06),ha=c("d3/core/transition")(fa.exit()).style("opacity",1e-06).remove(),ia=c("d3/core/transition")(fa).style("opacity",1),ja=ba.selectAll(".tick.major").data(ca,String),ka=ja.enter().insert("g","path").attr("class","tick major").style("opacity",1e-06),la=c("d3/core/transition")(ja.exit()).style("opacity",1e-06).remove(),ma=c("d3/core/transition")(ja).style("opacity",1),na,oa=h(p),pa=ba.selectAll(".domain").data([0]),qa=(pa.enter().append("path").attr("class","domain"),c("d3/core/transition")(pa)),ra=p.copy(),sa=this.__chart__||ra;this.__chart__=ra;ka.append("line");ka.append("text");var ta=ka.select("line"),ua=ma.select("line"),va=ja.select("text").text(da),wa=ka.select("text"),xa=ma.select("text");switch(q){case "bottom":na=m;ga.attr("y2",s);ia.attr("x2",0).attr("y2",s);ta.attr("y2",r);wa.attr("y",Math.max(r,0)+u);ua.attr("x2",0).attr("y2",r);xa.attr("x",0).attr("y",Math.max(r,0)+u);va.attr("dy",".71em").style("text-anchor","middle");qa.attr("d","M"+oa[0]+","+t+"V0H"+oa[1]+"V"+t);break;case "top":na=m;ga.attr("y2",-s);ia.attr("x2",0).attr("y2",-s);ta.attr("y2",-r);wa.attr("y",-(Math.max(r,0)+u));ua.attr("x2",0).attr("y2",-r);xa.attr("x",0).attr("y",-(Math.max(r,0)+u));va.attr("dy","0em").style("text-anchor","middle");qa.attr("d","M"+oa[0]+","+ -t+"V0H"+oa[1]+"V"+ -t);break;case "left":na=n;ga.attr("x2",-s);ia.attr("x2",-s).attr("y2",0);ta.attr("x2",-r);wa.attr("x",-(Math.max(r,0)+u));ua.attr("x2",-r).attr("y2",0);xa.attr("x",-(Math.max(r,0)+u)).attr("y",0);va.attr("dy",".32em").style("text-anchor","end");qa.attr("d","M"+ -t+","+oa[0]+"H0V"+oa[1]+"H"+ -t);break;case "right":na=n;ga.attr("x2",s);ia.attr("x2",s).attr("y2",0);ta.attr("x2",r);wa.attr("x",Math.max(r,0)+u);ua.attr("x2",r).attr("y2",0);xa.attr("x",Math.max(r,0)+u).attr("y",0);va.attr("dy",".32em").style("text-anchor","start");qa.attr("d","M"+t+","+oa[0]+"H0V"+oa[1]+"H"+t);break;}if(p.ticks){ka.call(na,sa);ma.call(na,ra);la.call(na,ra);ga.call(na,sa);ia.call(na,ra);ha.call(na,ra);}else{var ya=ra.rangeBand()/2,za=function(ab){return ra(ab)+ya;};ka.call(na,za);ma.call(na,za);}});}z.scale=function(aa){if(!arguments.length)return p;p=aa;return z;};z.orient=function(aa){if(!arguments.length)return q;q=aa in l?aa+"":k;return z;};z.ticks=function(){if(!arguments.length)return v;v=arguments;return z;};z.tickValues=function(aa){if(!arguments.length)return w;w=aa;return z;};z.tickFormat=function(aa){if(!arguments.length)return x;x=aa;return z;};z.tickSize=function(aa,ba){if(!arguments.length)return r;var ca=arguments.length-1;r=+aa;s=ca>1?+ba:r;t=ca>0?+arguments[ca]:r;return z;};z.tickPadding=function(aa){if(!arguments.length)return u;u=+aa;return z;};z.tickSubdivide=function(aa){if(!arguments.length)return y;y=+aa;return z;};return z;},k="bottom",l={top:1,right:1,bottom:1,left:1};function m(p,q){p.attr("transform",function(r){return "translate("+q(r)+",0)";});}function n(p,q){p.attr("transform",function(r){return "translate(0,"+q(r)+")";});}function o(p,q,r){t=[];if(r&&q.length>1){var s=i(p.domain()),t,u=-1,v=q.length,w=(q[1]-q[0])/++r,x,y;while(++u<v)for(x=r;--x>0;)if((y=+q[u]-x*w)>=s[0])t.push(y);for(--u,x=0;++x<r&&(y=+q[u]+x*w)<s[1];)t.push(y);}return t;}f.exports=j;},null);
__d("d3/svg/brush",["d3/core/event","d3/core/core","d3/scale/scale","d3/core/selection-root","d3/core/touches","d3/core/mouse","d3/core/rebind"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/event")._eventDispatch,i=c("d3\/scale\/scale")._scaleRange,j=c("d3/core/core")._window,k=c("d3/core/event")._eventCancel,l=function(){var event=h(t,"brushstart","brush","brushend"),o=null,p=null,q=n[0],r=[[0,0],[0,0]],s;function t(z){z.each(function(){var aa=c("d3/core/selection-root")(this),ba=aa.selectAll(".background").data([0]),ca=aa.selectAll(".extent").data([0]),da=aa.selectAll(".resize").data(q,String),ea;aa.style("pointer-events","all").on("mousedown.brush",x).on("touchstart.brush",x);ba.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair");ca.enter().append("rect").attr("class","extent").style("cursor","move");da.enter().append("g").attr("class",function(y){return "resize "+y;}).style("cursor",function(y){return m[y];}).append("rect").attr("x",function(y){return (/[ew]$/.test(y)?-3:null);}).attr("y",function(y){return (/^[ns]/.test(y)?-3:null);}).attr("width",6).attr("height",6).style("visibility","hidden");da.style("display",t.empty()?"none":null);da.exit().remove();if(o){ea=i(o);ba.attr("x",ea[0]).attr("width",ea[1]-ea[0]);v(aa);}if(p){ea=i(p);ba.attr("y",ea[0]).attr("height",ea[1]-ea[0]);w(aa);}u(aa);});}function u(y){y.selectAll(".resize").attr("transform",function(z){return "translate("+r[+/e$/.test(z)][0]+","+r[+/^s/.test(z)][1]+")";});}function v(y){y.select(".extent").attr("x",r[0][0]);y.selectAll(".extent,.n>rect,.s>rect").attr("width",r[1][0]-r[0][0]);}function w(y){y.select(".extent").attr("y",r[0][1]);y.selectAll(".extent,.e>rect,.w>rect").attr("height",r[1][1]-r[0][1]);}function x(){var z=this,aa=c("d3/core/selection-root")(c("d3/core/core").event.target),ba=event.of(z,arguments),ca=c("d3/core/selection-root")(z),da=aa.datum(),ea=!/^(n|s)$/.test(da)&&o,fa=!/^(e|w)$/.test(da)&&p,ga=aa.classed("extent"),ha,ia=na(),ja,ka=c("d3/core/selection-root")(j).on("mousemove.brush",qa).on("mouseup.brush",sa).on("touchmove.brush",qa).on("touchend.brush",sa).on("keydown.brush",oa).on("keyup.brush",pa);if(ga){ia[0]=r[0][0]-ia[0];ia[1]=r[0][1]-ia[1];}else if(da){var la=+/w$/.test(da),ma=+/^n/.test(da);ja=[r[1-la][0]-ia[0],r[1-ma][1]-ia[1]];ia[0]=r[la][0];ia[1]=r[ma][1];}else if(c("d3/core/core").event.altKey)ha=ia.slice();ca.style("pointer-events","none").selectAll(".resize").style("display",null);c("d3/core/selection-root")("body").style("cursor",aa.style("cursor"));ba({type:"brushstart"});qa();k();function na(){var y=c("d3/core/core").event.changedTouches;return y?c("d3/core/touches")(z,y)[0]:c("d3/core/mouse")(z);}function oa(){if(c("d3/core/core").event.keyCode==32){if(!ga){ha=null;ia[0]-=r[1][0];ia[1]-=r[1][1];ga=2;}k();}}function pa(){if(c("d3/core/core").event.keyCode==32&&ga==2){ia[0]+=r[1][0];ia[1]+=r[1][1];ga=0;k();}}function qa(){var ta=na(),ua=false;if(ja){ta[0]+=ja[0];ta[1]+=ja[1];}if(!ga)if(c("d3/core/core").event.altKey){if(!ha)ha=[(r[0][0]+r[1][0])/2,(r[0][1]+r[1][1])/2];ia[0]=r[+(ta[0]<ha[0])][0];ia[1]=r[+(ta[1]<ha[1])][1];}else ha=null;if(ea&&ra(ta,o,0)){v(ca);ua=true;}if(fa&&ra(ta,p,1)){w(ca);ua=true;}if(ua){u(ca);ba({type:"brush",mode:ga?"move":"resize"});}}function ra(y,ta,ua){var va=i(ta),wa=va[0],xa=va[1],ya=ia[ua],za=r[1][ua]-r[0][ua],ab,bb;if(ga){wa-=ya;xa-=za+ya;}ab=Math.max(wa,Math.min(xa,y[ua]));if(ga){bb=(ab+=ya)+za;}else{if(ha)ya=Math.max(wa,Math.min(xa,2*ha[ua]-ab));if(ya<ab){bb=ab;ab=ya;}else bb=ya;}if(r[0][ua]!==ab||r[1][ua]!==bb){s=null;r[0][ua]=ab;r[1][ua]=bb;return true;}}function sa(){qa();ca.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null);c("d3/core/selection-root")("body").style("cursor",null);ka.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null);ba({type:"brushend"});k();}}t.x=function(z){if(!arguments.length)return o;o=z;q=n[!o<<1|!p];return t;};t.y=function(z){if(!arguments.length)return p;p=z;q=n[!o<<1|!p];return t;};t.extent=function(z){var aa,ba,ca,da,ea;if(!arguments.length){z=s||r;if(o){aa=z[0][0],ba=z[1][0];if(!s){aa=r[0][0],ba=r[1][0];if(o.invert)aa=o.invert(aa),ba=o.invert(ba);if(ba<aa)ea=aa,aa=ba,ba=ea;}}if(p){ca=z[0][1],da=z[1][1];if(!s){ca=r[0][1],da=r[1][1];if(p.invert)ca=p.invert(ca),da=p.invert(da);if(da<ca)ea=ca,ca=da,da=ea;}}return o&&p?[[aa,ca],[ba,da]]:o?[aa,ba]:p&&[ca,da];}s=[[0,0],[0,0]];if(o){aa=z[0],ba=z[1];if(p)aa=aa[0],ba=ba[0];s[0][0]=aa,s[1][0]=ba;if(o.invert)aa=o(aa),ba=o(ba);if(ba<aa)ea=aa,aa=ba,ba=ea;r[0][0]=aa|0,r[1][0]=ba|0;}if(p){ca=z[0],da=z[1];if(o)ca=ca[1],da=da[1];s[0][1]=ca,s[1][1]=da;if(p.invert)ca=p(ca),da=p(da);if(da<ca)ea=ca,ca=da,da=ea;r[0][1]=ca|0,r[1][1]=da|0;}return t;};t.clear=function(){s=null;r[0][0]=r[0][1]=r[1][0]=r[1][1]=0;return t;};t.empty=function(){return o&&r[0][0]===r[1][0]||p&&r[0][1]===r[1][1];};return c("d3/core/rebind")(t,event,"on");},m={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},n=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]];f.exports=l;},null);
__d("d3/svg/chord",["d3/core/core","d3/svg/arc","d3/core/functor"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/core")._source,i=c("d3/core/core")._target,j=c("d3/svg/arc")._arcStartAngle,k=c("d3/svg/arc")._arcEndAngle,l=c("d3/svg/arc")._arcOffset,m=c("d3/core/core")._u03c0,n=c("d3\/core\/functor")._functor,o=function(){var q=h,r=i,s=p,t=j,u=k;function v(aa,ba){var ca=w(this,q,aa,ba),da=w(this,r,aa,ba);return "M"+ca.p0+y(ca.r,ca.p1,ca.a1-ca.a0)+(x(ca,da)?z(ca.r,ca.p1,ca.r,ca.p0):z(ca.r,ca.p1,da.r,da.p0)+y(da.r,da.p1,da.a1-da.a0)+z(da.r,da.p1,ca.r,ca.p0))+"Z";}function w(aa,ba,ca,da){var ea=ba.call(aa,ca,da),fa=s.call(aa,ea,da),ga=t.call(aa,ea,da)+l,ha=u.call(aa,ea,da)+l;return {r:fa,a0:ga,a1:ha,p0:[fa*Math.cos(ga),fa*Math.sin(ga)],p1:[fa*Math.cos(ha),fa*Math.sin(ha)]};}function x(aa,ba){return aa.a0==ba.a0&&aa.a1==ba.a1;}function y(aa,ba,ca){return "A"+aa+","+aa+" 0 "+ +(ca>m)+",1 "+ba;}function z(aa,ba,ca,da){return "Q 0,0 "+da;}v.radius=function(aa){if(!arguments.length)return s;s=n(aa);return v;};v.source=function(aa){if(!arguments.length)return q;q=n(aa);return v;};v.target=function(aa){if(!arguments.length)return r;r=n(aa);return v;};v.startAngle=function(aa){if(!arguments.length)return t;t=n(aa);return v;};v.endAngle=function(aa){if(!arguments.length)return u;u=n(aa);return v;};return v;};function p(q){return q.radius;}f.exports=o;},null);
__d("d3/svg/diagonal",["d3/core/core","d3/core/functor"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/core/core")._source,i=c("d3/core/core")._target,j=c("d3\/core\/functor")._functor,k=function(){var m=h,n=i,o=l;function p(q,r){var s=m.call(this,q,r),t=n.call(this,q,r),u=(s.y+t.y)/2,v=[s,{x:s.x,y:u},{x:t.x,y:u},t];v=v.map(o);return "M"+v[0]+"C"+v[1]+" "+v[2]+" "+v[3];}p.source=function(q){if(!arguments.length)return m;m=j(q);return p;};p.target=function(q){if(!arguments.length)return n;n=j(q);return p;};p.projection=function(q){if(!arguments.length)return o;o=q;return p;};return p;};function l(m){return [m.x,m.y];}k._diagonalProjection=l;f.exports=k;},null);
__d("d3/svg/diagonal-radial",["d3/svg/diagonal","d3/svg/arc"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/svg/diagonal")._diagonalProjection,i=c("d3\/svg\/arc")._arcOffset,j=function(){var l=c("d3/svg/diagonal")(),m=h,n=l.projection;l.projection=function(o){return arguments.length?n(k(m=o)):m;};return l;};function k(l){return function(){var m=l.apply(this,arguments),n=m[0],o=m[1]+i;return [n*Math.cos(o),n*Math.sin(o)];};}f.exports=j;},null);
__d("d3/svg/svg",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={};f.exports=h;},null);
__d("d3/svg/symbol",["d3/core/core","d3/core/functor","d3/core/map"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/core\/functor")._functor,i=c("d3/core/core")._u03c0,j=c("d3/core/core")._radians,k=function(){var r=m,s=l;function t(u,v){return (o.get(r.call(this,u,v))||n)(s.call(this,u,v));}t.type=function(u){if(!arguments.length)return r;r=h(u);return t;};t.size=function(u){if(!arguments.length)return s;s=h(u);return t;};return t;};function l(){return 64;}function m(){return "circle";}function n(r){var s=Math.sqrt(r/i);return "M0,"+s+"A"+s+","+s+" 0 1,1 0,"+ -s+"A"+s+","+s+" 0 1,1 0,"+s+"Z";}var o=c("d3/core/map")({circle:n,cross:function(r){var s=Math.sqrt(r/5)/2;return "M"+ -3*s+","+ -s+"H"+ -s+"V"+ -3*s+"H"+s+"V"+ -s+"H"+3*s+"V"+s+"H"+s+"V"+3*s+"H"+ -s+"V"+s+"H"+ -3*s+"Z";},diamond:function(r){var s=Math.sqrt(r/(2*q)),t=s*q;return "M0,"+ -s+"L"+t+",0"+" 0,"+s+" "+ -t+",0"+"Z";},square:function(r){var s=Math.sqrt(r)/2;return "M"+ -s+","+ -s+"L"+s+","+ -s+" "+s+","+s+" "+ -s+","+s+"Z";},"triangle-down":function(r){var s=Math.sqrt(r/p),t=s*p/2;return "M0,"+t+"L"+s+","+ -t+" "+ -s+","+ -t+"Z";},"triangle-up":function(r){var s=Math.sqrt(r/p),t=s*p/2;return "M0,"+ -t+"L"+s+","+t+" "+ -s+","+t+"Z";}});k.types=o.keys();var p=Math.sqrt(3),q=Math.tan(30*j);f.exports=k;},null);
__d("d3/d3.svg",["d3/svg/svg","d3/svg/arc","d3/svg/line","d3/svg/line-radial","d3/svg/area","d3/svg/area-radial","d3/svg/chord","d3/svg/diagonal","d3/svg/diagonal-radial","d3/svg/symbol","d3/svg/axis","d3/svg/brush"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c("d3/svg/svg").arc=c("d3\/svg\/arc");c("d3/svg/svg").line=c("d3\/svg\/line");c("d3/svg/svg").line.radial=c("d3\/svg\/line-radial");c("d3/svg/svg").area=c("d3\/svg\/area");c("d3/svg/svg").area.radial=c("d3\/svg\/area-radial");c("d3/svg/svg").chord=c("d3\/svg\/chord");c("d3/svg/svg").diagonal=c("d3\/svg\/diagonal");c("d3/svg/svg").diagonal.radial=c("d3\/svg\/diagonal-radial");c("d3/svg/svg").symbol=c("d3\/svg\/symbol");c("d3/svg/svg").symbolTypes=c("d3\/svg\/symbol").types;c("d3/svg/svg").axis=c("d3\/svg\/axis");c("d3/svg/svg").brush=c("d3\/svg\/brush");f.exports=c("d3/svg/svg");},null);
__d("d3/time/format-iso",["d3/time/format-utc"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/time\/format-utc")("%Y-%m-%dT%H:%M:%S.%LZ"),i=Date.prototype.toISOString?j:h;function j(k){return k.toISOString();}j.parse=function(k){var l=new Date(k);return isNaN(l)?null:l;};j.toString=h.toString;f.exports=i;},null);
__d("d3/time/week",["d3/time/time","d3/time/interval","d3/time/day","d3/time/year"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/time/time")._daySymbols,i=c("d3\/time\/interval")._interval;h.forEach(function(k,l){k=k.toLowerCase();l=7-l;var m=c("d3/time/time")[k]=i(function(n){(n=c("d3/time/day")(n)).setDate(n.getDate()-(n.getDay()+l)%7);return n;},function(n,o){n.setDate(n.getDate()+Math.floor(o)*7);},function(n){var o=c("d3/time/year")(n).getDay();return Math.floor((c("d3/time/day").ofYear(n)+(o+l)%7)/7)-(o!==l);});c("d3/time/time")[k+"s"]=m.range;c("d3/time/time")[k+"s"].utc=m.utc.range;c("d3/time/time")[k+"OfYear"]=function(n){var o=c("d3/time/year")(n).getDay();return Math.floor((c("d3/time/day").ofYear(n)+(o+l)%7)/7);};});var j=c("d3/time/time").sunday;j.s=c("d3/time/time").sunday.range;j.s.utc=c("d3/time/time").sunday.utc.range;j.ofYear=c("d3/time/time").sundayOfYear;f.exports=j;},null);
__d("d3/time/scale",["d3/scale/nice","d3/core/true","d3/core/bisect","d3/core/rebind","d3/time/second","d3/time/minute","d3/time/hour","d3/time/day","d3/time/week","d3/time/month","d3/time/year","d3/time/format","d3/scale/linear"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3\/scale\/nice")._nice,i=c("d3\/core\/true")._true;function j(v,w,x){function y(z){return v(z);}y.invert=function(z){return l(v.invert(z));};y.domain=function(z){if(!arguments.length)return v.domain().map(l);v.domain(z);return y;};y.nice=function(z){return y.domain(h(y.domain(),function(){return z;}));};y.ticks=function(z,aa){var ba=k(y.domain());if(typeof z!=="function"){var ca=ba[1]-ba[0],da=ca/z,ea=c("d3/core/bisect")(p,da);if(ea==p.length)return w.year(ba,z);if(!ea)return v.ticks(z).map(l);if(Math.log(da/p[ea-1])<Math.log(p[ea]/da))--ea;z=w[ea];aa=z[1];z=z[0].range;}return z(ba[0],new Date(+ba[1]+1),aa);};y.tickFormat=function(){return x;};y.copy=function(){return j(v.copy(),w,x);};return c("d3/core/rebind")(y,v,"range","rangeRound","interpolate","clamp");}function k(v){var w=v[0],x=v[v.length-1];return w<x?[w,x]:[x,w];}function l(v){return new Date(v);}function m(v){return function(w){var x=v.length-1,y=v[x];while(!y[1](w))y=v[--x];return y[0](w);};}function n(v){var w=new Date(v,0,1);w.setFullYear(v);return w;}function o(v){var w=v.getFullYear(),x=n(w),y=n(w+1);return w+(v-x)/(y-x);}var p=[1000,5000,15000,30000,60000,300000,900000,1800000,3600000,10800000,21600000,43200000,86400000,172800000,604800000,2.592e+09,7.776e+09,3.1536e+10],q=[[c("d3/time/second"),1],[c("d3/time/second"),5],[c("d3/time/second"),15],[c("d3/time/second"),30],[c("d3/time/minute"),1],[c("d3/time/minute"),5],[c("d3/time/minute"),15],[c("d3/time/minute"),30],[c("d3/time/hour"),1],[c("d3/time/hour"),3],[c("d3/time/hour"),6],[c("d3/time/hour"),12],[c("d3/time/day"),1],[c("d3/time/day"),2],[c("d3/time/week"),1],[c("d3/time/month"),1],[c("d3/time/month"),3],[c("d3/time/year"),1]],r=[[c("d3/time/format")("%Y"),i],[c("d3/time/format")("%B"),function(v){return v.getMonth();}],[c("d3/time/format")("%b %d"),function(v){return v.getDate()!=1;}],[c("d3/time/format")("%a %d"),function(v){return v.getDay()&&v.getDate()!=1;}],[c("d3/time/format")("%I %p"),function(v){return v.getHours();}],[c("d3/time/format")("%I:%M"),function(v){return v.getMinutes();}],[c("d3/time/format")(":%S"),function(v){return v.getSeconds();}],[c("d3/time/format")(".%L"),function(v){return v.getMilliseconds();}]],s=c("d3/scale/linear")(),t=m(r);q.year=function(v,w){return s.domain(v.map(o)).ticks(w).map(n);};var u=function(){return j(c("d3/scale/linear")(),q,t);};u._scaleLocalMethods=q;u._scaleLinear=s;u._scale=j;u._scaleFormat=m;f.exports=u;},null);
__d("d3/time/scale-utc",["d3/time/scale","d3/core/true","d3/time/format-utc","d3/scale/linear"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c("d3/time/scale")._scaleLocalMethods,i=c("d3\/core\/true")._true,j=c("d3/time/scale")._scaleFormat,k=c("d3/time/scale")._scaleLinear,l=c("d3/time/scale")._scale,m=h.map(function(s){return [s[0].utc,s[1]];}),n=[[c("d3/time/format-utc")("%Y"),i],[c("d3/time/format-utc")("%B"),function(s){return s.getUTCMonth();}],[c("d3/time/format-utc")("%b %d"),function(s){return s.getUTCDate()!=1;}],[c("d3/time/format-utc")("%a %d"),function(s){return s.getUTCDay()&&s.getUTCDate()!=1;}],[c("d3/time/format-utc")("%I %p"),function(s){return s.getUTCHours();}],[c("d3/time/format-utc")("%I:%M"),function(s){return s.getUTCMinutes();}],[c("d3/time/format-utc")(":%S"),function(s){return s.getUTCSeconds();}],[c("d3/time/format-utc")(".%L"),function(s){return s.getUTCMilliseconds();}]],o=j(n);function p(s){var t=new Date(Date.UTC(s,0,1));t.setUTCFullYear(s);return t;}function q(s){var t=s.getUTCFullYear(),u=p(t),v=p(t+1);return t+(s-u)/(v-u);}m.year=function(s,t){return k.domain(s.map(q)).ticks(t).map(p);};var r=function(){return l(c("d3/scale/linear")(),m,o);};f.exports=r;},null);
__d("d3/d3.time",["d3/time/time","d3/time/format","d3/time/format-utc","d3/time/format-iso","d3/time/second","d3/time/minute","d3/time/hour","d3/time/day","d3/time/week","d3/time/month","d3/time/year","d3/time/scale","d3/time/scale-utc"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c("d3/time/time").format=c("d3\/time\/format");c("d3/time/time").format.utc=c("d3\/time\/format-utc");c("d3/time/time").format.iso=c("d3\/time\/format-iso");c("d3/time/time").second=c("d3\/time\/second");c("d3/time/time").seconds=c("d3\/time\/second").s;c("d3/time/time").minute=c("d3\/time\/minute");c("d3/time/time").minutes=c("d3\/time\/minute").s;c("d3/time/time").hour=c("d3\/time\/hour");c("d3/time/time").hours=c("d3\/time\/hour").s;c("d3/time/time").day=c("d3\/time\/day");c("d3/time/time").days=c("d3\/time\/day").s;c("d3/time/time").dayOfYear=c("d3\/time\/day").ofYear;c("d3/time/time").week=c("d3\/time\/week");c("d3/time/time").weeks=c("d3\/time\/week").s;c("d3/time/time").weekOfYear=c("d3\/time\/week").ofYear;c("d3/time/time").month=c("d3\/time\/month");c("d3/time/time").months=c("d3\/time\/month").s;c("d3/time/time").year=c("d3\/time\/year");c("d3/time/time").years=c("d3\/time\/year").s;c("d3/time/time").scale=c("d3\/time\/scale");c("d3/time/time").scale.utc=c("d3\/time\/scale-utc");f.exports=c("d3/time/time");},null);
__d("d3/d3",["d3/d3.core","d3/d3.scale","d3/d3.svg","d3/d3.behavior","d3/d3.layout","d3/d3.geo","d3/d3.dsv","d3/d3.time","d3/d3.geom"],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c("d3/d3.core").scale=c("d3\/d3.scale");c("d3/d3.core").svg=c("d3\/d3.svg");c("d3/d3.core").behavior=c("d3\/d3.behavior");c("d3/d3.core").layout=c("d3\/d3.layout");c("d3/d3.core").geo=c("d3\/d3.geo");c("d3/d3.core").dsv=c("d3\/d3.dsv");c("d3/d3.core").time=c("d3\/d3.time");c("d3/d3.core").geom=c("d3\/d3.geom");f.exports=c("d3/d3.core");},null);
__d("gl-matrix-common",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h={};h.EPSILON=1e-06;h.ARRAY_TYPE=(typeof Float32Array!=='undefined')?Float32Array:Array;h.RANDOM=Math.random;h.ENABLE_SIMD=false;h.SIMD_AVAILABLE=(h.ARRAY_TYPE===this.Float32Array)&&('SIMD' in this);h.USE_SIMD=h.ENABLE_SIMD&&h.SIMD_AVAILABLE;h.setMatrixArrayType=function(j){h.ARRAY_TYPE=j;};var i=Math.PI/180;h.toRadian=function(j){return j*i;};h.equals=function(j,k){return Math.abs(j-k)<=h.EPSILON*Math.max(1,Math.abs(j),Math.abs(k));};f.exports=h;},null);
__d("gl-matrix-mat4",["gl-matrix-common"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c("gl-matrix-common"),i={scalar:{},SIMD:{}};i.create=function(){var j=new h.ARRAY_TYPE(16);j[0]=1;j[1]=0;j[2]=0;j[3]=0;j[4]=0;j[5]=1;j[6]=0;j[7]=0;j[8]=0;j[9]=0;j[10]=1;j[11]=0;j[12]=0;j[13]=0;j[14]=0;j[15]=1;return j;};i.clone=function(j){var k=new h.ARRAY_TYPE(16);k[0]=j[0];k[1]=j[1];k[2]=j[2];k[3]=j[3];k[4]=j[4];k[5]=j[5];k[6]=j[6];k[7]=j[7];k[8]=j[8];k[9]=j[9];k[10]=j[10];k[11]=j[11];k[12]=j[12];k[13]=j[13];k[14]=j[14];k[15]=j[15];return k;};i.copy=function(j,k){j[0]=k[0];j[1]=k[1];j[2]=k[2];j[3]=k[3];j[4]=k[4];j[5]=k[5];j[6]=k[6];j[7]=k[7];j[8]=k[8];j[9]=k[9];j[10]=k[10];j[11]=k[11];j[12]=k[12];j[13]=k[13];j[14]=k[14];j[15]=k[15];return j;};i.fromValues=function(j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y){var z=new h.ARRAY_TYPE(16);z[0]=j;z[1]=k;z[2]=l;z[3]=m;z[4]=n;z[5]=o;z[6]=p;z[7]=q;z[8]=r;z[9]=s;z[10]=t;z[11]=u;z[12]=v;z[13]=w;z[14]=x;z[15]=y;return z;};i.set=function(j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z){j[0]=k;j[1]=l;j[2]=m;j[3]=n;j[4]=o;j[5]=p;j[6]=q;j[7]=r;j[8]=s;j[9]=t;j[10]=u;j[11]=v;j[12]=w;j[13]=x;j[14]=y;j[15]=z;return j;};i.identity=function(j){j[0]=1;j[1]=0;j[2]=0;j[3]=0;j[4]=0;j[5]=1;j[6]=0;j[7]=0;j[8]=0;j[9]=0;j[10]=1;j[11]=0;j[12]=0;j[13]=0;j[14]=0;j[15]=1;return j;};i.scalar.transpose=function(j,k){if(j===k){var l=k[1],m=k[2],n=k[3],o=k[6],p=k[7],q=k[11];j[1]=k[4];j[2]=k[8];j[3]=k[12];j[4]=l;j[6]=k[9];j[7]=k[13];j[8]=m;j[9]=o;j[11]=k[14];j[12]=n;j[13]=p;j[14]=q;}else{j[0]=k[0];j[1]=k[4];j[2]=k[8];j[3]=k[12];j[4]=k[1];j[5]=k[5];j[6]=k[9];j[7]=k[13];j[8]=k[2];j[9]=k[6];j[10]=k[10];j[11]=k[14];j[12]=k[3];j[13]=k[7];j[14]=k[11];j[15]=k[15];}return j;};i.SIMD.transpose=function(j,k){var l,m,n,o,p,q,r,s,t,u;l=SIMD.Float32x4.load(k,0);m=SIMD.Float32x4.load(k,4);n=SIMD.Float32x4.load(k,8);o=SIMD.Float32x4.load(k,12);p=SIMD.Float32x4.shuffle(l,m,0,1,4,5);q=SIMD.Float32x4.shuffle(n,o,0,1,4,5);r=SIMD.Float32x4.shuffle(p,q,0,2,4,6);s=SIMD.Float32x4.shuffle(p,q,1,3,5,7);SIMD.Float32x4.store(j,0,r);SIMD.Float32x4.store(j,4,s);p=SIMD.Float32x4.shuffle(l,m,2,3,6,7);q=SIMD.Float32x4.shuffle(n,o,2,3,6,7);t=SIMD.Float32x4.shuffle(p,q,0,2,4,6);u=SIMD.Float32x4.shuffle(p,q,1,3,5,7);SIMD.Float32x4.store(j,8,t);SIMD.Float32x4.store(j,12,u);return j;};i.transpose=h.USE_SIMD?i.SIMD.transpose:i.scalar.transpose;i.scalar.invert=function(j,k){var l=k[0],m=k[1],n=k[2],o=k[3],p=k[4],q=k[5],r=k[6],s=k[7],t=k[8],u=k[9],v=k[10],w=k[11],x=k[12],y=k[13],z=k[14],aa=k[15],ba=l*q-m*p,ca=l*r-n*p,da=l*s-o*p,ea=m*r-n*q,fa=m*s-o*q,ga=n*s-o*r,ha=t*y-u*x,ia=t*z-v*x,ja=t*aa-w*x,ka=u*z-v*y,la=u*aa-w*y,ma=v*aa-w*z,na=ba*ma-ca*la+da*ka+ea*ja-fa*ia+ga*ha;if(!na)return null;na=1/na;j[0]=(q*ma-r*la+s*ka)*na;j[1]=(n*la-m*ma-o*ka)*na;j[2]=(y*ga-z*fa+aa*ea)*na;j[3]=(v*fa-u*ga-w*ea)*na;j[4]=(r*ja-p*ma-s*ia)*na;j[5]=(l*ma-n*ja+o*ia)*na;j[6]=(z*da-x*ga-aa*ca)*na;j[7]=(t*ga-v*da+w*ca)*na;j[8]=(p*la-q*ja+s*ha)*na;j[9]=(m*ja-l*la-o*ha)*na;j[10]=(x*fa-y*da+aa*ba)*na;j[11]=(u*da-t*fa-w*ba)*na;j[12]=(q*ia-p*ka-r*ha)*na;j[13]=(l*ka-m*ia+n*ha)*na;j[14]=(y*ca-x*ea-z*ba)*na;j[15]=(t*ea-u*ca+v*ba)*na;return j;};i.SIMD.invert=function(j,k){var l,m,n,o,p,q,r,s,t,u,v=SIMD.Float32x4.load(k,0),w=SIMD.Float32x4.load(k,4),x=SIMD.Float32x4.load(k,8),y=SIMD.Float32x4.load(k,12);p=SIMD.Float32x4.shuffle(v,w,0,1,4,5);m=SIMD.Float32x4.shuffle(x,y,0,1,4,5);l=SIMD.Float32x4.shuffle(p,m,0,2,4,6);m=SIMD.Float32x4.shuffle(m,p,1,3,5,7);p=SIMD.Float32x4.shuffle(v,w,2,3,6,7);o=SIMD.Float32x4.shuffle(x,y,2,3,6,7);n=SIMD.Float32x4.shuffle(p,o,0,2,4,6);o=SIMD.Float32x4.shuffle(o,p,1,3,5,7);p=SIMD.Float32x4.mul(n,o);p=SIMD.Float32x4.swizzle(p,1,0,3,2);q=SIMD.Float32x4.mul(m,p);r=SIMD.Float32x4.mul(l,p);p=SIMD.Float32x4.swizzle(p,2,3,0,1);q=SIMD.Float32x4.sub(SIMD.Float32x4.mul(m,p),q);r=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,p),r);r=SIMD.Float32x4.swizzle(r,2,3,0,1);p=SIMD.Float32x4.mul(m,n);p=SIMD.Float32x4.swizzle(p,1,0,3,2);q=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,p),q);t=SIMD.Float32x4.mul(l,p);p=SIMD.Float32x4.swizzle(p,2,3,0,1);q=SIMD.Float32x4.sub(q,SIMD.Float32x4.mul(o,p));t=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,p),t);t=SIMD.Float32x4.swizzle(t,2,3,0,1);p=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(m,2,3,0,1),o);p=SIMD.Float32x4.swizzle(p,1,0,3,2);n=SIMD.Float32x4.swizzle(n,2,3,0,1);q=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,p),q);s=SIMD.Float32x4.mul(l,p);p=SIMD.Float32x4.swizzle(p,2,3,0,1);q=SIMD.Float32x4.sub(q,SIMD.Float32x4.mul(n,p));s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(l,p),s);s=SIMD.Float32x4.swizzle(s,2,3,0,1);p=SIMD.Float32x4.mul(l,m);p=SIMD.Float32x4.swizzle(p,1,0,3,2);s=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,p),s);t=SIMD.Float32x4.sub(SIMD.Float32x4.mul(n,p),t);p=SIMD.Float32x4.swizzle(p,2,3,0,1);s=SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,p),s);t=SIMD.Float32x4.sub(t,SIMD.Float32x4.mul(n,p));p=SIMD.Float32x4.mul(l,o);p=SIMD.Float32x4.swizzle(p,1,0,3,2);r=SIMD.Float32x4.sub(r,SIMD.Float32x4.mul(n,p));s=SIMD.Float32x4.add(SIMD.Float32x4.mul(m,p),s);p=SIMD.Float32x4.swizzle(p,2,3,0,1);r=SIMD.Float32x4.add(SIMD.Float32x4.mul(n,p),r);s=SIMD.Float32x4.sub(s,SIMD.Float32x4.mul(m,p));p=SIMD.Float32x4.mul(l,n);p=SIMD.Float32x4.swizzle(p,1,0,3,2);r=SIMD.Float32x4.add(SIMD.Float32x4.mul(o,p),r);t=SIMD.Float32x4.sub(t,SIMD.Float32x4.mul(m,p));p=SIMD.Float32x4.swizzle(p,2,3,0,1);r=SIMD.Float32x4.sub(r,SIMD.Float32x4.mul(o,p));t=SIMD.Float32x4.add(SIMD.Float32x4.mul(m,p),t);u=SIMD.Float32x4.mul(l,q);u=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(u,2,3,0,1),u);u=SIMD.Float32x4.add(SIMD.Float32x4.swizzle(u,1,0,3,2),u);p=SIMD.Float32x4.reciprocalApproximation(u);u=SIMD.Float32x4.sub(SIMD.Float32x4.add(p,p),SIMD.Float32x4.mul(u,SIMD.Float32x4.mul(p,p)));u=SIMD.Float32x4.swizzle(u,0,0,0,0);if(!u)return null;SIMD.Float32x4.store(j,0,SIMD.Float32x4.mul(u,q));SIMD.Float32x4.store(j,4,SIMD.Float32x4.mul(u,r));SIMD.Float32x4.store(j,8,SIMD.Float32x4.mul(u,s));SIMD.Float32x4.store(j,12,SIMD.Float32x4.mul(u,t));return j;};i.invert=h.USE_SIMD?i.SIMD.invert:i.scalar.invert;i.scalar.adjoint=function(j,k){var l=k[0],m=k[1],n=k[2],o=k[3],p=k[4],q=k[5],r=k[6],s=k[7],t=k[8],u=k[9],v=k[10],w=k[11],x=k[12],y=k[13],z=k[14],aa=k[15];j[0]=(q*(v*aa-w*z)-u*(r*aa-s*z)+y*(r*w-s*v));j[1]=-(m*(v*aa-w*z)-u*(n*aa-o*z)+y*(n*w-o*v));j[2]=(m*(r*aa-s*z)-q*(n*aa-o*z)+y*(n*s-o*r));j[3]=-(m*(r*w-s*v)-q*(n*w-o*v)+u*(n*s-o*r));j[4]=-(p*(v*aa-w*z)-t*(r*aa-s*z)+x*(r*w-s*v));j[5]=(l*(v*aa-w*z)-t*(n*aa-o*z)+x*(n*w-o*v));j[6]=-(l*(r*aa-s*z)-p*(n*aa-o*z)+x*(n*s-o*r));j[7]=(l*(r*w-s*v)-p*(n*w-o*v)+t*(n*s-o*r));j[8]=(p*(u*aa-w*y)-t*(q*aa-s*y)+x*(q*w-s*u));j[9]=-(l*(u*aa-w*y)-t*(m*aa-o*y)+x*(m*w-o*u));j[10]=(l*(q*aa-s*y)-p*(m*aa-o*y)+x*(m*s-o*q));j[11]=-(l*(q*w-s*u)-p*(m*w-o*u)+t*(m*s-o*q));j[12]=-(p*(u*z-v*y)-t*(q*z-r*y)+x*(q*v-r*u));j[13]=(l*(u*z-v*y)-t*(m*z-n*y)+x*(m*v-n*u));j[14]=-(l*(q*z-r*y)-p*(m*z-n*y)+x*(m*r-n*q));j[15]=(l*(q*v-r*u)-p*(m*v-n*u)+t*(m*r-n*q));return j;};i.SIMD.adjoint=function(j,k){var l,m,n,o,p,q,r,s,t,u,v,w,x;l=SIMD.Float32x4.load(k,0);m=SIMD.Float32x4.load(k,4);n=SIMD.Float32x4.load(k,8);o=SIMD.Float32x4.load(k,12);t=SIMD.Float32x4.shuffle(l,m,0,1,4,5);q=SIMD.Float32x4.shuffle(n,o,0,1,4,5);p=SIMD.Float32x4.shuffle(t,q,0,2,4,6);q=SIMD.Float32x4.shuffle(q,t,1,3,5,7);t=SIMD.Float32x4.shuffle(l,m,2,3,6,7);s=SIMD.Float32x4.shuffle(n,o,2,3,6,7);r=SIMD.Float32x4.shuffle(t,s,0,2,4,6);s=SIMD.Float32x4.shuffle(s,t,1,3,5,7);t=SIMD.Float32x4.mul(r,s);t=SIMD.Float32x4.swizzle(t,1,0,3,2);u=SIMD.Float32x4.mul(q,t);v=SIMD.Float32x4.mul(p,t);t=SIMD.Float32x4.swizzle(t,2,3,0,1);u=SIMD.Float32x4.sub(SIMD.Float32x4.mul(q,t),u);v=SIMD.Float32x4.sub(SIMD.Float32x4.mul(p,t),v);v=SIMD.Float32x4.swizzle(v,2,3,0,1);t=SIMD.Float32x4.mul(q,r);t=SIMD.Float32x4.swizzle(t,1,0,3,2);u=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,t),u);x=SIMD.Float32x4.mul(p,t);t=SIMD.Float32x4.swizzle(t,2,3,0,1);u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(s,t));x=SIMD.Float32x4.sub(SIMD.Float32x4.mul(p,t),x);x=SIMD.Float32x4.swizzle(x,2,3,0,1);t=SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(q,2,3,0,1),s);t=SIMD.Float32x4.swizzle(t,1,0,3,2);r=SIMD.Float32x4.swizzle(r,2,3,0,1);u=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,t),u);w=SIMD.Float32x4.mul(p,t);t=SIMD.Float32x4.swizzle(t,2,3,0,1);u=SIMD.Float32x4.sub(u,SIMD.Float32x4.mul(r,t));w=SIMD.Float32x4.sub(SIMD.Float32x4.mul(p,t),w);w=SIMD.Float32x4.swizzle(w,2,3,0,1);t=SIMD.Float32x4.mul(p,q);t=SIMD.Float32x4.swizzle(t,1,0,3,2);w=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,t),w);x=SIMD.Float32x4.sub(SIMD.Float32x4.mul(r,t),x);t=SIMD.Float32x4.swizzle(t,2,3,0,1);w=SIMD.Float32x4.sub(SIMD.Float32x4.mul(s,t),w);x=SIMD.Float32x4.sub(x,SIMD.Float32x4.mul(r,t));t=SIMD.Float32x4.mul(p,s);t=SIMD.Float32x4.swizzle(t,1,0,3,2);v=SIMD.Float32x4.sub(v,SIMD.Float32x4.mul(r,t));w=SIMD.Float32x4.add(SIMD.Float32x4.mul(q,t),w);t=SIMD.Float32x4.swizzle(t,2,3,0,1);v=SIMD.Float32x4.add(SIMD.Float32x4.mul(r,t),v);w=SIMD.Float32x4.sub(w,SIMD.Float32x4.mul(q,t));t=SIMD.Float32x4.mul(p,r);t=SIMD.Float32x4.swizzle(t,1,0,3,2);v=SIMD.Float32x4.add(SIMD.Float32x4.mul(s,t),v);x=SIMD.Float32x4.sub(x,SIMD.Float32x4.mul(q,t));t=SIMD.Float32x4.swizzle(t,2,3,0,1);v=SIMD.Float32x4.sub(v,SIMD.Float32x4.mul(s,t));x=SIMD.Float32x4.add(SIMD.Float32x4.mul(q,t),x);SIMD.Float32x4.store(j,0,u);SIMD.Float32x4.store(j,4,v);SIMD.Float32x4.store(j,8,w);SIMD.Float32x4.store(j,12,x);return j;};i.adjoint=h.USE_SIMD?i.SIMD.adjoint:i.scalar.adjoint;i.determinant=function(j){var k=j[0],l=j[1],m=j[2],n=j[3],o=j[4],p=j[5],q=j[6],r=j[7],s=j[8],t=j[9],u=j[10],v=j[11],w=j[12],x=j[13],y=j[14],z=j[15],aa=k*p-l*o,ba=k*q-m*o,ca=k*r-n*o,da=l*q-m*p,ea=l*r-n*p,fa=m*r-n*q,ga=s*x-t*w,ha=s*y-u*w,ia=s*z-v*w,ja=t*y-u*x,ka=t*z-v*x,la=u*z-v*y;return aa*la-ba*ka+ca*ja+da*ia-ea*ha+fa*ga;};i.SIMD.multiply=function(j,k,l){var m=SIMD.Float32x4.load(k,0),n=SIMD.Float32x4.load(k,4),o=SIMD.Float32x4.load(k,8),p=SIMD.Float32x4.load(k,12),q=SIMD.Float32x4.load(l,0),r=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(q,0,0,0,0),m),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(q,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(q,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(q,3,3,3,3),p))));SIMD.Float32x4.store(j,0,r);var s=SIMD.Float32x4.load(l,4),t=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,0,0,0,0),m),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(s,3,3,3,3),p))));SIMD.Float32x4.store(j,4,t);var u=SIMD.Float32x4.load(l,8),v=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,0,0,0,0),m),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(u,3,3,3,3),p))));SIMD.Float32x4.store(j,8,v);var w=SIMD.Float32x4.load(l,12),x=SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(w,0,0,0,0),m),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(w,1,1,1,1),n),SIMD.Float32x4.add(SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(w,2,2,2,2),o),SIMD.Float32x4.mul(SIMD.Float32x4.swizzle(w,3,3,3,3),p))));SIMD.Float32x4.store(j,12,x);return j;};i.scalar.multiply=function(j,k,l){var m=k[0],n=k[1],o=k[2],p=k[3],q=k[4],r=k[5],s=k[6],t=k[7],u=k[8],v=k[9],w=k[10],x=k[11],y=k[12],z=k[13],aa=k[14],ba=k[15],ca=l[0],da=l[1],ea=l[2],fa=l[3];j[0]=ca*m+da*q+ea*u+fa*y;j[1]=ca*n+da*r+ea*v+fa*z;j[2]=ca*o+da*s+ea*w+fa*aa;j[3]=ca*p+da*t+ea*x+fa*ba;ca=l[4];da=l[5];ea=l[6];fa=l[7];j[4]=ca*m+da*q+ea*u+fa*y;j[5]=ca*n+da*r+ea*v+fa*z;j[6]=ca*o+da*s+ea*w+fa*aa;j[7]=ca*p+da*t+ea*x+fa*ba;ca=l[8];da=l[9];ea=l[10];fa=l[11];j[8]=ca*m+da*q+ea*u+fa*y;j[9]=ca*n+da*r+ea*v+fa*z;j[10]=ca*o+da*s+ea*w+fa*aa;j[11]=ca*p+da*t+ea*x+fa*ba;ca=l[12];da=l[13];ea=l[14];fa=l[15];j[12]=ca*m+da*q+ea*u+fa*y;j[13]=ca*n+da*r+ea*v+fa*z;j[14]=ca*o+da*s+ea*w+fa*aa;j[15]=ca*p+da*t+ea*x+fa*ba;return j;};i.multiply=h.USE_SIMD?i.SIMD.multiply:i.scalar.multiply;i.mul=i.multiply;i.scalar.translate=function(j,k,l){var m=l[0],n=l[1],o=l[2],p,q,r,s,t,u,v,w,x,y,z,aa;if(k===j){j[12]=k[0]*m+k[4]*n+k[8]*o+k[12];j[13]=k[1]*m+k[5]*n+k[9]*o+k[13];j[14]=k[2]*m+k[6]*n+k[10]*o+k[14];j[15]=k[3]*m+k[7]*n+k[11]*o+k[15];}else{p=k[0];q=k[1];r=k[2];s=k[3];t=k[4];u=k[5];v=k[6];w=k[7];x=k[8];y=k[9];z=k[10];aa=k[11];j[0]=p;j[1]=q;j[2]=r;j[3]=s;j[4]=t;j[5]=u;j[6]=v;j[7]=w;j[8]=x;j[9]=y;j[10]=z;j[11]=aa;j[12]=p*m+t*n+x*o+k[12];j[13]=q*m+u*n+y*o+k[13];j[14]=r*m+v*n+z*o+k[14];j[15]=s*m+w*n+aa*o+k[15];}return j;};i.SIMD.translate=function(j,k,l){var m=SIMD.Float32x4.load(k,0),n=SIMD.Float32x4.load(k,4),o=SIMD.Float32x4.load(k,8),p=SIMD.Float32x4.load(k,12),q=SIMD.Float32x4(l[0],l[1],l[2],0);if(k!==j){j[0]=k[0];j[1]=k[1];j[2]=k[2];j[3]=k[3];j[4]=k[4];j[5]=k[5];j[6]=k[6];j[7]=k[7];j[8]=k[8];j[9]=k[9];j[10]=k[10];j[11]=k[11];}m=SIMD.Float32x4.mul(m,SIMD.Float32x4.swizzle(q,0,0,0,0));n=SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(q,1,1,1,1));o=SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(q,2,2,2,2));var r=SIMD.Float32x4.add(m,SIMD.Float32x4.add(n,SIMD.Float32x4.add(o,p)));SIMD.Float32x4.store(j,12,r);return j;};i.translate=h.USE_SIMD?i.SIMD.translate:i.scalar.translate;i.scalar.scale=function(j,k,l){var m=l[0],n=l[1],o=l[2];j[0]=k[0]*m;j[1]=k[1]*m;j[2]=k[2]*m;j[3]=k[3]*m;j[4]=k[4]*n;j[5]=k[5]*n;j[6]=k[6]*n;j[7]=k[7]*n;j[8]=k[8]*o;j[9]=k[9]*o;j[10]=k[10]*o;j[11]=k[11]*o;j[12]=k[12];j[13]=k[13];j[14]=k[14];j[15]=k[15];return j;};i.SIMD.scale=function(j,k,l){var m,n,o,p=SIMD.Float32x4(l[0],l[1],l[2],0);m=SIMD.Float32x4.load(k,0);SIMD.Float32x4.store(j,0,SIMD.Float32x4.mul(m,SIMD.Float32x4.swizzle(p,0,0,0,0)));n=SIMD.Float32x4.load(k,4);SIMD.Float32x4.store(j,4,SIMD.Float32x4.mul(n,SIMD.Float32x4.swizzle(p,1,1,1,1)));o=SIMD.Float32x4.load(k,8);SIMD.Float32x4.store(j,8,SIMD.Float32x4.mul(o,SIMD.Float32x4.swizzle(p,2,2,2,2)));j[12]=k[12];j[13]=k[13];j[14]=k[14];j[15]=k[15];return j;};i.scale=h.USE_SIMD?i.SIMD.scale:i.scalar.scale;i.rotate=function(j,k,l,m){var n=m[0],o=m[1],p=m[2],q=Math.sqrt(n*n+o*o+p*p),r,s,t,u,v,w,x,y,z,aa,ba,ca,da,ea,fa,ga,ha,ia,ja,ka,la,ma,na,oa;if(Math.abs(q)<h.EPSILON)return null;q=1/q;n*=q;o*=q;p*=q;r=Math.sin(l);s=Math.cos(l);t=1-s;u=k[0];v=k[1];w=k[2];x=k[3];y=k[4];z=k[5];aa=k[6];ba=k[7];ca=k[8];da=k[9];ea=k[10];fa=k[11];ga=n*n*t+s;ha=o*n*t+p*r;ia=p*n*t-o*r;ja=n*o*t-p*r;ka=o*o*t+s;la=p*o*t+n*r;ma=n*p*t+o*r;na=o*p*t-n*r;oa=p*p*t+s;j[0]=u*ga+y*ha+ca*ia;j[1]=v*ga+z*ha+da*ia;j[2]=w*ga+aa*ha+ea*ia;j[3]=x*ga+ba*ha+fa*ia;j[4]=u*ja+y*ka+ca*la;j[5]=v*ja+z*ka+da*la;j[6]=w*ja+aa*ka+ea*la;j[7]=x*ja+ba*ka+fa*la;j[8]=u*ma+y*na+ca*oa;j[9]=v*ma+z*na+da*oa;j[10]=w*ma+aa*na+ea*oa;j[11]=x*ma+ba*na+fa*oa;if(k!==j){j[12]=k[12];j[13]=k[13];j[14]=k[14];j[15]=k[15];}return j;};i.scalar.rotateX=function(j,k,l){var m=Math.sin(l),n=Math.cos(l),o=k[4],p=k[5],q=k[6],r=k[7],s=k[8],t=k[9],u=k[10],v=k[11];if(k!==j){j[0]=k[0];j[1]=k[1];j[2]=k[2];j[3]=k[3];j[12]=k[12];j[13]=k[13];j[14]=k[14];j[15]=k[15];}j[4]=o*n+s*m;j[5]=p*n+t*m;j[6]=q*n+u*m;j[7]=r*n+v*m;j[8]=s*n-o*m;j[9]=t*n-p*m;j[10]=u*n-q*m;j[11]=v*n-r*m;return j;};i.SIMD.rotateX=function(j,k,l){var m=SIMD.Float32x4.splat(Math.sin(l)),n=SIMD.Float32x4.splat(Math.cos(l));if(k!==j){j[0]=k[0];j[1]=k[1];j[2]=k[2];j[3]=k[3];j[12]=k[12];j[13]=k[13];j[14]=k[14];j[15]=k[15];}var o=SIMD.Float32x4.load(k,4),p=SIMD.Float32x4.load(k,8);SIMD.Float32x4.store(j,4,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(p,m)));SIMD.Float32x4.store(j,8,SIMD.Float32x4.sub(SIMD.Float32x4.mul(p,n),SIMD.Float32x4.mul(o,m)));return j;};i.rotateX=h.USE_SIMD?i.SIMD.rotateX:i.scalar.rotateX;i.scalar.rotateY=function(j,k,l){var m=Math.sin(l),n=Math.cos(l),o=k[0],p=k[1],q=k[2],r=k[3],s=k[8],t=k[9],u=k[10],v=k[11];if(k!==j){j[4]=k[4];j[5]=k[5];j[6]=k[6];j[7]=k[7];j[12]=k[12];j[13]=k[13];j[14]=k[14];j[15]=k[15];}j[0]=o*n-s*m;j[1]=p*n-t*m;j[2]=q*n-u*m;j[3]=r*n-v*m;j[8]=o*m+s*n;j[9]=p*m+t*n;j[10]=q*m+u*n;j[11]=r*m+v*n;return j;};i.SIMD.rotateY=function(j,k,l){var m=SIMD.Float32x4.splat(Math.sin(l)),n=SIMD.Float32x4.splat(Math.cos(l));if(k!==j){j[4]=k[4];j[5]=k[5];j[6]=k[6];j[7]=k[7];j[12]=k[12];j[13]=k[13];j[14]=k[14];j[15]=k[15];}var o=SIMD.Float32x4.load(k,0),p=SIMD.Float32x4.load(k,8);SIMD.Float32x4.store(j,0,SIMD.Float32x4.sub(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(p,m)));SIMD.Float32x4.store(j,8,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,m),SIMD.Float32x4.mul(p,n)));return j;};i.rotateY=h.USE_SIMD?i.SIMD.rotateY:i.scalar.rotateY;i.scalar.rotateZ=function(j,k,l){var m=Math.sin(l),n=Math.cos(l),o=k[0],p=k[1],q=k[2],r=k[3],s=k[4],t=k[5],u=k[6],v=k[7];if(k!==j){j[8]=k[8];j[9]=k[9];j[10]=k[10];j[11]=k[11];j[12]=k[12];j[13]=k[13];j[14]=k[14];j[15]=k[15];}j[0]=o*n+s*m;j[1]=p*n+t*m;j[2]=q*n+u*m;j[3]=r*n+v*m;j[4]=s*n-o*m;j[5]=t*n-p*m;j[6]=u*n-q*m;j[7]=v*n-r*m;return j;};i.SIMD.rotateZ=function(j,k,l){var m=SIMD.Float32x4.splat(Math.sin(l)),n=SIMD.Float32x4.splat(Math.cos(l));if(k!==j){j[8]=k[8];j[9]=k[9];j[10]=k[10];j[11]=k[11];j[12]=k[12];j[13]=k[13];j[14]=k[14];j[15]=k[15];}var o=SIMD.Float32x4.load(k,0),p=SIMD.Float32x4.load(k,4);SIMD.Float32x4.store(j,0,SIMD.Float32x4.add(SIMD.Float32x4.mul(o,n),SIMD.Float32x4.mul(p,m)));SIMD.Float32x4.store(j,4,SIMD.Float32x4.sub(SIMD.Float32x4.mul(p,n),SIMD.Float32x4.mul(o,m)));return j;};i.rotateZ=h.USE_SIMD?i.SIMD.rotateZ:i.scalar.rotateZ;i.fromTranslation=function(j,k){j[0]=1;j[1]=0;j[2]=0;j[3]=0;j[4]=0;j[5]=1;j[6]=0;j[7]=0;j[8]=0;j[9]=0;j[10]=1;j[11]=0;j[12]=k[0];j[13]=k[1];j[14]=k[2];j[15]=1;return j;};i.fromScaling=function(j,k){j[0]=k[0];j[1]=0;j[2]=0;j[3]=0;j[4]=0;j[5]=k[1];j[6]=0;j[7]=0;j[8]=0;j[9]=0;j[10]=k[2];j[11]=0;j[12]=0;j[13]=0;j[14]=0;j[15]=1;return j;};i.fromRotation=function(j,k,l){var m=l[0],n=l[1],o=l[2],p=Math.sqrt(m*m+n*n+o*o),q,r,s;if(Math.abs(p)<h.EPSILON)return null;p=1/p;m*=p;n*=p;o*=p;q=Math.sin(k);r=Math.cos(k);s=1-r;j[0]=m*m*s+r;j[1]=n*m*s+o*q;j[2]=o*m*s-n*q;j[3]=0;j[4]=m*n*s-o*q;j[5]=n*n*s+r;j[6]=o*n*s+m*q;j[7]=0;j[8]=m*o*s+n*q;j[9]=n*o*s-m*q;j[10]=o*o*s+r;j[11]=0;j[12]=0;j[13]=0;j[14]=0;j[15]=1;return j;};i.fromXRotation=function(j,k){var l=Math.sin(k),m=Math.cos(k);j[0]=1;j[1]=0;j[2]=0;j[3]=0;j[4]=0;j[5]=m;j[6]=l;j[7]=0;j[8]=0;j[9]=-l;j[10]=m;j[11]=0;j[12]=0;j[13]=0;j[14]=0;j[15]=1;return j;};i.fromYRotation=function(j,k){var l=Math.sin(k),m=Math.cos(k);j[0]=m;j[1]=0;j[2]=-l;j[3]=0;j[4]=0;j[5]=1;j[6]=0;j[7]=0;j[8]=l;j[9]=0;j[10]=m;j[11]=0;j[12]=0;j[13]=0;j[14]=0;j[15]=1;return j;};i.fromZRotation=function(j,k){var l=Math.sin(k),m=Math.cos(k);j[0]=m;j[1]=l;j[2]=0;j[3]=0;j[4]=-l;j[5]=m;j[6]=0;j[7]=0;j[8]=0;j[9]=0;j[10]=1;j[11]=0;j[12]=0;j[13]=0;j[14]=0;j[15]=1;return j;};i.fromRotationTranslation=function(j,k,l){var m=k[0],n=k[1],o=k[2],p=k[3],q=m+m,r=n+n,s=o+o,t=m*q,u=m*r,v=m*s,w=n*r,x=n*s,y=o*s,z=p*q,aa=p*r,ba=p*s;j[0]=1-(w+y);j[1]=u+ba;j[2]=v-aa;j[3]=0;j[4]=u-ba;j[5]=1-(t+y);j[6]=x+z;j[7]=0;j[8]=v+aa;j[9]=x-z;j[10]=1-(t+w);j[11]=0;j[12]=l[0];j[13]=l[1];j[14]=l[2];j[15]=1;return j;};i.getTranslation=function(j,k){j[0]=k[12];j[1]=k[13];j[2]=k[14];return j;};i.getRotation=function(j,k){var l=k[0]+k[5]+k[10],m=0;if(l>0){m=Math.sqrt(l+1)*2;j[3]=.25*m;j[0]=(k[6]-k[9])/m;j[1]=(k[8]-k[2])/m;j[2]=(k[1]-k[4])/m;}else if((k[0]>k[5])&(k[0]>k[10])){m=Math.sqrt(1+k[0]-k[5]-k[10])*2;j[3]=(k[6]-k[9])/m;j[0]=.25*m;j[1]=(k[1]+k[4])/m;j[2]=(k[8]+k[2])/m;}else if(k[5]>k[10]){m=Math.sqrt(1+k[5]-k[0]-k[10])*2;j[3]=(k[8]-k[2])/m;j[0]=(k[1]+k[4])/m;j[1]=.25*m;j[2]=(k[6]+k[9])/m;}else{m=Math.sqrt(1+k[10]-k[0]-k[5])*2;j[3]=(k[1]-k[4])/m;j[0]=(k[8]+k[2])/m;j[1]=(k[6]+k[9])/m;j[2]=.25*m;}return j;};i.fromRotationTranslationScale=function(j,k,l,m){var n=k[0],o=k[1],p=k[2],q=k[3],r=n+n,s=o+o,t=p+p,u=n*r,v=n*s,w=n*t,x=o*s,y=o*t,z=p*t,aa=q*r,ba=q*s,ca=q*t,da=m[0],ea=m[1],fa=m[2];j[0]=(1-(x+z))*da;j[1]=(v+ca)*da;j[2]=(w-ba)*da;j[3]=0;j[4]=(v-ca)*ea;j[5]=(1-(u+z))*ea;j[6]=(y+aa)*ea;j[7]=0;j[8]=(w+ba)*fa;j[9]=(y-aa)*fa;j[10]=(1-(u+x))*fa;j[11]=0;j[12]=l[0];j[13]=l[1];j[14]=l[2];j[15]=1;return j;};i.fromRotationTranslationScaleOrigin=function(j,k,l,m,n){var o=k[0],p=k[1],q=k[2],r=k[3],s=o+o,t=p+p,u=q+q,v=o*s,w=o*t,x=o*u,y=p*t,z=p*u,aa=q*u,ba=r*s,ca=r*t,da=r*u,ea=m[0],fa=m[1],ga=m[2],ha=n[0],ia=n[1],ja=n[2];j[0]=(1-(y+aa))*ea;j[1]=(w+da)*ea;j[2]=(x-ca)*ea;j[3]=0;j[4]=(w-da)*fa;j[5]=(1-(v+aa))*fa;j[6]=(z+ba)*fa;j[7]=0;j[8]=(x+ca)*ga;j[9]=(z-ba)*ga;j[10]=(1-(v+y))*ga;j[11]=0;j[12]=l[0]+ha-(j[0]*ha+j[4]*ia+j[8]*ja);j[13]=l[1]+ia-(j[1]*ha+j[5]*ia+j[9]*ja);j[14]=l[2]+ja-(j[2]*ha+j[6]*ia+j[10]*ja);j[15]=1;return j;};i.fromQuat=function(j,k){var l=k[0],m=k[1],n=k[2],o=k[3],p=l+l,q=m+m,r=n+n,s=l*p,t=m*p,u=m*q,v=n*p,w=n*q,x=n*r,y=o*p,z=o*q,aa=o*r;j[0]=1-u-x;j[1]=t+aa;j[2]=v-z;j[3]=0;j[4]=t-aa;j[5]=1-s-x;j[6]=w+y;j[7]=0;j[8]=v+z;j[9]=w-y;j[10]=1-s-u;j[11]=0;j[12]=0;j[13]=0;j[14]=0;j[15]=1;return j;};i.frustum=function(j,k,l,m,n,o,p){var q=1/(l-k),r=1/(n-m),s=1/(o-p);j[0]=(o*2)*q;j[1]=0;j[2]=0;j[3]=0;j[4]=0;j[5]=(o*2)*r;j[6]=0;j[7]=0;j[8]=(l+k)*q;j[9]=(n+m)*r;j[10]=(p+o)*s;j[11]=-1;j[12]=0;j[13]=0;j[14]=(p*o*2)*s;j[15]=0;return j;};i.perspective=function(j,k,l,m,n){var o=1/Math.tan(k/2),p=1/(m-n);j[0]=o/l;j[1]=0;j[2]=0;j[3]=0;j[4]=0;j[5]=o;j[6]=0;j[7]=0;j[8]=0;j[9]=0;j[10]=(n+m)*p;j[11]=-1;j[12]=0;j[13]=0;j[14]=(2*n*m)*p;j[15]=0;return j;};i.perspectiveFromFieldOfView=function(j,k,l,m){var n=Math.tan(k.upDegrees*Math.PI/180),o=Math.tan(k.downDegrees*Math.PI/180),p=Math.tan(k.leftDegrees*Math.PI/180),q=Math.tan(k.rightDegrees*Math.PI/180),r=2/(p+q),s=2/(n+o);j[0]=r;j[1]=0;j[2]=0;j[3]=0;j[4]=0;j[5]=s;j[6]=0;j[7]=0;j[8]=-((p-q)*r*.5);j[9]=((n-o)*s*.5);j[10]=m/(l-m);j[11]=-1;j[12]=0;j[13]=0;j[14]=(m*l)/(l-m);j[15]=0;return j;};i.ortho=function(j,k,l,m,n,o,p){var q=1/(k-l),r=1/(m-n),s=1/(o-p);j[0]=-2*q;j[1]=0;j[2]=0;j[3]=0;j[4]=0;j[5]=-2*r;j[6]=0;j[7]=0;j[8]=0;j[9]=0;j[10]=2*s;j[11]=0;j[12]=(k+l)*q;j[13]=(n+m)*r;j[14]=(p+o)*s;j[15]=1;return j;};i.lookAt=function(j,k,l,m){var n,o,p,q,r,s,t,u,v,w,x=k[0],y=k[1],z=k[2],aa=m[0],ba=m[1],ca=m[2],da=l[0],ea=l[1],fa=l[2];if(Math.abs(x-da)<h.EPSILON&&Math.abs(y-ea)<h.EPSILON&&Math.abs(z-fa)<h.EPSILON)return i.identity(j);t=x-da;u=y-ea;v=z-fa;w=1/Math.sqrt(t*t+u*u+v*v);t*=w;u*=w;v*=w;n=ba*v-ca*u;o=ca*t-aa*v;p=aa*u-ba*t;w=Math.sqrt(n*n+o*o+p*p);if(!w){n=0;o=0;p=0;}else{w=1/w;n*=w;o*=w;p*=w;}q=u*p-v*o;r=v*n-t*p;s=t*o-u*n;w=Math.sqrt(q*q+r*r+s*s);if(!w){q=0;r=0;s=0;}else{w=1/w;q*=w;r*=w;s*=w;}j[0]=n;j[1]=q;j[2]=t;j[3]=0;j[4]=o;j[5]=r;j[6]=u;j[7]=0;j[8]=p;j[9]=s;j[10]=v;j[11]=0;j[12]=-(n*x+o*y+p*z);j[13]=-(q*x+r*y+s*z);j[14]=-(t*x+u*y+v*z);j[15]=1;return j;};i.str=function(j){return 'mat4('+j[0]+', '+j[1]+', '+j[2]+', '+j[3]+', '+j[4]+', '+j[5]+', '+j[6]+', '+j[7]+', '+j[8]+', '+j[9]+', '+j[10]+', '+j[11]+', '+j[12]+', '+j[13]+', '+j[14]+', '+j[15]+')';};i.frob=function(j){return (Math.sqrt(Math.pow(j[0],2)+Math.pow(j[1],2)+Math.pow(j[2],2)+Math.pow(j[3],2)+Math.pow(j[4],2)+Math.pow(j[5],2)+Math.pow(j[6],2)+Math.pow(j[7],2)+Math.pow(j[8],2)+Math.pow(j[9],2)+Math.pow(j[10],2)+Math.pow(j[11],2)+Math.pow(j[12],2)+Math.pow(j[13],2)+Math.pow(j[14],2)+Math.pow(j[15],2)));};i.add=function(j,k,l){j[0]=k[0]+l[0];j[1]=k[1]+l[1];j[2]=k[2]+l[2];j[3]=k[3]+l[3];j[4]=k[4]+l[4];j[5]=k[5]+l[5];j[6]=k[6]+l[6];j[7]=k[7]+l[7];j[8]=k[8]+l[8];j[9]=k[9]+l[9];j[10]=k[10]+l[10];j[11]=k[11]+l[11];j[12]=k[12]+l[12];j[13]=k[13]+l[13];j[14]=k[14]+l[14];j[15]=k[15]+l[15];return j;};i.subtract=function(j,k,l){j[0]=k[0]-l[0];j[1]=k[1]-l[1];j[2]=k[2]-l[2];j[3]=k[3]-l[3];j[4]=k[4]-l[4];j[5]=k[5]-l[5];j[6]=k[6]-l[6];j[7]=k[7]-l[7];j[8]=k[8]-l[8];j[9]=k[9]-l[9];j[10]=k[10]-l[10];j[11]=k[11]-l[11];j[12]=k[12]-l[12];j[13]=k[13]-l[13];j[14]=k[14]-l[14];j[15]=k[15]-l[15];return j;};i.sub=i.subtract;i.multiplyScalar=function(j,k,l){j[0]=k[0]*l;j[1]=k[1]*l;j[2]=k[2]*l;j[3]=k[3]*l;j[4]=k[4]*l;j[5]=k[5]*l;j[6]=k[6]*l;j[7]=k[7]*l;j[8]=k[8]*l;j[9]=k[9]*l;j[10]=k[10]*l;j[11]=k[11]*l;j[12]=k[12]*l;j[13]=k[13]*l;j[14]=k[14]*l;j[15]=k[15]*l;return j;};i.multiplyScalarAndAdd=function(j,k,l,m){j[0]=k[0]+(l[0]*m);j[1]=k[1]+(l[1]*m);j[2]=k[2]+(l[2]*m);j[3]=k[3]+(l[3]*m);j[4]=k[4]+(l[4]*m);j[5]=k[5]+(l[5]*m);j[6]=k[6]+(l[6]*m);j[7]=k[7]+(l[7]*m);j[8]=k[8]+(l[8]*m);j[9]=k[9]+(l[9]*m);j[10]=k[10]+(l[10]*m);j[11]=k[11]+(l[11]*m);j[12]=k[12]+(l[12]*m);j[13]=k[13]+(l[13]*m);j[14]=k[14]+(l[14]*m);j[15]=k[15]+(l[15]*m);return j;};i.exactEquals=function(j,k){return j[0]===k[0]&&j[1]===k[1]&&j[2]===k[2]&&j[3]===k[3]&&j[4]===k[4]&&j[5]===k[5]&&j[6]===k[6]&&j[7]===k[7]&&j[8]===k[8]&&j[9]===k[9]&&j[10]===k[10]&&j[11]===k[11]&&j[12]===k[12]&&j[13]===k[13]&&j[14]===k[14]&&j[15]===k[15];};i.equals=function(j,k){var l=j[0],m=j[1],n=j[2],o=j[3],p=j[4],q=j[5],r=j[6],s=j[7],t=j[8],u=j[9],v=j[10],w=j[11],x=j[12],y=j[13],z=j[14],aa=j[15],ba=k[0],ca=k[1],da=k[2],ea=k[3],fa=k[4],ga=k[5],ha=k[6],ia=k[7],ja=k[8],ka=k[9],la=k[10],ma=k[11],na=k[12],oa=k[13],pa=k[14],qa=k[15];return (Math.abs(l-ba)<=h.EPSILON*Math.max(1,Math.abs(l),Math.abs(ba))&&Math.abs(m-ca)<=h.EPSILON*Math.max(1,Math.abs(m),Math.abs(ca))&&Math.abs(n-da)<=h.EPSILON*Math.max(1,Math.abs(n),Math.abs(da))&&Math.abs(o-ea)<=h.EPSILON*Math.max(1,Math.abs(o),Math.abs(ea))&&Math.abs(p-fa)<=h.EPSILON*Math.max(1,Math.abs(p),Math.abs(fa))&&Math.abs(q-ga)<=h.EPSILON*Math.max(1,Math.abs(q),Math.abs(ga))&&Math.abs(r-ha)<=h.EPSILON*Math.max(1,Math.abs(r),Math.abs(ha))&&Math.abs(s-ia)<=h.EPSILON*Math.max(1,Math.abs(s),Math.abs(ia))&&Math.abs(t-ja)<=h.EPSILON*Math.max(1,Math.abs(t),Math.abs(ja))&&Math.abs(u-ka)<=h.EPSILON*Math.max(1,Math.abs(u),Math.abs(ka))&&Math.abs(v-la)<=h.EPSILON*Math.max(1,Math.abs(v),Math.abs(la))&&Math.abs(w-ma)<=h.EPSILON*Math.max(1,Math.abs(w),Math.abs(ma))&&Math.abs(x-na)<=h.EPSILON*Math.max(1,Math.abs(x),Math.abs(na))&&Math.abs(y-oa)<=h.EPSILON*Math.max(1,Math.abs(y),Math.abs(oa))&&Math.abs(z-pa)<=h.EPSILON*Math.max(1,Math.abs(z),Math.abs(pa))&&Math.abs(aa-qa)<=h.EPSILON*Math.max(1,Math.abs(aa),Math.abs(qa)));};f.exports=i;},null);
__d("gl-matrix-vec3",["gl-matrix-common"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();var h=c("gl-matrix-common"),i={};i.create=function(){var j=new h.ARRAY_TYPE(3);j[0]=0;j[1]=0;j[2]=0;return j;};i.clone=function(j){var k=new h.ARRAY_TYPE(3);k[0]=j[0];k[1]=j[1];k[2]=j[2];return k;};i.fromValues=function(j,k,l){var m=new h.ARRAY_TYPE(3);m[0]=j;m[1]=k;m[2]=l;return m;};i.copy=function(j,k){j[0]=k[0];j[1]=k[1];j[2]=k[2];return j;};i.set=function(j,k,l,m){j[0]=k;j[1]=l;j[2]=m;return j;};i.add=function(j,k,l){j[0]=k[0]+l[0];j[1]=k[1]+l[1];j[2]=k[2]+l[2];return j;};i.subtract=function(j,k,l){j[0]=k[0]-l[0];j[1]=k[1]-l[1];j[2]=k[2]-l[2];return j;};i.sub=i.subtract;i.multiply=function(j,k,l){j[0]=k[0]*l[0];j[1]=k[1]*l[1];j[2]=k[2]*l[2];return j;};i.mul=i.multiply;i.divide=function(j,k,l){j[0]=k[0]/l[0];j[1]=k[1]/l[1];j[2]=k[2]/l[2];return j;};i.div=i.divide;i.ceil=function(j,k){j[0]=Math.ceil(k[0]);j[1]=Math.ceil(k[1]);j[2]=Math.ceil(k[2]);return j;};i.floor=function(j,k){j[0]=Math.floor(k[0]);j[1]=Math.floor(k[1]);j[2]=Math.floor(k[2]);return j;};i.min=function(j,k,l){j[0]=Math.min(k[0],l[0]);j[1]=Math.min(k[1],l[1]);j[2]=Math.min(k[2],l[2]);return j;};i.max=function(j,k,l){j[0]=Math.max(k[0],l[0]);j[1]=Math.max(k[1],l[1]);j[2]=Math.max(k[2],l[2]);return j;};i.round=function(j,k){j[0]=Math.round(k[0]);j[1]=Math.round(k[1]);j[2]=Math.round(k[2]);return j;};i.scale=function(j,k,l){j[0]=k[0]*l;j[1]=k[1]*l;j[2]=k[2]*l;return j;};i.scaleAndAdd=function(j,k,l,m){j[0]=k[0]+(l[0]*m);j[1]=k[1]+(l[1]*m);j[2]=k[2]+(l[2]*m);return j;};i.distance=function(j,k){var l=k[0]-j[0],m=k[1]-j[1],n=k[2]-j[2];return Math.sqrt(l*l+m*m+n*n);};i.dist=i.distance;i.squaredDistance=function(j,k){var l=k[0]-j[0],m=k[1]-j[1],n=k[2]-j[2];return l*l+m*m+n*n;};i.sqrDist=i.squaredDistance;i.length=function(j){var k=j[0],l=j[1],m=j[2];return Math.sqrt(k*k+l*l+m*m);};i.len=i.length;i.squaredLength=function(j){var k=j[0],l=j[1],m=j[2];return k*k+l*l+m*m;};i.sqrLen=i.squaredLength;i.negate=function(j,k){j[0]=-k[0];j[1]=-k[1];j[2]=-k[2];return j;};i.inverse=function(j,k){j[0]=1/k[0];j[1]=1/k[1];j[2]=1/k[2];return j;};i.normalize=function(j,k){var l=k[0],m=k[1],n=k[2],o=l*l+m*m+n*n;if(o>0){o=1/Math.sqrt(o);j[0]=k[0]*o;j[1]=k[1]*o;j[2]=k[2]*o;}return j;};i.dot=function(j,k){return j[0]*k[0]+j[1]*k[1]+j[2]*k[2];};i.cross=function(j,k,l){var m=k[0],n=k[1],o=k[2],p=l[0],q=l[1],r=l[2];j[0]=n*r-o*q;j[1]=o*p-m*r;j[2]=m*q-n*p;return j;};i.lerp=function(j,k,l,m){var n=k[0],o=k[1],p=k[2];j[0]=n+m*(l[0]-n);j[1]=o+m*(l[1]-o);j[2]=p+m*(l[2]-p);return j;};i.hermite=function(j,k,l,m,n,o){var p=o*o,q=p*(2*o-3)+1,r=p*(o-2)+o,s=p*(o-1),t=p*(3-2*o);j[0]=k[0]*q+l[0]*r+m[0]*s+n[0]*t;j[1]=k[1]*q+l[1]*r+m[1]*s+n[1]*t;j[2]=k[2]*q+l[2]*r+m[2]*s+n[2]*t;return j;};i.bezier=function(j,k,l,m,n,o){var p=1-o,q=p*p,r=o*o,s=q*p,t=3*o*q,u=3*r*p,v=r*o;j[0]=k[0]*s+l[0]*t+m[0]*u+n[0]*v;j[1]=k[1]*s+l[1]*t+m[1]*u+n[1]*v;j[2]=k[2]*s+l[2]*t+m[2]*u+n[2]*v;return j;};i.random=function(j,k){k=k||1;var l=h.RANDOM()*2*Math.PI,m=(h.RANDOM()*2)-1,n=Math.sqrt(1-m*m)*k;j[0]=Math.cos(l)*n;j[1]=Math.sin(l)*n;j[2]=m*k;return j;};i.transformMat4=function(j,k,l){var m=k[0],n=k[1],o=k[2],p=l[3]*m+l[7]*n+l[11]*o+l[15];p=p||1;j[0]=(l[0]*m+l[4]*n+l[8]*o+l[12])/p;j[1]=(l[1]*m+l[5]*n+l[9]*o+l[13])/p;j[2]=(l[2]*m+l[6]*n+l[10]*o+l[14])/p;return j;};i.transformMat3=function(j,k,l){var m=k[0],n=k[1],o=k[2];j[0]=m*l[0]+n*l[3]+o*l[6];j[1]=m*l[1]+n*l[4]+o*l[7];j[2]=m*l[2]+n*l[5]+o*l[8];return j;};i.transformQuat=function(j,k,l){var m=k[0],n=k[1],o=k[2],p=l[0],q=l[1],r=l[2],s=l[3],t=s*m+q*o-r*n,u=s*n+r*m-p*o,v=s*o+p*n-q*m,w=-p*m-q*n-r*o;j[0]=t*s+w*-p+u*-r-v*-q;j[1]=u*s+w*-q+v*-p-t*-r;j[2]=v*s+w*-r+t*-q-u*-p;return j;};i.rotateX=function(j,k,l,m){var n=[],o=[];n[0]=k[0]-l[0];n[1]=k[1]-l[1];n[2]=k[2]-l[2];o[0]=n[0];o[1]=n[1]*Math.cos(m)-n[2]*Math.sin(m);o[2]=n[1]*Math.sin(m)+n[2]*Math.cos(m);j[0]=o[0]+l[0];j[1]=o[1]+l[1];j[2]=o[2]+l[2];return j;};i.rotateY=function(j,k,l,m){var n=[],o=[];n[0]=k[0]-l[0];n[1]=k[1]-l[1];n[2]=k[2]-l[2];o[0]=n[2]*Math.sin(m)+n[0]*Math.cos(m);o[1]=n[1];o[2]=n[2]*Math.cos(m)-n[0]*Math.sin(m);j[0]=o[0]+l[0];j[1]=o[1]+l[1];j[2]=o[2]+l[2];return j;};i.rotateZ=function(j,k,l,m){var n=[],o=[];n[0]=k[0]-l[0];n[1]=k[1]-l[1];n[2]=k[2]-l[2];o[0]=n[0]*Math.cos(m)-n[1]*Math.sin(m);o[1]=n[0]*Math.sin(m)+n[1]*Math.cos(m);o[2]=n[2];j[0]=o[0]+l[0];j[1]=o[1]+l[1];j[2]=o[2]+l[2];return j;};i.forEach=(function(){var j=i.create();return function(k,l,m,n,o,p){var q,r;if(!l)l=3;if(!m)m=0;if(n){r=Math.min((n*l)+m,k.length);}else r=k.length;for(q=m;q<r;q+=l){j[0]=k[q];j[1]=k[q+1];j[2]=k[q+2];o(j,j,p);k[q]=j[0];k[q+1]=j[1];k[q+2]=j[2];}return k;};})();i.angle=function(j,k){var l=i.fromValues(j[0],j[1],j[2]),m=i.fromValues(k[0],k[1],k[2]);i.normalize(l,l);i.normalize(m,m);var n=i.dot(l,m);if(n>1){return 0;}else return Math.acos(n);};i.str=function(j){return 'vec3('+j[0]+', '+j[1]+', '+j[2]+')';};i.exactEquals=function(j,k){return j[0]===k[0]&&j[1]===k[1]&&j[2]===k[2];};i.equals=function(j,k){var l=j[0],m=j[1],n=j[2],o=k[0],p=k[1],q=k[2];return (Math.abs(l-o)<=h.EPSILON*Math.max(1,Math.abs(l),Math.abs(o))&&Math.abs(m-p)<=h.EPSILON*Math.max(1,Math.abs(m),Math.abs(p))&&Math.abs(n-q)<=h.EPSILON*Math.max(1,Math.abs(n),Math.abs(q)));};f.exports=i;},null);
__d("GLMatrix",["gl-matrix-common","gl-matrix-mat4","gl-matrix-vec3"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();g.glMatrix=c("gl-matrix-common");g.mat4=c("gl-matrix-mat4");g.vec3=c("gl-matrix-vec3");},null);
__d('getErrorNameFromWebGLErrorCode',[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={'0':'NO_ERROR','1280':'INVALID_ENUM','1281':'INVALID_VALUE','1282':'INVALID_OPERATION','1285':'OUT_OF_MEMORY','1286':'INVALID_FRAMEBUFFER_OPERATION','37442':'CONTEXT_LOST_WEBGL'};function i(j){if(!(j in h))return 'UNKNOWN_ERROR';return h[j];}f.exports=i;},null);
__d('SphericalRenderer',['DOM','EventEmitter','EventListener','VideoProjection','GLMatrix','getErrorNameFromWebGLErrorCode'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('GLMatrix').glMatrix,k=c('GLMatrix').mat4,l=c('GLMatrix').vec3,m=window.devicePixelRatio||1;h=babelHelpers.inherits(n,c('EventEmitter'));i=h&&h.prototype;function n(o,p,q){'use strict';i.constructor.call(this);this.$SphericalRenderer2=q;this.$SphericalRenderer19=q.fieldOfView;this.$SphericalRenderer14=true;this.$SphericalRenderer13=o;this.$SphericalRenderer1=p;this.$SphericalRenderer7=k.create();this.$SphericalRenderer8=k.create();this.$SphericalRenderer3=false;this.$SphericalRenderer16=[];this.$SphericalRenderer18=null;this.$SphericalRenderer17=null;this.$SphericalRenderer15=q.projectionType===c('VideoProjection').UNPADDED_CUBESTRIP;this.$SphericalRenderer5=q.projectionType===c('VideoProjection').ROTATED_CUBEMAP;this.$SphericalRenderer9=null;this.$SphericalRenderer10=null;this.$SphericalRenderer6=null;this.$SphericalRenderer1.addEventListener('webglcontextlost',function(r){return this.$SphericalRenderer20(r);}.bind(this));this.$SphericalRenderer1.addEventListener('webglcontextrestored',function(r){return this.$SphericalRenderer21(r);}.bind(this));this.$SphericalRenderer22();}n.prototype.reconfigure=function(o,p){'use strict';this.$SphericalRenderer19=p.fieldOfView;this.$SphericalRenderer13=o;this.$SphericalRenderer2=p;this.$SphericalRenderer15=p.projectionType===c('VideoProjection').UNPADDED_CUBESTRIP;this.$SphericalRenderer5=p.projectionType===c('VideoProjection').ROTATED_CUBEMAP;this.$SphericalRenderer22();};n.prototype.hasRenderingContext=function(){'use strict';return !this.$SphericalRenderer3;};n.prototype.$SphericalRenderer20=function(o){'use strict';o.preventDefault();this.emit('renderingContextLost');this.$SphericalRenderer3=true;};n.prototype.$SphericalRenderer21=function(o){'use strict';this.$SphericalRenderer3=false;this.$SphericalRenderer22();this.emit('renderingContextRestore');};n.prototype.setAutoUpdateTexture=function(o){'use strict';this.$SphericalRenderer14=o;};n.prototype.updateFieldOfView=function(o){'use strict';this.$SphericalRenderer19=o;this.$SphericalRenderer23();};n.prototype.updateViewportDimensions=function(o,p){'use strict';this.$SphericalRenderer1.width=o*m;this.$SphericalRenderer1.height=p*m;this.$SphericalRenderer23();};n.prototype.$SphericalRenderer23=function(){'use strict';k.perspective(this.$SphericalRenderer7,j.toRadian(this.$SphericalRenderer19),this.$SphericalRenderer1.width/this.$SphericalRenderer1.height,.1,100);this.$SphericalRenderer4.viewport(0,0,this.$SphericalRenderer4.drawingBufferWidth,this.$SphericalRenderer4.drawingBufferHeight);};n.prototype.$SphericalRenderer22=function(){'use strict';this.$SphericalRenderer24();this.updateViewportDimensions(this.$SphericalRenderer1.clientWidth,this.$SphericalRenderer1.clientHeight);if(!this.$SphericalRenderer25())throw new Error('Failed to intialize shaders: '+c('getErrorNameFromWebGLErrorCode')(this.$SphericalRenderer4.getError()));this.$SphericalRenderer26();this.$SphericalRenderer4.clearColor(0,0,0,1);this.$SphericalRenderer13.setAttribute('crossorigin','anonymous');if(this.$SphericalRenderer2.projectionType===c('VideoProjection').ROTATED_CUBEMAP)this.$SphericalRenderer27();};n.prototype.$SphericalRenderer24=function(){'use strict';if(this.$SphericalRenderer4&&!this.$SphericalRenderer3)return;if(!b.WebGLRenderingContext)throw new Error('WebGLRenderingContext not available.');var o=['webgl','experimental-webgl','webkit-3d','moz-webgl'],p=null,q=null,r=c('EventListener').listen(this.$SphericalRenderer1,'webglcontextcreationerror',function(u){return q=u.statusMessage;});for(var s=0;s<o.length;s++){try{p=this.$SphericalRenderer1.getContext(o[s]);}catch(t){}if(p)break;}r.remove();if(!p){if(!q)q='Unknown error.';throw new Error('Failed to acquire 3D rendering context: '+q);}this.$SphericalRenderer4=p;this.$SphericalRenderer3=false;};n.prototype.$SphericalRenderer25=function(){'use strict';var o=this.$SphericalRenderer28();if(!o)return false;var p=this.$SphericalRenderer29();if(!p)return false;this.$SphericalRenderer12=this.$SphericalRenderer4.createProgram();this.$SphericalRenderer4.attachShader(this.$SphericalRenderer12,o);this.$SphericalRenderer4.attachShader(this.$SphericalRenderer12,p);this.$SphericalRenderer4.linkProgram(this.$SphericalRenderer12);if(!this.$SphericalRenderer4.getProgramParameter(this.$SphericalRenderer12,this.$SphericalRenderer4.LINK_STATUS))return false;this.$SphericalRenderer4.useProgram(this.$SphericalRenderer12);this.$SphericalRenderer12.vertexPositionAttribute=this.$SphericalRenderer4.getAttribLocation(this.$SphericalRenderer12,'aVertexPosition');this.$SphericalRenderer4.enableVertexAttribArray(this.$SphericalRenderer12.vertexPositionAttribute);this.$SphericalRenderer12.pMatrixUniform=this.$SphericalRenderer4.getUniformLocation(this.$SphericalRenderer12,'uPMatrix');this.$SphericalRenderer12.mvMatrixUniform=this.$SphericalRenderer4.getUniformLocation(this.$SphericalRenderer12,'uMVMatrix');this.$SphericalRenderer12.samplerUniform=this.$SphericalRenderer4.getUniformLocation(this.$SphericalRenderer12,'uSampler');if(!this.$SphericalRenderer15){this.$SphericalRenderer12.textureCoordAttribute=this.$SphericalRenderer4.getAttribLocation(this.$SphericalRenderer12,'aTextureCoord');this.$SphericalRenderer4.enableVertexAttribArray(this.$SphericalRenderer12.textureCoordAttribute);}return true;};n.prototype.$SphericalRenderer26=function(){'use strict';this.$SphericalRenderer11=this.$SphericalRenderer4.createTexture();this.$SphericalRenderer11.image=this.$SphericalRenderer13;var o=this.$SphericalRenderer15?this.$SphericalRenderer4.TEXTURE_CUBE_MAP:this.$SphericalRenderer4.TEXTURE_2D;this.$SphericalRenderer4.bindTexture(o,this.$SphericalRenderer11);this.$SphericalRenderer4.texParameteri(o,this.$SphericalRenderer4.TEXTURE_MAG_FILTER,this.$SphericalRenderer4.LINEAR);this.$SphericalRenderer4.texParameteri(o,this.$SphericalRenderer4.TEXTURE_MIN_FILTER,this.$SphericalRenderer4.LINEAR);this.$SphericalRenderer4.texParameteri(o,this.$SphericalRenderer4.TEXTURE_WRAP_S,this.$SphericalRenderer4.CLAMP_TO_EDGE);this.$SphericalRenderer4.texParameteri(o,this.$SphericalRenderer4.TEXTURE_WRAP_T,this.$SphericalRenderer4.CLAMP_TO_EDGE);this.$SphericalRenderer4.bindTexture(o,null);};n.prototype.$SphericalRenderer30=function(o){'use strict';var p=30,q=30,r=2,s=[],t=[],u,v;for(u=0;u<=p;u++){var w=(u/p-.5)*Math.PI,x=Math.sin(w),y=Math.cos(w);for(v=0;v<=q;v++){var z=(v/q-.5)*2*Math.PI,aa=Math.sin(z),ba=Math.cos(z),ca=ba*y,da=x,ea=aa*y,fa=v/q,ga=u/p;t.push(fa);t.push(ga);s.push(r*ca);s.push(r*da);s.push(r*ea);}}var ha=[];for(u=0;u<p;u++)for(v=0;v<q;v++){var ia=u*(q+1)+v,ja=ia+q+1;ha.push(ia);ha.push(ja);ha.push(ia+1);ha.push(ja);ha.push(ja+1);ha.push(ia+1);}this.$SphericalRenderer16[o]=this.$SphericalRenderer4.createBuffer();this.$SphericalRenderer4.bindBuffer(this.$SphericalRenderer4.ARRAY_BUFFER,this.$SphericalRenderer16[o]);this.$SphericalRenderer4.bufferData(this.$SphericalRenderer4.ARRAY_BUFFER,new Float32Array(t),this.$SphericalRenderer4.STATIC_DRAW);this.$SphericalRenderer16[o].itemSize=2;this.$SphericalRenderer16[o].numItems=t.length/2;this.$SphericalRenderer18=this.$SphericalRenderer4.createBuffer();this.$SphericalRenderer4.bindBuffer(this.$SphericalRenderer4.ARRAY_BUFFER,this.$SphericalRenderer18);this.$SphericalRenderer4.bufferData(this.$SphericalRenderer4.ARRAY_BUFFER,new Float32Array(s),this.$SphericalRenderer4.STATIC_DRAW);if(this.$SphericalRenderer18){this.$SphericalRenderer18.itemSize=3;this.$SphericalRenderer18.numItems=s.length/3;}this.$SphericalRenderer17=this.$SphericalRenderer4.createBuffer();this.$SphericalRenderer4.bindBuffer(this.$SphericalRenderer4.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer17);this.$SphericalRenderer4.bufferData(this.$SphericalRenderer4.ELEMENT_ARRAY_BUFFER,new Uint16Array(ha),this.$SphericalRenderer4.STATIC_DRAW);if(this.$SphericalRenderer17){this.$SphericalRenderer17.itemSize=1;this.$SphericalRenderer17.numItems=ha.length;}};n.prototype.$SphericalRenderer31=function(o,p,q){'use strict';var r=[5,1,3,7,0,4,6,2,6,7,3,2,0,1,5,4,4,5,7,6,1,0,2,3],s=[];for(var t=0;t<r.length;t++){var u=r[t]>>2&1,v=r[t]>>1&1,w=r[t]>>0&1;s.push(u*2-1);s.push(v*2-1);s.push(w*2-1);}this.$SphericalRenderer18=this.$SphericalRenderer4.createBuffer();this.$SphericalRenderer4.bindBuffer(this.$SphericalRenderer4.ARRAY_BUFFER,this.$SphericalRenderer18);this.$SphericalRenderer4.bufferData(this.$SphericalRenderer4.ARRAY_BUFFER,new Float32Array(s),this.$SphericalRenderer4.STATIC_DRAW);if(this.$SphericalRenderer18){this.$SphericalRenderer18.itemSize=3;this.$SphericalRenderer18.numItems=s.length/3;}if(!this.$SphericalRenderer15){var x,y,z,aa,ba,ca=[];if(this.$SphericalRenderer5){var da=this.$SphericalRenderer11.image.videoWidth/2;p=da/(Math.floor(da/32)*32);z=(p-1)/2;x=3;y=2;aa=1/y;ba=1/x;ca.push((0+z)*aa);ca.push((1-z)*ba);ca.push((0+z)*aa);ca.push((0+z)*ba);ca.push((1-z)*aa);ca.push((0+z)*ba);ca.push((1-z)*aa);ca.push((1-z)*ba);ca.push((0+z)*aa);ca.push((3-z)*ba);ca.push((0+z)*aa);ca.push((2+z)*ba);ca.push((1-z)*aa);ca.push((2+z)*ba);ca.push((1-z)*aa);ca.push((3-z)*ba);ca.push((2-z)*aa);ca.push((3-z)*ba);ca.push((1+z)*aa);ca.push((3-z)*ba);ca.push((1+z)*aa);ca.push((2+z)*ba);ca.push((2-z)*aa);ca.push((2+z)*ba);ca.push((2-z)*aa);ca.push((1-z)*ba);ca.push((1+z)*aa);ca.push((1-z)*ba);ca.push((1+z)*aa);ca.push((0+z)*ba);ca.push((2-z)*aa);ca.push((0+z)*ba);ca.push((0+z)*aa);ca.push((2-z)*ba);ca.push((0+z)*aa);ca.push((1+z)*ba);ca.push((1-z)*aa);ca.push((1+z)*ba);ca.push((1-z)*aa);ca.push((2-z)*ba);ca.push((1+z)*aa);ca.push((1+z)*ba);ca.push((2-z)*aa);ca.push((1+z)*ba);ca.push((2-z)*aa);ca.push((2-z)*ba);ca.push((1+z)*aa);ca.push((2-z)*ba);}else{z=(p-1)/2;x=2;y=3;aa=1/y;ba=1/x;for(var ea=0;ea<x;++ea)for(var fa=0;fa<y;++fa){var ga=x-1-ea,ha=fa;ca.push((ha+z)*aa);ca.push((ga+z)*ba);ca.push((ha+1-z)*aa);ca.push((ga+z)*ba);ca.push((ha+1-z)*aa);ca.push((ga+1-z)*ba);ca.push((ha+z)*aa);ca.push((ga+1-z)*ba);}}this.$SphericalRenderer16[q]=this.$SphericalRenderer4.createBuffer();this.$SphericalRenderer4.bindBuffer(this.$SphericalRenderer4.ARRAY_BUFFER,this.$SphericalRenderer16[q]);this.$SphericalRenderer4.bufferData(this.$SphericalRenderer4.ARRAY_BUFFER,new Float32Array(ca),this.$SphericalRenderer4.STATIC_DRAW);this.$SphericalRenderer16[q].itemSize=2;this.$SphericalRenderer16[q].numItems=ca.length/2;}var ia=[];for(var ja=0;ja<r.length;ja+=4){ia.push(ja);ia.push(ja+2);ia.push(ja+1);ia.push(ja);ia.push(ja+3);ia.push(ja+2);}this.$SphericalRenderer17=this.$SphericalRenderer4.createBuffer();this.$SphericalRenderer4.bindBuffer(this.$SphericalRenderer4.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer17);this.$SphericalRenderer4.bufferData(this.$SphericalRenderer4.ELEMENT_ARRAY_BUFFER,new Uint16Array(ia),this.$SphericalRenderer4.STATIC_DRAW);if(this.$SphericalRenderer17){this.$SphericalRenderer17.itemSize=1;this.$SphericalRenderer17.numItems=ia.length;}};n.prototype.$SphericalRenderer27=function(){'use strict';this.$SphericalRenderer9=l.fromValues(1,1,-1);this.$SphericalRenderer10=l.fromValues(-1,1,0);var o=k.create();k.rotate(o,o,j.toRadian(15),this.$SphericalRenderer10);l.transformMat4(this.$SphericalRenderer9,this.$SphericalRenderer9,o);this.$SphericalRenderer6=k.create();k.lookAt(this.$SphericalRenderer6,l.fromValues(0,0,0),l.fromValues(1,1,1),this.$SphericalRenderer10);};n.prototype.$SphericalRenderer28=function(){'use strict';var o=this.$SphericalRenderer4.createShader(this.$SphericalRenderer4.VERTEX_SHADER),p='\n      attribute vec3 aVertexPosition;\n\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n\n      varying highp vec3 vVertexDirectionVector;\n\n      void main(void) {\n        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n        vVertexDirectionVector = aVertexPosition;\n      }\n    ',q='\n      attribute vec3 aVertexPosition;\n      attribute vec2 aTextureCoord;\n\n      uniform mat4 uMVMatrix;\n      uniform mat4 uPMatrix;\n\n      varying highp vec2 vTextureCoord;\n\n      void main(void) {\n        gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\n        vTextureCoord = aTextureCoord;\n      }\n    ',r=this.$SphericalRenderer15?p:q;this.$SphericalRenderer4.shaderSource(o,r);this.$SphericalRenderer4.compileShader(o);if(!this.$SphericalRenderer4.getShaderParameter(o,this.$SphericalRenderer4.COMPILE_STATUS))return null;return o;};n.prototype.$SphericalRenderer29=function(){'use strict';var o=this.$SphericalRenderer4.createShader(this.$SphericalRenderer4.FRAGMENT_SHADER),p='\n      varying highp vec3 vVertexDirectionVector;\n      uniform samplerCube uSampler;\n\n      void main(void) {\n        gl_FragColor = textureCube(uSampler, vVertexDirectionVector);\n      }\n    ',q='\n      varying highp vec2 vTextureCoord;\n\n      uniform sampler2D uSampler;\n\n      void main(void) {\n        gl_FragColor = texture2D(\n          uSampler,\n          vec2(vTextureCoord.s, vTextureCoord.t)\n        );\n      }\n    ',r=this.$SphericalRenderer15?p:q;this.$SphericalRenderer4.shaderSource(o,r);this.$SphericalRenderer4.compileShader(o);if(!this.$SphericalRenderer4.getShaderParameter(o,this.$SphericalRenderer4.COMPILE_STATUS))return null;return o;};n.prototype.$SphericalRenderer32=function(){'use strict';if(this.$SphericalRenderer15){this.$SphericalRenderer33();}else{this.$SphericalRenderer4.bindTexture(this.$SphericalRenderer4.TEXTURE_2D,this.$SphericalRenderer11);this.$SphericalRenderer4.pixelStorei(this.$SphericalRenderer4.UNPACK_FLIP_Y_WEBGL,true);try{this.$SphericalRenderer4.texImage2D(this.$SphericalRenderer4.TEXTURE_2D,0,this.$SphericalRenderer4.RGBA,this.$SphericalRenderer4.RGBA,this.$SphericalRenderer4.UNSIGNED_BYTE,this.$SphericalRenderer11.image);}catch(o){this.emit('renderingError',o);}this.$SphericalRenderer4.bindTexture(this.$SphericalRenderer4.TEXTURE_2D,null);}};n.prototype.renderWithRotationMatrix=function(o){'use strict';if(this.$SphericalRenderer3)return;if(this.$SphericalRenderer14)this.$SphericalRenderer32();this.$SphericalRenderer8=o;this.$SphericalRenderer34();};n.prototype.render=function(o,p){'use strict';if(this.$SphericalRenderer3)return;if(this.$SphericalRenderer14)this.$SphericalRenderer32();if(this.$SphericalRenderer5){k.copy(this.$SphericalRenderer8,this.$SphericalRenderer6);k.rotate(this.$SphericalRenderer8,this.$SphericalRenderer8,j.toRadian(p),this.$SphericalRenderer9);k.rotate(this.$SphericalRenderer8,this.$SphericalRenderer8,j.toRadian(o-80),this.$SphericalRenderer10);}else{k.identity(this.$SphericalRenderer8);k.rotateX(this.$SphericalRenderer8,this.$SphericalRenderer8,-j.toRadian(p));k.rotateY(this.$SphericalRenderer8,this.$SphericalRenderer8,j.toRadian(o));}this.$SphericalRenderer34();};n.prototype.$SphericalRenderer34=function(){'use strict';this.$SphericalRenderer4.clear(this.$SphericalRenderer4.COLOR_BUFFER_BIT|this.$SphericalRenderer4.DEPTH_BUFFER_BIT);this.$SphericalRenderer4.activeTexture(this.$SphericalRenderer4.TEXTURE0);if(this.$SphericalRenderer15){this.$SphericalRenderer4.bindTexture(this.$SphericalRenderer4.TEXTURE_CUBE_MAP,this.$SphericalRenderer11);if(this.$SphericalRenderer18===null)this.$SphericalRenderer31(this.$SphericalRenderer2.projectionType,this.$SphericalRenderer2.expansionCoef||0,0);}else{this.$SphericalRenderer4.bindTexture(this.$SphericalRenderer4.TEXTURE_2D,this.$SphericalRenderer11);var o=this.$SphericalRenderer11.image.videoWidth;if(this.$SphericalRenderer2.projectionType===c('VideoProjection').CUBEMAP||this.$SphericalRenderer2.projectionType===c('VideoProjection').ROTATED_CUBEMAP){if(!(o in this.$SphericalRenderer16))this.$SphericalRenderer31(this.$SphericalRenderer2.projectionType,this.$SphericalRenderer2.expansionCoef||0,o);}else if(!(o in this.$SphericalRenderer16))this.$SphericalRenderer30(o);this.$SphericalRenderer4.bindBuffer(this.$SphericalRenderer4.ARRAY_BUFFER,this.$SphericalRenderer16[o]);this.$SphericalRenderer4.vertexAttribPointer(this.$SphericalRenderer12.textureCoordAttribute,this.$SphericalRenderer16[o].itemSize,this.$SphericalRenderer4.FLOAT,false,0,0);}this.$SphericalRenderer4.uniform1i(this.$SphericalRenderer12.samplerUniform,0);this.$SphericalRenderer4.bindBuffer(this.$SphericalRenderer4.ARRAY_BUFFER,this.$SphericalRenderer18);if(this.$SphericalRenderer18)this.$SphericalRenderer4.vertexAttribPointer(this.$SphericalRenderer12.vertexPositionAttribute,this.$SphericalRenderer18.itemSize,this.$SphericalRenderer4.FLOAT,false,0,0);this.$SphericalRenderer4.bindBuffer(this.$SphericalRenderer4.ELEMENT_ARRAY_BUFFER,this.$SphericalRenderer17);this.$SphericalRenderer4.uniformMatrix4fv(this.$SphericalRenderer12.pMatrixUniform,false,this.$SphericalRenderer7);this.$SphericalRenderer4.uniformMatrix4fv(this.$SphericalRenderer12.mvMatrixUniform,false,this.$SphericalRenderer8);if(this.$SphericalRenderer17)this.$SphericalRenderer4.drawElements(this.$SphericalRenderer4.TRIANGLES,this.$SphericalRenderer17.numItems,this.$SphericalRenderer4.UNSIGNED_SHORT,0);this.$SphericalRenderer4.bindTexture(this.$SphericalRenderer4.TEXTURE_2D,null);};n.prototype.$SphericalRenderer35=function(){'use strict';var o=this.$SphericalRenderer4.getParameter(this.$SphericalRenderer4.MAX_CUBE_MAP_TEXTURE_SIZE),p=this.$SphericalRenderer11.image.width;return Math.min(o,p);};n.prototype.$SphericalRenderer33=function(){'use strict';var o=this.$SphericalRenderer35(),p=this.$SphericalRenderer11.image.width,q=c('DOM').create('canvas',{width:o,height:o}),r=q.getContext('2d');this.$SphericalRenderer4.pixelStorei(this.$SphericalRenderer4.UNPACK_FLIP_Y_WEBGL,false);this.$SphericalRenderer4.bindTexture(this.$SphericalRenderer4.TEXTURE_CUBE_MAP,this.$SphericalRenderer11);for(var s=0;s<6;s++){r.drawImage(this.$SphericalRenderer11.image,0,s*p,p,p,0,0,o,o);var t=new Uint8Array(r.getImageData(0,0,o,o).data);this.$SphericalRenderer4.texImage2D(this.$SphericalRenderer4.TEXTURE_CUBE_MAP_POSITIVE_X+s,0,this.$SphericalRenderer4.RGBA,o,o,0,this.$SphericalRenderer4.RGBA,this.$SphericalRenderer4.UNSIGNED_BYTE,t);}this.$SphericalRenderer4.bindTexture(this.$SphericalRenderer4.TEXTURE_CUBE_MAP,null);};f.exports=n;},null);
__d("createExponentialMovingAverage",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(k){var l=arguments.length<=1||arguments[1]===undefined?0:arguments[1],m=l;return function(n){return m+=k*(n-m);};}function i(k){return function(l){return 1-Math.exp(-l/k);};}function j(k){var l=arguments.length<=1||arguments[1]===undefined?0:arguments[1],m=l,n=i(k);return function(o,p){return m+=n(p)*(o-m);};}h.createContinuous=j;f.exports=h;},null);
__d('VelocityTracker',['createExponentialMovingAverage','performanceNow'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(){var i=arguments.length<=0||arguments[0]===undefined?50:arguments[0],j=arguments.length<=1||arguments[1]===undefined?{x:0,y:0}:arguments[1];'use strict';this.$VelocityTracker5=j.x;this.$VelocityTracker6=j.y;this.$VelocityTracker1=c('performanceNow')();this.$VelocityTracker2=c('createExponentialMovingAverage').createContinuous(i,this.$VelocityTracker5);this.$VelocityTracker3=c('createExponentialMovingAverage').createContinuous(i,this.$VelocityTracker6);}h.prototype.update=function(i,j){'use strict';var k=0;if(this.$VelocityTracker4){k=c('performanceNow')()-this.$VelocityTracker1;k=this.updateVelocity((i-this.$VelocityTracker4.x)*1000/k,(j-this.$VelocityTracker4.y)*1000/k);}else this.$VelocityTracker1=c('performanceNow')();this.$VelocityTracker4={x:i,y:j};return k;};h.prototype.updateVelocity=function(i,j){'use strict';var k=c('performanceNow')(),l=k-this.$VelocityTracker1;this.$VelocityTracker1=k;this.$VelocityTracker5=this.$VelocityTracker2(i,l);this.$VelocityTracker6=this.$VelocityTracker3(j,l);return l;};h.prototype.getVelocityX=function(){'use strict';return Math.trunc(this.$VelocityTracker5);};h.prototype.getVelocityY=function(){'use strict';return Math.trunc(this.$VelocityTracker6);};h.prototype.getSpeed=function(){'use strict';return Math.trunc(Math.sqrt(this.$VelocityTracker5*this.$VelocityTracker5+this.$VelocityTracker6*this.$VelocityTracker6));};f.exports=h;},null);
__d("degToRad",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){return i*Math.PI/180;}f.exports=h;},null);
__d('SphericalHeadingIndicator.react',['cx','d3/d3','degToRad','React','EventSubscription','shallowCompare'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').PropTypes,j=c('React').createClass({displayName:'SphericalHeadingIndicator',_currentHeading:0,_currentFOV:0,_activeCount:0,_listeners:[],propTypes:{heading:i.number.isRequired,horizontalFieldOfView:i.number.isRequired,click:i.func,imageViewer:i.object.isRequired,recenterControl:i.object.isRequired,absoluteHeading:i.bool,auto:i.bool,fullscreen:i.bool},getInitialState:function(){return {active:false};},shouldComponentUpdate:function(k,l){return c('shallowCompare')(this,k,l);},drawArc:function(k,l){this._currentHeading=k;this._currentFOV=l;var m=c('degToRad')(l),n=c('degToRad')(k-(this.props.absoluteHeading?0:this.props.heading)),o=this.props.auto?n+m/2:n-m/2,p=this.props.auto?n-m/2+2*Math.PI:n+m/2,q=c('d3/d3').svg.arc().innerRadius(this.props.fullscreen?5:3.5).outerRadius(this.props.fullscreen?13:9).startAngle(o).endAngle(p);c('d3/d3').select(this.refs.arc).attr('d',q);},setActive:function(k){this._activeCount+=k?1:-1;if(k||this._activeCount===0)this.setState({active:k});},componentDidUpdate:function(k,l){var m=k.heading!==this.props.heading?this.props.heading:this._currentHeading,n=k.horizontalFieldOfView!==this.props.horizontalFieldOfView?this.props.horizontalFieldOfView:this._currentFOV;this.drawArc(m,n);},componentDidMount:function(){this.drawArc(this.props.heading,this.props.horizontalFieldOfView);this._listeners.push(this.props.imageViewer.addListener('updateViewportBegin',function(){return this.setActive(true);}.bind(this)));this._listeners.push(this.props.imageViewer.addListener('updateViewportEnd',function(){return setTimeout(function(){return this.setActive(false);}.bind(this),1000);}.bind(this)));this._listeners.push(this.props.imageViewer.addListener('viewportChange',function(k){return this.drawArc(k,this._currentFOV);}.bind(this)));this._listeners.push(this.props.recenterControl.addListener('animationStart',function(){return this.setActive(true);}.bind(this)));this._listeners.push(this.props.recenterControl.addListener('animationEnd',function(){return setTimeout(function(){return this.setActive(false);}.bind(this),1000);}.bind(this)));},componentWillUnmount:function(){this._removeListeners();},_removeListeners:function(){this._listeners.forEach(function(k){return k.remove();});this._listeners=[];},render:function(){var k=this.props.fullscreen?50:35,l=k/2,m=this.props.fullscreen?'22.75,7 27.25,7 25,2.5':'15,5 20,5 17.5,2',n='translate('+l+','+l+')',o=c('React').createElement('circle',{className:"_4zph",cx:l,cy:l,r:this.props.fullscreen?17.25:12,style:{strokeWidth:this.props.fullscreen?1.5:1}}),p=this.props.auto?null:c('React').createElement('circle',{cx:l,cy:l,r:this.props.fullscreen?3:2}),q=this.props.auto?c('React').createElement('circle',{className:"_5qyh",cx:l,cy:l,r:this.props.fullscreen?14.75:10.25,style:{strokeWidth:this.props.fullscreen?3.75:2.75}}):null,r=this.props.auto?c('React').createElement('circle',{className:"_5qyh",cx:l,cy:l,r:this.props.fullscreen?4:2.75,style:{strokeWidth:this.props.fullscreen?2.25:1.75}}):null,s=this.props.auto?c('React').createElement('div',{className:"_5qyr",style:{top:this.props.fullscreen?'54.5px':'38px'}},'AUTO'):null;return (c('React').createElement('div',{className:"_5qys"+(this.state.active?' '+"_4zpe":''),style:{width:k+'px',height:k+'px'}},c('React').createElement('svg',{onClick:this.props.click,className:"_5qyy",width:k,height:k},c('React').createElement('g',{className:"_4zpd"+(this.state.active?' '+"_4zpe":'')},c('React').createElement('circle',{cx:l,cy:l,r:l}),c('React').createElement('g',{className:"_4zpf"+(this.state.active?' '+"_4zpe":'')},c('React').createElement('circle',{className:"_4zpg",cx:l,cy:l,r:l}),o,q,r,p,c('React').createElement('polygon',{points:m}),c('React').createElement('g',{transform:n},c('React').createElement('path',{ref:'arc'}))))),s));}});f.exports=j;},null);
__d("radToDeg",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();function h(i){return i*180/Math.PI;}f.exports=h;},null);
__d('SphericalViewportControl',['cx','CSS','DOMQuery','Event','EventEmitter','Keys','SubscriptionsHandler','VelocityTracker','getElementRect','performanceNow','requestAnimationFrame','throttle','degToRad','radToDeg'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('DOMQuery').scry(window.document.body,'#globalContainer')[0]||window.document.body,l=['W','A','S','D'].reduce(function(o,p){o[p]=p.charCodeAt(0);return o;},{}),m={Up:"__tu",Down:"__tz",Left:"_2a6u",Right:"_2a6v",UpLeft:"__t-",UpRight:"__u0",DownLeft:"__u1",DownRight:"__u3"};i=babelHelpers.inherits(n,c('EventEmitter'));j=i&&i.prototype;function n(o,p){var q=arguments.length<=2||arguments[2]===undefined?0:arguments[2];'use strict';j.constructor.call(this);this.$SphericalViewportControl2=new (c('VelocityTracker'))(300);this.$SphericalViewportControl3=new (c('VelocityTracker'))(300);this.$SphericalViewportControl5=new (c('SubscriptionsHandler'))();this.$SphericalViewportControl22=o;this.$SphericalViewportControl28(p);this.$SphericalViewportControl13={x:0,y:0};this.$SphericalViewportControl9={left:0,right:0,up:0,down:0};this.$SphericalViewportControl15={x:0,y:0};this.$SphericalViewportControl16={x:0,y:0};this.$SphericalViewportControl17=new (c('VelocityTracker'))();this.$SphericalViewportControl21=new (c('SubscriptionsHandler'))();this.$SphericalViewportControl24=false;this.$SphericalViewportControl14=false;this.$SphericalViewportControl26=q||0;this.$SphericalViewportControl21.addSubscriptions(c('Event').listen(o,'mousedown',function(r){return this.$SphericalViewportControl29(r);}.bind(this)),c('Event').listen(o,'mouseenter',function(r){return this.$SphericalViewportControl30(r);}.bind(this)),c('Event').listen(o,'mouseleave',function(r){return this.$SphericalViewportControl31(r);}.bind(this)),c('Event').listen(o,'click',function(r){return this.$SphericalViewportControl32(r);}.bind(this)),c('Event').listen(o,'wheel',function(r){return this.$SphericalViewportControl33(r);}.bind(this)),c('Event').listen(o,'keydown',function(r){return this.$SphericalViewportControl34(r);}.bind(this)),c('Event').listen(o,'keyup',function(r){return this.$SphericalViewportControl35(r);}.bind(this)),c('Event').listen(o,'blur',function(r){return this.$SphericalViewportControl36(r);}.bind(this)),c('Event').listen(o,'touchstart',function(r){return this.$SphericalViewportControl37(r);}.bind(this)),c('Event').listen(o,'touchend',function(r){return this.$SphericalViewportControl31(r);}.bind(this)),c('Event').listen(o,'touchcancel',function(r){return this.$SphericalViewportControl31(r);}.bind(this)));if(this.$SphericalViewportControl26)this.$SphericalViewportControl21.addSubscriptions(c('Event').listen(o,'mousemove',function(r){return this.$SphericalViewportControl38(r);}.bind(this)));}n.prototype.$SphericalViewportControl28=function(o){'use strict';if(this.$SphericalViewportControl22.clientHeight&&this.$SphericalViewportControl22.clientWidth){this.$SphericalViewportControl1=this.$SphericalViewportControl22.clientWidth/this.$SphericalViewportControl22.clientHeight;}else this.$SphericalViewportControl1=1;this.$SphericalViewportControl4=o.fieldOfView;this.$SphericalViewportControl20=(o.panningVelocityFactor||0)/15*80||80;this.$SphericalViewportControl8=(o.keyboardVelocityFactor||0)*1000||80;if(o.partialLimits){this.$SphericalViewportControl25={left:o.partialLimits.partialLeftDegrees,right:o.partialLimits.partialRightDegrees,up:o.partialLimits.partialTopDegrees,down:o.partialLimits.partialBottomDegrees};}else this.$SphericalViewportControl25={up:null,down:null,left:null,right:null};this.$SphericalViewportControl19={x:o.initialHeading,y:o.initialPitch};if((this.$SphericalViewportControl25.up||this.$SphericalViewportControl25.up===0)&&(this.$SphericalViewportControl25.down||this.$SphericalViewportControl25.down===0)){var p=this.$SphericalViewportControl25.up+this.$SphericalViewportControl25.down;if(this.$SphericalViewportControl4>p){this.$SphericalViewportControl4=p;this.$SphericalViewportControl19.y=(this.$SphericalViewportControl25.up-this.$SphericalViewportControl25.down)/2;}}this.$SphericalViewportControl18={x:this.$SphericalViewportControl19.x,y:this.$SphericalViewportControl19.y};};n.prototype.reconfigure=function(o){'use strict';this.$SphericalViewportControl28(o);};n.prototype.$SphericalViewportControl29=function(o){'use strict';if(this.$SphericalViewportControl12)this.$SphericalViewportControl39();this.$SphericalViewportControl11=true;this.$SphericalViewportControl27=false;this.$SphericalViewportControl40(o);};n.prototype.$SphericalViewportControl37=function(o){'use strict';if(this.$SphericalViewportControl11)this.$SphericalViewportControl39();if(this.$SphericalViewportControl12){this.$SphericalViewportControl39();return;}this.$SphericalViewportControl12=true;this.$SphericalViewportControl40(o);};n.prototype.$SphericalViewportControl40=function(o){'use strict';this.$SphericalViewportControl41(o);this.$SphericalViewportControl42(o);this.$SphericalViewportControl43();c('Event').kill(o);};n.prototype.$SphericalViewportControl31=function(o){'use strict';if(this.$SphericalViewportControl12||this.$SphericalViewportControl11){var p=this.$SphericalViewportControl44();this.$SphericalViewportControl3=new (c('VelocityTracker'))(300,p);}if(this.$SphericalViewportControl27){this.$SphericalViewportControl45();this.$SphericalViewportControl27=false;}};n.prototype.$SphericalViewportControl46=function(o){'use strict';if(this.$SphericalViewportControl12||this.$SphericalViewportControl11)this.$SphericalViewportControl39();};n.prototype.$SphericalViewportControl47=function(o){'use strict';this.$SphericalViewportControl42(o);this.$SphericalViewportControl6=true;};n.prototype.$SphericalViewportControl38=function(o){'use strict';if(this.$SphericalViewportControl27)this.$SphericalViewportControl48(o);};n.prototype.$SphericalViewportControl49=function(o){'use strict';this.$SphericalViewportControl42(o);this.$SphericalViewportControl39();this.$SphericalViewportControl45();c('Event').kill(o);};n.prototype.$SphericalViewportControl39=function(o){'use strict';c('CSS').removeClass(k,"_2a6t");c('CSS').removeClass(this.$SphericalViewportControl22,"_2a6t");this.$SphericalViewportControl12=false;this.$SphericalViewportControl11=false;this.$SphericalViewportControl5.release();if(this.$SphericalViewportControl23){c('CSS').removeClass(k,this.$SphericalViewportControl23);this.$SphericalViewportControl23='';}};n.prototype.$SphericalViewportControl50=function(o){'use strict';if(this.$SphericalViewportControl12&&o.changedTouches){return o.changedTouches[0];}else if(this.$SphericalViewportControl11){return o;}else if(this.$SphericalViewportControl27)return o;return null;};n.prototype.$SphericalViewportControl51=function(o){'use strict';var p=this.$SphericalViewportControl50(o);if(!p)return this.$SphericalViewportControl15;return {x:p.screenX,y:p.screenY};};n.prototype.$SphericalViewportControl52=function(o){'use strict';var p=this.$SphericalViewportControl50(o);if(!p)return this.$SphericalViewportControl16;return {x:p.clientX,y:p.clientY};};n.prototype.$SphericalViewportControl41=function(o){'use strict';this.$SphericalViewportControl15=this.$SphericalViewportControl51(o);this.$SphericalViewportControl13={x:0,y:0};this.$SphericalViewportControl17=new (c('VelocityTracker'))();this.$SphericalViewportControl3=new (c('VelocityTracker'))(300);c('CSS').addClass(k,"_2a6t");c('CSS').addClass(this.$SphericalViewportControl22,"_2a6t");this.$SphericalViewportControl5.engage();var p=b.document.body;if(this.$SphericalViewportControl12){this.$SphericalViewportControl5.addSubscriptions(c('Event').listen(p,'touchmove',function(q){return this.$SphericalViewportControl47(q);}.bind(this)),c('Event').listen(p,'touchend',function(q){return this.$SphericalViewportControl49(q);}.bind(this)),c('Event').listen(p,'touchcancel',function(q){return this.$SphericalViewportControl46(q);}.bind(this)));}else this.$SphericalViewportControl5.addSubscriptions(c('Event').listen(p,'mousemove',function(q){return this.$SphericalViewportControl47(q);}.bind(this)),c('Event').listen(p,'mouseup',function(q){return this.$SphericalViewportControl49(q);}.bind(this)),c('Event').listen(p,'mouseleave',function(q){return this.$SphericalViewportControl46(q);}.bind(this)));};n.prototype.$SphericalViewportControl48=function(o){'use strict';this.$SphericalViewportControl53(o,this.$SphericalViewportControl26);};n.prototype.$SphericalViewportControl42=function(o){'use strict';this.$SphericalViewportControl53(o,1);};n.prototype.$SphericalViewportControl53=function(o,p){'use strict';var q=this.$SphericalViewportControl51(o),r=this.$SphericalViewportControl14?{x:0,y:0}:this.$SphericalViewportControl13;this.$SphericalViewportControl13={x:p*(q.x-this.$SphericalViewportControl15.x)+r.x,y:p*(q.y-this.$SphericalViewportControl15.y)+r.y};this.$SphericalViewportControl14=false;this.$SphericalViewportControl15=q;this.$SphericalViewportControl17.update(q.x,q.y);this.$SphericalViewportControl16=this.$SphericalViewportControl52(o);};n.prototype.$SphericalViewportControl44=function(){'use strict';var o=this.$SphericalViewportControl54(),p=-this.$SphericalViewportControl17.getVelocityX()*o,q=this.$SphericalViewportControl17.getVelocityY()*o,r=this.$SphericalViewportControl27?this.$SphericalViewportControl26:1;if(this.$SphericalViewportControl55())p=-p;return {x:p*r,y:q*r};};n.prototype.$SphericalViewportControl56=function(o,p){'use strict';return c('radToDeg')(Math.atan(o/p));};n.prototype.$SphericalViewportControl57=function(o,p,q){'use strict';return {x:this.$SphericalViewportControl56(o.x-this.$SphericalViewportControl22.clientWidth/2,q),y:-this.$SphericalViewportControl56(o.y-this.$SphericalViewportControl22.clientHeight/2,p)};};n.prototype.$SphericalViewportControl58=function(o,p){'use strict';var q={x:o.x-p.x,y:o.y-p.y},r=this.$SphericalViewportControl22.clientHeight/(2*Math.tan(c('degToRad')(this.getVerticalFieldOfView()/2))),s=r*Math.cos(c('degToRad')(this.$SphericalViewportControl18.y)),t=s-(this.$SphericalViewportControl22.clientHeight/2-o.y)*Math.sin(c('degToRad')(this.$SphericalViewportControl18.y));if(this.$SphericalViewportControl18.y==-90&&p.y<0||this.$SphericalViewportControl18.y==90&&p.y>0){var u=this.$SphericalViewportControl56(q.y-this.$SphericalViewportControl22.clientHeight/2,q.x-this.$SphericalViewportControl22.clientWidth/2),v=this.$SphericalViewportControl56(o.y-this.$SphericalViewportControl22.clientHeight/2,o.x-this.$SphericalViewportControl22.clientWidth/2),w=v-u;if(w>90){w=180-w;}else if(w<-90)w=180+w;return {x:w*Math.sign(this.$SphericalViewportControl18.y),y:0};}else{var x=this.$SphericalViewportControl57(q,r,t),y=this.$SphericalViewportControl57(o,r,t);return {x:x.x-y.x,y:x.y-y.y};}};n.prototype.$SphericalViewportControl55=function(){'use strict';var o=this.$SphericalViewportControl16.y-c('getElementRect')(this.$SphericalViewportControl22).top,p=this.$SphericalViewportControl22.clientHeight/(2*Math.tan(c('degToRad')(this.getVerticalFieldOfView()/2))),q=-p/Math.tan(c('degToRad')(this.$SphericalViewportControl18.y))+this.$SphericalViewportControl22.clientHeight/2,r=o>q&&this.$SphericalViewportControl18.y<0||o<q&&this.$SphericalViewportControl18.y>0;return r;};n.prototype.$SphericalViewportControl59=function(){'use strict';var o=0,p=0,q={x:0,y:0};if(!this.$SphericalViewportControl14){this.$SphericalViewportControl14=true;var r=c('getElementRect')(this.$SphericalViewportControl22),s=this.$SphericalViewportControl16.x<r.left,t=this.$SphericalViewportControl16.x>r.right,u=this.$SphericalViewportControl16.y<r.top,v=this.$SphericalViewportControl16.y>r.bottom;this.$SphericalViewportControl60(s,t,u,v);var w={x:this.$SphericalViewportControl16.x-r.left,y:this.$SphericalViewportControl16.y-r.top};if(!s&&!t){q.x=this.$SphericalViewportControl58(w,this.$SphericalViewportControl13).x;this.$SphericalViewportControl13.x=0;}else{var x=this.$SphericalViewportControl55();if(s&&!x||t&&x){o+=this.$SphericalViewportControl20;}else o-=this.$SphericalViewportControl20;}if(!u&&!v){q.y=this.$SphericalViewportControl58(w,this.$SphericalViewportControl13).y;this.$SphericalViewportControl13.y=0;}else{if(u)p-=this.$SphericalViewportControl20;if(v)p+=this.$SphericalViewportControl20;}}this.$SphericalViewportControl3.updateVelocity(o,p);return q;};n.prototype.$SphericalViewportControl30=function(o){'use strict';if(this.$SphericalViewportControl11){this.$SphericalViewportControl3=new (c('VelocityTracker'))(300);}else if(this.$SphericalViewportControl26){this.$SphericalViewportControl3=new (c('VelocityTracker'))(300);this.$SphericalViewportControl27=true;this.$SphericalViewportControl15=this.$SphericalViewportControl51(o);this.$SphericalViewportControl13={x:0,y:0};this.$SphericalViewportControl43();}};n.prototype.$SphericalViewportControl32=function(o){'use strict';this.$SphericalViewportControl22.focus();if(!this.$SphericalViewportControl6)this.emit('DOM/click',o);this.$SphericalViewportControl6=false;return false;};n.prototype.$SphericalViewportControl33=function(o){'use strict';if(this.$SphericalViewportControl24)o.preventDefault();c('throttle')(this.emit,100,this)('wheelScroll',o);};n.prototype.$SphericalViewportControl34=function(o){'use strict';var p=this.$SphericalViewportControl61(o);if(p){this.$SphericalViewportControl9[p]=1;if(!this.$SphericalViewportControl10){this.$SphericalViewportControl10=true;this.$SphericalViewportControl43();}return false;}return true;};n.prototype.$SphericalViewportControl35=function(o){'use strict';var p=this.$SphericalViewportControl61(o);if(p){this.$SphericalViewportControl9[p]=0;var q=false;for(var r in this.$SphericalViewportControl9)if(this.$SphericalViewportControl9.hasOwnProperty(r)&&this.$SphericalViewportControl9[r]>0){q=true;break;}this.$SphericalViewportControl10=q;return false;}return true;};n.prototype.$SphericalViewportControl45=function(){'use strict';var o=this.$SphericalViewportControl44();this.$SphericalViewportControl3=new (c('VelocityTracker'))(300,o);};n.prototype.$SphericalViewportControl43=function(){'use strict';if(!this.$SphericalViewportControl7){this.$SphericalViewportControl7=true;this.$SphericalViewportControl2.updateVelocity(0,0);this.emit('updateViewportBegin');c('requestAnimationFrame')(function(){return this.$SphericalViewportControl62(c('performanceNow')());}.bind(this));}};n.prototype.$SphericalViewportControl62=function(o){'use strict';var p=c('performanceNow')(),q=p-o;this.$SphericalViewportControl63();var r=this.$SphericalViewportControl59();r.x+=this.$SphericalViewportControl2.getVelocityX()*q/1000;r.y+=this.$SphericalViewportControl2.getVelocityY()*q/1000;r.x+=this.$SphericalViewportControl3.getVelocityX()*q/1000;r.y+=this.$SphericalViewportControl3.getVelocityY()*q/1000;this.$SphericalViewportControl64(r.x,r.y);var s=this.$SphericalViewportControl2.getSpeed()>0||this.$SphericalViewportControl3.getSpeed()>0;if(this.$SphericalViewportControl11||this.$SphericalViewportControl10||this.$SphericalViewportControl12||this.$SphericalViewportControl27||s){c('requestAnimationFrame')(function(){return this.$SphericalViewportControl62(p);}.bind(this));}else{this.$SphericalViewportControl7=false;this.emit('updateViewportEnd');}};n.prototype.$SphericalViewportControl60=function(o,p,q,r){'use strict';var s='';if(o||p||q||r){var t=o?'Left':p?'Right':'',u=q?'Up':r?'Down':'';s=m[u+t];}if(this.$SphericalViewportControl23!=s){if(this.$SphericalViewportControl23){c('CSS').removeClass(k,this.$SphericalViewportControl23);this.$SphericalViewportControl23='';}if(s){this.$SphericalViewportControl23=s;c('CSS').addClass(k,s);}}};n.prototype.getSubscriptions=function(){'use strict';return {remove:function(){this.$SphericalViewportControl21.release();this.$SphericalViewportControl5.release();}.bind(this)};};n.prototype.$SphericalViewportControl36=function(o){'use strict';for(var p in this.$SphericalViewportControl9)this.$SphericalViewportControl9[p]=0;this.$SphericalViewportControl10=false;};n.prototype.getOrientation=function(){'use strict';return this.$SphericalViewportControl18;};n.prototype.setSphericalOrientation=function(o,p){'use strict';o=(o+360)%360;p=Math.max(-90,Math.min(90,p));if((this.$SphericalViewportControl25.left||this.$SphericalViewportControl25.left===0)&&o>=180)o=Math.max(o,360-this.$SphericalViewportControl25.left+this.getHorizontalFieldOfView()/2);if((this.$SphericalViewportControl25.right||this.$SphericalViewportControl25.right===0)&&o<=180)o=Math.min(o,this.$SphericalViewportControl25.right-this.getHorizontalFieldOfView()/2);if(this.$SphericalViewportControl25.up||this.$SphericalViewportControl25.up===0)p=Math.min(p,this.$SphericalViewportControl25.up-this.getVerticalFieldOfView()/2);if(this.$SphericalViewportControl25.down||this.$SphericalViewportControl25.down===0)p=Math.max(p,-this.$SphericalViewportControl25.down+this.getVerticalFieldOfView()/2);var q=o!=this.$SphericalViewportControl18.x||p!=this.$SphericalViewportControl18.y;this.$SphericalViewportControl18={x:o,y:p};if(q)this.emit('viewportChange',o,p);};n.prototype.setRelativeSphericalOrientation=function(o,p){'use strict';this.setSphericalOrientation(o+this.$SphericalViewportControl19.x,p+this.$SphericalViewportControl19.y);};n.prototype.$SphericalViewportControl64=function(o,p){'use strict';this.setSphericalOrientation(this.$SphericalViewportControl18.x+o,this.$SphericalViewportControl18.y+p);};n.prototype.setFieldOfView=function(o){'use strict';this.$SphericalViewportControl4=o;};n.prototype.getVerticalFieldOfView=function(){'use strict';return this.$SphericalViewportControl4;};n.prototype.getAspectRatio=function(){'use strict';if(this.$SphericalViewportControl22&&this.$SphericalViewportControl22.clientWidth&&this.$SphericalViewportControl22.clientHeight)return this.$SphericalViewportControl22.clientWidth/this.$SphericalViewportControl22.clientHeight;return this.$SphericalViewportControl1;};n.prototype.getHorizontalFieldOfView=function(){'use strict';return this.$SphericalViewportControl4*this.getAspectRatio();};n.prototype.setPreventScrollDefaultAction=function(o){'use strict';this.$SphericalViewportControl24=o;};n.prototype.$SphericalViewportControl63=function(){'use strict';var o=this.$SphericalViewportControl8*(this.$SphericalViewportControl9.right-this.$SphericalViewportControl9.left),p=this.$SphericalViewportControl8*(this.$SphericalViewportControl9.up-this.$SphericalViewportControl9.down);this.$SphericalViewportControl2.updateVelocity(o,p);};n.prototype.$SphericalViewportControl61=function(o){'use strict';var p=c('Event').getKeyCode(o),q=null;switch(p){case c('Keys').LEFT:case l.A:q='left';break;case c('Keys').UP:case l.W:q='up';break;case c('Keys').RIGHT:case l.D:q='right';break;case c('Keys').DOWN:case l.S:q='down';break;}return q;};n.prototype.$SphericalViewportControl54=function(){'use strict';return this.$SphericalViewportControl4/this.$SphericalViewportControl22.clientHeight;};f.exports=n;},null);
__d('SphericalImageRenderer',['cx','CSS','DOM','EventEmitter','SphericalViewportControl','SphericalRenderer','Vector','SphericalPhotoConfig'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=window.devicePixelRatio||1;i=babelHelpers.inherits(l,c('EventEmitter'));j=i&&i.prototype;function l(m,n,o,p){'use strict';j.constructor.call(this);this.$SphericalImageRenderer3=m;this.$SphericalImageRenderer5=n;this.$SphericalImageRenderer4=c('DOM').create('canvas',{width:o*k,height:p*k,className:"_2a6s",tabIndex:0});var q=new (c('SphericalRenderer'))(m,this.$SphericalImageRenderer4,n);q.addListener('renderingError',this.$SphericalImageRenderer6.bind(this));var r=new (c('SphericalViewportControl'))(this.$SphericalImageRenderer4,n,c('SphericalPhotoConfig').www_spherical_photo_slip_panning_factor);r.addListener('viewportChange',function(s,t){return this.emit('viewportChange',s,t);}.bind(this));r.addListener('viewportChange',function(s,t){return this.$SphericalImageRenderer7(s,t);}.bind(this));r.addListener('updateViewportBegin',function(){return this.emit('updateViewportBegin');}.bind(this));r.addListener('updateViewportEnd',function(){return this.emit('updateViewportEnd');}.bind(this));r.addListener('DOM/click',function(s){return this.emit('DOM/click',s);}.bind(this));c('CSS').hide(m);this.$SphericalImageRenderer1=r;this.$SphericalImageRenderer2=q;q.updateViewportDimensions(o,p);if(this.$SphericalImageRenderer3.complete){setTimeout(function(){return this.$SphericalImageRenderer8();}.bind(this),0);}else this.$SphericalImageRenderer3.onload=function(){return this.$SphericalImageRenderer8();}.bind(this);}l.prototype.attachTo=function(m){'use strict';this.detach();m.appendChild(this.$SphericalImageRenderer4);};l.prototype.detach=function(){'use strict';if(this.$SphericalImageRenderer4.parentElement)this.$SphericalImageRenderer4.parentElement.removeChild(this.$SphericalImageRenderer4);c('CSS').hide(this.$SphericalImageRenderer4);};l.prototype.reconfigure=function(m,n,o,p){'use strict';this.$SphericalImageRenderer3=m;this.$SphericalImageRenderer5=n;this.$SphericalImageRenderer2.setAutoUpdateTexture(true);this.$SphericalImageRenderer2.reconfigure(m,n);this.$SphericalImageRenderer2.updateViewportDimensions(o,p);this.$SphericalImageRenderer1.reconfigure(n);if(this.$SphericalImageRenderer3.complete){setTimeout(function(){return this.$SphericalImageRenderer8();}.bind(this),0);}else this.$SphericalImageRenderer3.onload=function(){return this.$SphericalImageRenderer8();}.bind(this);};l.prototype.isHealthy=function(){'use strict';return this.$SphericalImageRenderer2.hasRenderingContext();};l.prototype.getDimensions=function(){'use strict';return new (c('Vector'))(this.$SphericalImageRenderer4.width/k,this.$SphericalImageRenderer4.height/k);};l.prototype.setDimensions=function(m){'use strict';this.$SphericalImageRenderer2.updateViewportDimensions(m.x,m.y);var n=this.$SphericalImageRenderer1.getOrientation();this.$SphericalImageRenderer9(n.x,n.y);};l.prototype.getSphericalConfig=function(){'use strict';return this.$SphericalImageRenderer5;};l.prototype.$SphericalImageRenderer8=function(){'use strict';this.emit('imageLoaded');var m=this.$SphericalImageRenderer1.getOrientation();this.$SphericalImageRenderer9(m.x,m.y);this.$SphericalImageRenderer2.setAutoUpdateTexture(false);c('CSS').show(this.$SphericalImageRenderer4);};l.prototype.$SphericalImageRenderer7=function(m,n){'use strict';this.$SphericalImageRenderer9(m,n);};l.prototype.$SphericalImageRenderer6=function(m){'use strict';this.emit('error',{error:'SPHERICAL_IMAGE_RENDER_ERROR',message:m.message});};l.prototype.$SphericalImageRenderer9=function(m,n){'use strict';this.$SphericalImageRenderer2.render(m,n);};l.prototype.setFieldOfView=function(m){'use strict';this.$SphericalImageRenderer2.updateFieldOfView(m);this.$SphericalImageRenderer1.setFieldOfView(m);};l.prototype.setSphericalOrientation=function(m,n){'use strict';this.$SphericalImageRenderer1.setSphericalOrientation(m,n);};f.exports=l;},null);
__d('SphericalImageRendererPool',['SphericalImageRenderer'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.$SphericalImageRendererPool1=[];}h.prototype.get=function(i,j,k,l,m){if(!this.$SphericalImageRendererPool1.length){return new (c('SphericalImageRenderer'))(i,j,k,l);}else{var n=this.$SphericalImageRendererPool1.pop();n.reconfigure(i,j,k,l);return n;}};h.prototype['return']=function(i){if(!i.isHealthy())return;i.detach();i.removeAllListeners();this.$SphericalImageRendererPool1.push(i);};f.exports=new h();},null);
__d('SphericalImageViewer',['CSS','EventEmitter','Bootloader','SphericalImageRendererPool','SphericalPhotoInteractionTypedLogger','Vector','VisibilityObserver'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('EventEmitter'));i=h&&h.prototype;function j(k,l,m,n,o,p,q,r){'use strict';i.constructor.call(this);this.$SphericalImageViewer1=k;this.$SphericalImageViewer8=p;this.$SphericalImageViewer9=q;this.$SphericalImageViewer10=n;this.$SphericalImageViewer7=p/q;this.$SphericalImageViewer5=m;this.$SphericalImageViewer2=o;this.$SphericalImageViewer3=l;this.$SphericalImageViewer4=null;this.$SphericalImageViewer6=o.fieldOfView;this.$SphericalImageViewer12=r;this.imageLoaded=false;this.$SphericalImageViewer11=c('Vector').from(o.initialHeading,o.initialPitch);c('VisibilityObserver').instance.addListener(this.$SphericalImageViewer1,c('VisibilityObserver').VISIBILITY_CHANGE.visiblestart,function(){return this.$SphericalImageViewer13();}.bind(this));c('VisibilityObserver').instance.addListener(this.$SphericalImageViewer1,c('VisibilityObserver').VISIBILITY_CHANGE.visibleend,function(){return this.$SphericalImageViewer14();}.bind(this));if(c('VisibilityObserver').instance.getCurrentState(this.$SphericalImageViewer1)===c('VisibilityObserver').VISIBILITY.visible)setTimeout(function(){return this.$SphericalImageViewer13();}.bind(this),0);}j.prototype.getFBID=function(){'use strict';return this.$SphericalImageViewer12;};j.prototype.reconfigure=function(k){'use strict';this.$SphericalImageViewer2=k;if(this.$SphericalImageViewer4)this.$SphericalImageViewer4.reconfigure(this.$SphericalImageViewer3,this.$SphericalImageViewer2,this.$SphericalImageViewer8,this.$SphericalImageViewer9);};j.prototype.suspend=function(){'use strict';this.$SphericalImageViewer14();};j.prototype.resume=function(){'use strict';this.$SphericalImageViewer13();};j.prototype.$SphericalImageViewer13=function(){'use strict';if(this.$SphericalImageViewer4!==null)return;var k=c('SphericalImageRendererPool').get(this.$SphericalImageViewer3,this.$SphericalImageViewer2,this.$SphericalImageViewer8,this.$SphericalImageViewer9);this.$SphericalImageViewer4=k;['viewportChange','updateViewportBegin','updateViewportEnd','imageLoaded','DOM/click','error'].forEach(function(l){return (k.addListener(l,this.emit.bind(this,l)));}.bind(this));k.addListener('imageLoaded',function(){this.imageLoaded=true;c('CSS').hide(this.$SphericalImageViewer5);}.bind(this));k.addListener('viewportChange',function(l,m){this.$SphericalImageViewer11.x=l;this.$SphericalImageViewer11.y=m;}.bind(this));k.addListener('DOM/click',function(l){return this.$SphericalImageViewer15(l);}.bind(this));k.attachTo(this.$SphericalImageViewer1);};j.prototype.$SphericalImageViewer14=function(){'use strict';c('CSS').show(this.$SphericalImageViewer5);if(this.$SphericalImageViewer4){c('SphericalImageRendererPool')['return'](this.$SphericalImageViewer4);this.$SphericalImageViewer4=null;}};j.prototype.$SphericalImageViewer15=function(k){'use strict';this.emit('DOM/click',k);if(k.button==0)this.$SphericalImageViewer16();};j.prototype.$SphericalImageViewer16=function(){'use strict';if(this.$SphericalImageViewer10){c('Bootloader').loadModules(["PhotoSnowlift"],function(l){return l.bootstrap(this.$SphericalImageViewer10);}.bind(this),'SphericalImageViewer');var k=new (c('SphericalPhotoInteractionTypedLogger'))();k.setVerticalFovDegrees(this.getVerticalFieldOfView()).setYawDegrees(this.$SphericalImageViewer11.x).setPitchDegrees(this.$SphericalImageViewer11.y).setRollDegrees(0).setWidthPixels(this.$SphericalImageViewer8).setHeightPixels(this.$SphericalImageViewer9).setEventType('theater_mode_opened').setPhotoFbid(this.$SphericalImageViewer12).log();}};j.prototype.getOrientation=function(){'use strict';return this.$SphericalImageViewer11;};j.prototype.getDimensions=function(){'use strict';return {x:this.$SphericalImageViewer8,y:this.$SphericalImageViewer9};};j.prototype.setDimensions=function(k){'use strict';if(this.$SphericalImageViewer4)this.$SphericalImageViewer4.setDimensions(k);this.$SphericalImageViewer8=k.x;this.$SphericalImageViewer9=k.y;this.$SphericalImageViewer7=k.x/k.y;};j.prototype.getInitialViewElement=function(){'use strict';return this.$SphericalImageViewer5;};j.prototype.getRootNode=function(){'use strict';return this.$SphericalImageViewer1;};j.prototype.getAspectRatio=function(){'use strict';return this.$SphericalImageViewer7;};j.prototype.getVerticalFieldOfView=function(){'use strict';return this.$SphericalImageViewer6;};j.prototype.getHorizontalFieldOfView=function(){'use strict';return this.$SphericalImageViewer6*this.getAspectRatio();};j.prototype.setSphericalOrientation=function(k,l){'use strict';if(this.$SphericalImageViewer4)this.$SphericalImageViewer4.setSphericalOrientation(k,l);this.$SphericalImageViewer11.x=k;this.$SphericalImageViewer11.y=l;};f.exports=j;},null);
__d('easeInOutInterpolate',['invariant'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=function(j){!function(k){return 0;}?h(0):void 0;return Math.cos((j+1)*Math.PI)/2+.5;};f.exports=i;},null);
__d('SphericalRecenterControl',['easeInOutInterpolate','requestAnimationFrame','SphericalImageViewer','EventEmitter'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();var j=1000;h=babelHelpers.inherits(k,c('EventEmitter'));i=h&&h.prototype;function k(l,m,n){'use strict';i.constructor.call(this);this.$SphericalRecenterControl3=l;this.$SphericalRecenterControl2=n;this.$SphericalRecenterControl1=false;this.$SphericalRecenterControl7=this.$SphericalRecenterControl9.bind(this);this.$SphericalRecenterControl6={x:m.x,y:m.y};this.$SphericalRecenterControl5=this.$SphericalRecenterControl6;l.addListener('updateViewportBegin',function(){return this.$SphericalRecenterControl10();}.bind(this));l.addListener('viewportChange',function(o,p){return this.$SphericalRecenterControl5={x:o,y:p};}.bind(this));}k.prototype.recenter=function(){'use strict';if(this.$SphericalRecenterControl1||this.$SphericalRecenterControl2)return;this.$SphericalRecenterControl1=true;this.$SphericalRecenterControl4=Date.now();var l=this.$SphericalRecenterControl5,m=this.$SphericalRecenterControl6.x-l.x;if(Math.abs(m)>180)m=m>0?m-360:m+360;this.$SphericalRecenterControl8={basePitch:l.y,deltaPitch:this.$SphericalRecenterControl6.y-l.y,baseYaw:l.x,deltaYaw:m};this.emit('animationStart');c('requestAnimationFrame')(this.$SphericalRecenterControl7);};k.prototype.$SphericalRecenterControl10=function(){'use strict';this.$SphericalRecenterControl1=false;};k.prototype.$SphericalRecenterControl9=function(){'use strict';if(!this.$SphericalRecenterControl1){this.emit('animationEnd');return;}var l=Date.now();if(l-this.$SphericalRecenterControl4>j){this.$SphericalRecenterControl1=false;this.emit('animationEnd');return;}c('requestAnimationFrame')(this.$SphericalRecenterControl7);var m=this.$SphericalRecenterControl8,n=c('easeInOutInterpolate')((l-this.$SphericalRecenterControl4)/j),o=m.deltaPitch*n+m.basePitch,p=m.deltaYaw*n+m.baseYaw;this.$SphericalRecenterControl3.setSphericalOrientation(p,o);};f.exports=k;},null);
__d('SphericalImageHeadingIndicator',['cx','Event','DeferredComponent.react','React','ReactDOM','SphericalImageViewer','SphericalRecenterControl','SphericalPhotoInteractionTypedLogger','cancelAnimationFrame','destroyOnUnload','requestAnimationFrame'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j,k,l,m){'use strict';this.$SphericalImageHeadingIndicator1=j;this.$SphericalImageHeadingIndicator3=k;this.$SphericalImageHeadingIndicator7=l;this.$SphericalImageHeadingIndicator8=m;this.$SphericalImageHeadingIndicator4=null;this.$SphericalImageHeadingIndicator10=j.getOrientation();this.$SphericalImageHeadingIndicator11();c('destroyOnUnload')(function(){return this.$SphericalImageHeadingIndicator12();}.bind(this));}i.prototype.$SphericalImageHeadingIndicator12=function(){'use strict';if(this.$SphericalImageHeadingIndicator9){this.$SphericalImageHeadingIndicator9.remove();this.$SphericalImageHeadingIndicator9=null;}c('ReactDOM').unmountComponentAtNode(this.$SphericalImageHeadingIndicator3);};i.prototype.setFullscreen=function(j){'use strict';if(this.$SphericalImageHeadingIndicator8!=j)this.$SphericalImageHeadingIndicator13();this.$SphericalImageHeadingIndicator8=j;};i.prototype.$SphericalImageHeadingIndicator11=function(){'use strict';this.$SphericalImageHeadingIndicator2=new (c('SphericalRecenterControl'))(this.$SphericalImageHeadingIndicator1,this.$SphericalImageHeadingIndicator10,false);this.$SphericalImageHeadingIndicator13();this.$SphericalImageHeadingIndicator9=c('Event').listen(this.$SphericalImageHeadingIndicator3,'click',function(j){return this.$SphericalImageHeadingIndicator14(j);}.bind(this));};i.prototype.$SphericalImageHeadingIndicator14=function(j){'use strict';c('Event').kill(j);this.$SphericalImageHeadingIndicator2.recenter();var k=this.$SphericalImageHeadingIndicator1.getOrientation(),l=this.$SphericalImageHeadingIndicator1.getDimensions(),m=new (c('SphericalPhotoInteractionTypedLogger'))();m.setVerticalFovDegrees(this.$SphericalImageHeadingIndicator1.getVerticalFieldOfView()).setYawDegrees(k.x).setPitchDegrees(k.y).setRollDegrees(0).setWidthPixels(l.x).setHeightPixels(l.y).setEventType('heading_indicator_clicked').setPhotoFbid(this.$SphericalImageHeadingIndicator1.getFBID()).log();};i.prototype.$SphericalImageHeadingIndicator13=function(){'use strict';c('cancelAnimationFrame')(this.$SphericalImageHeadingIndicator4);this.$SphericalImageHeadingIndicator4=c('requestAnimationFrame')(function(){return this.$SphericalImageHeadingIndicator15();}.bind(this));};i.prototype.$SphericalImageHeadingIndicator15=function(){'use strict';c('ReactDOM').render(c('React').createElement('div',{className:"_q52"+(this.$SphericalImageHeadingIndicator7?' '+"_42a0":'')},c('React').createElement(c('DeferredComponent.react'),{deferredPlaceholder:c('React').createElement('span',null),deferredComponent:function(j){return (e(['SphericalHeadingIndicator.react'],j));},heading:this.$SphericalImageHeadingIndicator10.x,horizontalFieldOfView:this.$SphericalImageHeadingIndicator1.getHorizontalFieldOfView(),imageViewer:this.$SphericalImageHeadingIndicator1,recenterControl:this.$SphericalImageHeadingIndicator2,fullscreen:this.$SphericalImageHeadingIndicator8})),this.$SphericalImageHeadingIndicator3);};f.exports=i;},null);
__d('PhotoSnowliftViewable',['cx','CSS','DOM','EncryptedImg','Event','EventEmitter','FullScreen','getViewportDimensions','ImageUtils','SphericalPhotoConfig','SphericalImageViewer','SphericalImageHeadingIndicator','SphericalPhotoInteractionTypedLogger','Vector','VideoProjection'],function a(b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p;if(c.__markCompiled)c.__markCompiled();var q=2000,r=60;function s(aa,ba){if(aa.src&&aa.complete){setTimeout(ba,0);}else (function(){var ca=c('Event').listen(aa,'load',function(){ca.remove();ba();});})();}function t(aa,ba){if(c('EncryptedImg').isEncrypted(ba)){c('EncryptedImg').insertIntoDOM(ba,aa);}else aa.src=ba;}i=babelHelpers.inherits(u,c('EventEmitter'));j=i&&i.prototype;function u(){var aa=arguments.length<=0||arguments[0]===undefined?q:arguments[0],ba=arguments.length<=1||arguments[1]===undefined?1:arguments[1];'use strict';j.constructor.call(this);this.$PhotoSnowliftViewable5=c('DOM').create('div',{className:"_2-sx"});this.$PhotoSnowliftViewable4=aa;this.$PhotoSnowliftViewable3=ba;this.$PhotoSnowliftViewable1=null;this.$PhotoSnowliftViewable2=0;this.$PhotoSnowliftViewable6();setTimeout(function(){return this.whenReady(function(){return this.$PhotoSnowliftViewable7();}.bind(this));}.bind(this),0);}u.prototype.$PhotoSnowliftViewable6=function(){'use strict';this.$PhotoSnowliftViewable1=setTimeout(function(){return this.$PhotoSnowliftViewable8();}.bind(this),this.$PhotoSnowliftViewable4);};u.prototype.$PhotoSnowliftViewable8=function(){'use strict';if(this.isReady())return;if(this.$PhotoSnowliftViewable2<this.$PhotoSnowliftViewable3){this.reload();this.$PhotoSnowliftViewable2++;this.$PhotoSnowliftViewable6();}else this.emit('loadingfailed');};u.prototype.reload=function(){'use strict';};u.prototype.$PhotoSnowliftViewable7=function(){'use strict';if(this.$PhotoSnowliftViewable1!==null){clearTimeout(this.$PhotoSnowliftViewable1);this.$PhotoSnowliftViewable1=null;}};u.prototype.getElement=function(){'use strict';return this.$PhotoSnowliftViewable5;};u.prototype.show=function(){'use strict';c('CSS').show(this.getElement());};u.prototype.hide=function(){'use strict';c('CSS').hide(this.getElement());};u.prototype.suspend=function(){'use strict';};u.prototype.resume=function(){'use strict';};u.prototype.onToggleIntoFullScreen=function(){'use strict';};u.prototype.onToggleOutOfFullScreen=function(){'use strict';};u.prototype.onEnterFullScreen=function(){'use strict';};u.prototype.onExitFullScreen=function(){'use strict';};u.prototype.getNaturalDimensions=function(){'use strict';return this.getDimensions();};u.prototype.getDimensions=function(){'use strict';return c('Vector').getElementDimensions(this.getElement());};u.prototype.setDimensions=function(aa){'use strict';var ba=this.getElement();ba.style.width=aa.x+'px';ba.style.height=aa.y+'px';};u.prototype.isReady=function(){'use strict';throw new Error('Viewable has no concept of readiness - should be calling a subclass');};u.prototype.whenReady=function(aa){'use strict';if(this.isReady()){setTimeout(aa,0);}else this.once('ready',aa);};k=babelHelpers.inherits(v,u);l=k&&k.prototype;function v(aa,ba){var ca=arguments.length<=2||arguments[2]===undefined?false:arguments[2],da=arguments[3];'use strict';l.constructor.call(this);this.$PhotoSnowliftViewablePhoto1=da;this.$PhotoSnowliftViewablePhoto6=aa;this.$PhotoSnowliftViewablePhoto5=ba;this.$PhotoSnowliftViewablePhoto2=ca;this.addListener('imageloaded',function(ea){return this.$PhotoSnowliftViewablePhoto7(ea);}.bind(this));this.$PhotoSnowliftViewablePhoto8();}v.prototype.$PhotoSnowliftViewablePhoto8=function(){'use strict';if(this.$PhotoSnowliftViewablePhoto3&&this.$PhotoSnowliftViewablePhoto3.parentElement)this.$PhotoSnowliftViewablePhoto3.parentElement.removeChild(this.$PhotoSnowliftViewablePhoto3);var aa=c('DOM').create('img',{className:'spotlight',alt:''});this.$PhotoSnowliftViewablePhoto3=aa;this.$PhotoSnowliftViewablePhoto3.setAttribute('aria-describedby','fbPhotosSnowliftCaption');this.$PhotoSnowliftViewablePhoto3.setAttribute('aria-busy','true');this.getElement().appendChild(this.$PhotoSnowliftViewablePhoto3);this.$PhotoSnowliftViewablePhoto9(this.$PhotoSnowliftViewablePhoto10());s(this.$PhotoSnowliftViewablePhoto3,function(){return this.emit('imageloaded',aa);}.bind(this));this.whenReady(function(){return this.$PhotoSnowliftViewablePhoto11();}.bind(this));};v.prototype.$PhotoSnowliftViewablePhoto9=function(aa){'use strict';this.$PhotoSnowliftViewablePhoto4=aa;t(this.$PhotoSnowliftViewablePhoto3,this.$PhotoSnowliftViewablePhoto4);};v.prototype.$PhotoSnowliftViewablePhoto7=function(aa){'use strict';if(this.$PhotoSnowliftViewablePhoto3!==aa)return;this.emit('ready');};v.prototype.reload=function(){'use strict';this.$PhotoSnowliftViewablePhoto8();};v.prototype.$PhotoSnowliftViewablePhoto10=function(){'use strict';if(this.$PhotoSnowliftViewablePhoto2)return this.$PhotoSnowliftViewablePhoto6;return this.$PhotoSnowliftViewablePhoto5||this.$PhotoSnowliftViewablePhoto6;};v.prototype.$PhotoSnowliftViewablePhoto11=function(){'use strict';this.$PhotoSnowliftViewablePhoto3.setAttribute('aria-busy','false');};v.prototype.isReady=function(){'use strict';return this.$PhotoSnowliftViewablePhoto3.src&&c('ImageUtils').hasLoaded(this.$PhotoSnowliftViewablePhoto3);};v.prototype.getNaturalDimensions=function(){'use strict';if(this.$PhotoSnowliftViewablePhoto1)return this.$PhotoSnowliftViewablePhoto1;if(this.$PhotoSnowliftViewablePhoto3&&this.$PhotoSnowliftViewablePhoto3.naturalWidth&&this.$PhotoSnowliftViewablePhoto3.naturalHeight)return c('Vector').from(this.$PhotoSnowliftViewablePhoto3.naturalWidth,this.$PhotoSnowliftViewablePhoto3.naturalHeight);return l.getNaturalDimensions.call(this);};v.prototype.$PhotoSnowliftViewablePhoto12=function(){'use strict';return this.$PhotoSnowliftViewablePhoto4===this.$PhotoSnowliftViewablePhoto6;};v.prototype.onToggleIntoFullScreen=function(){'use strict';if(!this.$PhotoSnowliftViewablePhoto12())if(this.$PhotoSnowliftViewablePhoto4!==this.$PhotoSnowliftViewablePhoto6)t(new Image(),this.$PhotoSnowliftViewablePhoto6);};v.prototype.onEnterFullScreen=function(){'use strict';if(!this.$PhotoSnowliftViewablePhoto12())this.$PhotoSnowliftViewablePhoto9(this.$PhotoSnowliftViewablePhoto6);};m=babelHelpers.inherits(w,u);n=m&&m.prototype;function w(aa,ba,ca,da){var ea=arguments.length<=4||arguments[4]===undefined?false:arguments[4],fa=arguments[5],ga=arguments[6],ha=arguments[7];'use strict';n.constructor.call(this,q*16);this.$PhotoSnowliftViewableSphericalPhoto3=fa;this.$PhotoSnowliftViewableSphericalPhoto11=aa;this.$PhotoSnowliftViewableSphericalPhoto10=ba;this.$PhotoSnowliftViewableSphericalPhoto7=ea;this.$PhotoSnowliftViewableSphericalPhoto2=ca;this.$PhotoSnowliftViewableSphericalPhoto9=da;this.$PhotoSnowliftViewableSphericalPhoto4=false;this.$PhotoSnowliftViewableSphericalPhoto13=ga;this.$PhotoSnowliftViewableSphericalPhoto14=ha;this.addListener('cubestriploaded',function(ia){return this.$PhotoSnowliftViewableSphericalPhoto15(ia);}.bind(this));this.addListener('initialviewloaded',function(ia){return this.$PhotoSnowliftViewableSphericalPhoto16(ia);}.bind(this));this.addListener('ready',function(){return this.$PhotoSnowliftViewableSphericalPhoto17();}.bind(this));this.$PhotoSnowliftViewableSphericalPhoto18();}w.prototype.$PhotoSnowliftViewableSphericalPhoto18=function(){'use strict';var aa=this.getElement();this.$PhotoSnowliftViewableSphericalPhoto1=c('DOM').create('img',{className:'hidden_elem'});this.$PhotoSnowliftViewableSphericalPhoto1.crossOrigin='anonymous';t(this.$PhotoSnowliftViewableSphericalPhoto1,this.$PhotoSnowliftViewableSphericalPhoto2);aa.appendChild(this.$PhotoSnowliftViewableSphericalPhoto1);this.$PhotoSnowliftViewableSphericalPhoto8=c('DOM').create('img',{});t(this.$PhotoSnowliftViewableSphericalPhoto8,this.$PhotoSnowliftViewableSphericalPhoto19());aa.appendChild(this.$PhotoSnowliftViewableSphericalPhoto8);var ba=this.$PhotoSnowliftViewableSphericalPhoto8;s(this.$PhotoSnowliftViewableSphericalPhoto8,function(){return this.emit('initialviewloaded',ba);}.bind(this));this.$PhotoSnowliftViewableSphericalPhoto5=c('DOM').create('div',{className:"_3lfe"});aa.appendChild(this.$PhotoSnowliftViewableSphericalPhoto5);};w.prototype.$PhotoSnowliftViewableSphericalPhoto16=function(aa){'use strict';if(this.$PhotoSnowliftViewableSphericalPhoto8!==aa)return;var ba=this.$PhotoSnowliftViewableSphericalPhoto1;s(this.$PhotoSnowliftViewableSphericalPhoto1,function(){return this.emit('cubestriploaded',ba);}.bind(this));};w.prototype.$PhotoSnowliftViewableSphericalPhoto15=function(aa){'use strict';if(this.$PhotoSnowliftViewableSphericalPhoto1!==aa)return;this.emit('ready');};w.prototype.suspend=function(){'use strict';if(this.$PhotoSnowliftViewableSphericalPhoto12)this.$PhotoSnowliftViewableSphericalPhoto12.suspend();};w.prototype.resume=function(){'use strict';if(this.$PhotoSnowliftViewableSphericalPhoto12)this.$PhotoSnowliftViewableSphericalPhoto12.resume();};w.prototype.reload=function(){'use strict';this.$PhotoSnowliftViewableSphericalPhoto18();};w.prototype.$PhotoSnowliftViewableSphericalPhoto20=function(aa){'use strict';var ba={projectionType:c('VideoProjection').UNPADDED_CUBESTRIP,fieldOfView:this.$PhotoSnowliftViewableSphericalPhoto9,initialHeading:0,initialPitch:0};if(!aa&&this.$PhotoSnowliftViewableSphericalPhoto13)ba.partialLimits=this.$PhotoSnowliftViewableSphericalPhoto13;return ba;};w.prototype.$PhotoSnowliftViewableSphericalPhoto17=function(){'use strict';var aa=this.$PhotoSnowliftViewableSphericalPhoto20(this.$PhotoSnowliftViewableSphericalPhoto4),ba=this.getNaturalDimensions();this.$PhotoSnowliftViewableSphericalPhoto12=new (c('SphericalImageViewer'))(this.getElement(),this.$PhotoSnowliftViewableSphericalPhoto1,this.$PhotoSnowliftViewableSphericalPhoto8,null,aa,ba.x,ba.y,this.$PhotoSnowliftViewableSphericalPhoto14);this.$PhotoSnowliftViewableSphericalPhoto6=new (c('SphericalImageHeadingIndicator'))(this.$PhotoSnowliftViewableSphericalPhoto12,this.$PhotoSnowliftViewableSphericalPhoto5,false,c('FullScreen').isFullScreen());};w.prototype.$PhotoSnowliftViewableSphericalPhoto19=function(){'use strict';if(this.$PhotoSnowliftViewableSphericalPhoto7)return this.$PhotoSnowliftViewableSphericalPhoto11;return this.$PhotoSnowliftViewableSphericalPhoto10||this.$PhotoSnowliftViewableSphericalPhoto11;};w.prototype.getNaturalDimensions=function(){'use strict';if(this.$PhotoSnowliftViewableSphericalPhoto4){var aa=c('getViewportDimensions')();return c('Vector').from(aa.width,aa.height);}if(this.$PhotoSnowliftViewableSphericalPhoto3)return this.$PhotoSnowliftViewableSphericalPhoto3;if(this.$PhotoSnowliftViewableSphericalPhoto8&&this.$PhotoSnowliftViewableSphericalPhoto8.naturalWidth&&this.$PhotoSnowliftViewableSphericalPhoto8.naturalHeight)return c('Vector').from(this.$PhotoSnowliftViewableSphericalPhoto8.naturalWidth,this.$PhotoSnowliftViewableSphericalPhoto8.naturalHeight);return n.getNaturalDimensions.call(this);};w.prototype.isReady=function(){'use strict';return (this.$PhotoSnowliftViewableSphericalPhoto8.src&&c('ImageUtils').hasLoaded(this.$PhotoSnowliftViewableSphericalPhoto8)||this.$PhotoSnowliftViewableSphericalPhoto1.src&&c('ImageUtils').hasLoaded(this.$PhotoSnowliftViewableSphericalPhoto1));};w.prototype.onToggleIntoFullScreen=function(){'use strict';};w.prototype.onEnterFullScreen=function(){'use strict';var aa=this.$PhotoSnowliftViewableSphericalPhoto12;this.$PhotoSnowliftViewableSphericalPhoto4=true;var ba=c('getViewportDimensions')(),ca=c('Vector').from(ba.width,ba.height);this.setDimensions(ca);if(aa){var da=this.$PhotoSnowliftViewableSphericalPhoto20(this.$PhotoSnowliftViewableSphericalPhoto4);aa.reconfigure(da);aa.setDimensions(ca);}if(this.$PhotoSnowliftViewableSphericalPhoto6)this.$PhotoSnowliftViewableSphericalPhoto6.setFullscreen(true);if(aa){var ea=aa.getOrientation(),fa=aa.getDimensions(),ga=new (c('SphericalPhotoInteractionTypedLogger'))();ga.setVerticalFovDegrees(aa.getVerticalFieldOfView()).setYawDegrees(ea.x).setPitchDegrees(ea.y).setRollDegrees(0).setWidthPixels(fa.x).setHeightPixels(fa.y).setEventType('heading_indicator_clicked').setPhotoFbid(aa.getFBID()).log();}};w.prototype.onExitFullScreen=function(){'use strict';var aa=this.$PhotoSnowliftViewableSphericalPhoto12;this.$PhotoSnowliftViewableSphericalPhoto4=false;var ba=this.getNaturalDimensions();this.setDimensions(ba);if(aa){var ca=this.$PhotoSnowliftViewableSphericalPhoto20(this.$PhotoSnowliftViewableSphericalPhoto4);aa.reconfigure(ca);aa.setDimensions(ba);}if(this.$PhotoSnowliftViewableSphericalPhoto6)this.$PhotoSnowliftViewableSphericalPhoto6.setFullscreen(false);};o=babelHelpers.inherits(x,u);p=o&&o.prototype;function x(aa){'use strict';p.constructor.call(this);this.$PhotoSnowliftViewableImageWrapper1=aa;this.getElement().appendChild(aa);if(this.$PhotoSnowliftViewableImageWrapper1.complete){this.$PhotoSnowliftViewableImageWrapper2();}else c('Event').listen(this.$PhotoSnowliftViewableImageWrapper1,'load',function(){return this.$PhotoSnowliftViewableImageWrapper2();}.bind(this));}x.prototype.$PhotoSnowliftViewableImageWrapper2=function(){'use strict';(function(){return this.emit('ready');}).bind(this);};x.prototype.isReady=function(){'use strict';return c('ImageUtils').hasLoaded(this.$PhotoSnowliftViewableImageWrapper1);};x.prototype.getNaturalDimensions=function(){'use strict';if(this.$PhotoSnowliftViewableImageWrapper1&&this.$PhotoSnowliftViewableImageWrapper1.naturalWidth&&this.$PhotoSnowliftViewableImageWrapper1.naturalHeight)return c('Vector').from(this.$PhotoSnowliftViewableImageWrapper1.naturalWidth,this.$PhotoSnowliftViewableImageWrapper1.naturalHeight);return p.getNaturalDimensions.call(this);};function y(aa){var ba=arguments.length<=1||arguments[1]===undefined?false:arguments[1];if(c('SphericalPhotoConfig').spherical_photo_render_www&&aa.spherical){return new w(aa.url,aa.smallurl,aa.spherical.cubestripuri,aa.spherical.initialviewverticalfov||r,ba,aa.dimensions,aa.spherical.partialLimits,String(aa.info.fbid));}else return new v(aa.url,aa.smallurl,ba,aa.dimensions);}function z(aa){var ba=aa.parentElement,ca=new x(aa);if(ba)ba.appendChild(ca.getElement());return ca;}f.exports.Viewable=u;f.exports.Photo=v;f.exports.SphericalPhoto=w;f.exports.fromStreamData=y;f.exports.fromImageElement=z;},null);