if (self.CavalryLogger) { CavalryLogger.start_js(["dss1\/"]); }

__d("ComposerPerfEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={CLIENT_BOOTSTRAPPED:"client_bootstrapped",CLIENT_BOOTLOADED:"client_bootloaded",CLIENT_POST_SUCCEEDED:"client_post_succeeded",CLIENT_POST_FAILED:"client_post_failed"};},null);
__d("EntProfileOverlayApprovalStatus",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PENDING:0,APPROVED:1,DENIED:2};},null);
__d("FacerecWaterfallEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={RECOGNITION_RECEIVED_BY_CLIENT:"recognition_received_by_client",CLIENT_RECOGNITION_POLLER_TIMEOUT:"client_recognition_poller_timeout",CLIENT_RECOGNITION_POLLER_GIVE_UP:"client_recognition_poller_give_up",SERVER_PHOTO_PUBLISHED:"server_photo_published",SERVER_PHOTO_TAG_ADDED:"sever_photo_tag_added",SERVER_RECOGNITION_OF_PHOTO_POLLED:"server_recognition_of_photo_polled",SERVER_RECOGNITION_OF_FACE_BOX_RETURNED:"server_recognition_of_face_box_returned",CLIENT_PHOTO_PUBLISHED:"client_photo_published"};},null);
__d("PagesComposerCarouselPostChildAttachmentAttributes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PICTURE:"picture",NAME:"name",DESCRIPTION:"description",LINK:"link",SELECTED:"selected",SCRAPED:"scraped",IMAGE_FBID:"image_fbid",IMAGE_SOURCE:"image_source",ORIGINAL_DIMENSION_HEIGHT:"original_dimensions_height",ORIGINAL_DIMENSION_WIDTH:"original_dimensions_width",CROPPING_START_POINT_X:"cropping_startPoint_x",CROPPING_START_POINT_Y:"cropping_startPoint_y",CROPPING_SOURCE_DIMENSION_HEIGHT:"cropping_source_dimension_height",CROPPING_SOURCE_DIMENSION_WIDTH:"cropping_source_dimension_width",VIDEO_ID:"video_id",CTA_TYPE:"cta_type"};},null);
__d("PagesComposerCarouselPostLogAttributes",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={USE_CAROUSEL_COMPOSER:"use_carousel_composer",CAROUSEL_INCOMPATIBLE:"carousel_incompatible",CAROUSEL_INCOMPATIBLE_TYPE:"carousel_incompatible_type",SCRAPED_IMAGE_NUM_OLD:"scraped_image_num_old",SCRAPED_URL:"scraped_url",SCRAPED_TIME:"scraped_time",COMPOSER_LOCATION:"composer_location",HIDE_END_CARD:"hide_end_card",SOURCE_ATTACHMENT:"source_attachment",PREFILL_SCRAPE_URL:"prefill_scrape_url"};},null);
__d("PagesComposerPostActionsLoggerEvent",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={PUBLISH:"publish",SCRAPED:"scraped",UPLOAD:"upload",IMAGE_SELECT:"image_select",IMAGE_UNSELECT_ON_UPLOAD_BAR:"image_unselect_on_upload_bar",IMAGE_UNSELECT_ON_CAROUSEL_CARD:"image_unselect_on_carousel_card",IMAGE_UNSELECT_ON_LPP_CARD:"image_unselect_on_carousel_card",IMAGE_CHANGE_LEFT_RIGHT:"image_change_left_right",IMAGE_DRAG:"image_drag",LPP_DESCRIPTION_EDIT:"lpp_description_edit",CAROUSEL_DESCRIPTION_EDIT:"carousel_description_edit",LPP_TITLE_EDIT:"lpp_title_edit",CAROUSEL_TITLE_EDIT:"carousel_title_edit",CHILD_IMAGES_NUM_INCONSISTENT:"child_images_num_inconsistent",CHILD_IMAGES_LINK_INCONSISTENT:"child_images_link_inconsistent",ATTACHMENT_STYLE_INVALID:"attachment_style_invalid",EDIT_URL:"edit_url",CLICK_UPLOAD_PHOTO_IN_PHOTO_TAB:"click_upload_photo_in_photo_tab",CLICK_UPLOAD_BUTTON_IN_TOOLBAR:"click_upload_button_in_toolbar",DRAG_PHOTO_TO_COMPOSER:"drag_photo_to_composer",CLICK_PHOTO_CAROUSEL_CREATE_TAB:"click_photo_carousel_create_tab",CLICK_CAROUSEL_CAMERA_ICON:"click_carousel_camera_icon",CLICK_SLIDESHOW_CREATE_TAB:"click_slideshow_create_tab",CLICK_CANVAS_CREATE_TAB:"click_canvas_create_tab",SHOW_PHOTO_CAROUSEL_CREATE_TAB:"show_photo_carousel_create_tab",REMOVE_PHOTO_CAROUSEL_URL_INPUT:"remove_photo_carousel_url_input",CLICK_UPLOAD_PHOTO_OPTION:"click_upload_photo_option",CLICK_PHOTO_ALBUM_OPTION:"click_photo_album_option",PREFILL_SCRAPE_URL:"prefill_scrape_url",EDIT_URL_APPLY_ALL:"edit_url_apply_all",UNKNOWN:"unknown"};},null);
__d("PhotoEditorTargetType",[],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={COMPOSER:"composer",COMMENT:"comment",PAGE_PRODUCT_COMPOSER:"page_product_composer",PROFILE_PIC:"profile_pic"};},null);
__d('HashtagSpan.react',['cx','React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'HashtagSpan',render:function(){return (c('React').createElement('span',babelHelpers['extends']({},this.props,{'data-offset-key':this.props.offsetKey,className:"_5u8n",spellCheck:false}),this.props.children));}});f.exports=i;},null);
__d('MentionSpan.react',['cx','React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'MentionSpan',render:function(){return (c('React').createElement('span',babelHelpers['extends']({},this.props,{'data-offset-key':this.props.offsetKey,className:"_5u8u",spellCheck:false}),this.props.children));}});f.exports=i;},null);
__d('WeakMentionSpan.react',['cx','React'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i=c('React').createClass({displayName:'WeakMentionSpan',render:function(){return (c('React').createElement('span',{'data-offset-key':this.props.offsetKey,className:"_whq",spellCheck:false},this.props.children));}});f.exports=i;},null);
__d('getHashtagMatches',['getHashtagRegex'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('getHashtagRegex')();function i(j,k){var l=j.getText(),m,n,o,p;while((m=h.exec(l))!==null){n=m.index+m[1].length;o=m[2];p=m[3];k(n,n+o.length+p.length);}}f.exports=i;},null);
__d('getMentionsInputDecorator',['CompositeDraftDecorator','EmoticonSpan.react','HashtagSpan.react','MentionSpan.react','WeakMentionSpan.react','getEntityMatcher','getHashtagMatches'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h;function i(){if(!h)h=new (c('CompositeDraftDecorator'))([{strategy:c('getEntityMatcher')(function(j){var k=j.getData();return j.getType()==='MENTION'&&k&&k.isWeak;}),component:c('WeakMentionSpan.react')},{strategy:c('getEntityMatcher')(function(j){return j.getType()==='MENTION';}),component:c('MentionSpan.react')},{strategy:c('getEntityMatcher')(function(j){return j.getType()==='EMOTICON';}),component:c('EmoticonSpan.react')},{strategy:c('getHashtagMatches'),component:c('HashtagSpan.react')}]);return h;}f.exports=i;},null);
__d('XUIButtonGroup.react',['cx','invariant','React','joinClasses'],function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes,k=c('React').createClass({displayName:'XUIButtonGroup',propTypes:{isOverlay:j.bool},render:function(){this.validateButtonSize();var l="_51xa"+(this.props.isOverlay?' '+"_51xb":'');return (c('React').createElement('div',babelHelpers['extends']({},this.props,{className:c('joinClasses')(this.props.className,l)}),this.props.children));},validateButtonSize:function(){if(!this.props.isOverlay){var l;c('React').Children.forEach(this.props.children,function(m){if(m){var n=m.type.getButtonSize(m.props);if(!l){l=n;}else !(n===l)?i(0):void 0;}});}}});f.exports=k;},null);
__d('XUIRadioButtonGroup.react',['React','XUIButtonGroup.react'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes,i=c('React').createClass({displayName:'XUIRadioButtonGroup',propTypes:{onValueChange:h.func,selectedValue:h.any,selectedUse:h.oneOf(['default','special','confirm']),selectedDepressed:h.bool},render:function(){var j=c('React').Children.map(this.props.children,function(k){var l=this.props.selectedValue===k.props.value;return c('React').cloneElement(k,{onClick:this._getClickHandler(k.props.value,k.props.onClick),use:l&&'selectedUse' in this.props?this.props.selectedUse:k.props.use,depressed:l&&'selectedDepressed' in this.props?this.props.selectedDepressed:k.props.depressed});},this);return c('React').createElement(c('XUIButtonGroup.react'),this.props,j);},_getClickHandler:function(j,k){var l=this.props;return function(){if(l.onValueChange)l.onValueChange(j);if(k)k.apply(this,arguments);};}});f.exports=i;},null);
__d('PagesComposerActionsLogger',['Banzai'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h='pages_composer_actions',i='actions';function j(l){return {log:function(m,n){n=n?n:i;c('Banzai').post(h+':'+n,m,l);},create:null};}var k=j();k.create=j;f.exports=k;},null);
__d('ProfilePictureOverlayAdminStrings',['fbt','EntProfileOverlayApprovalStatus'],function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();var i={status:function(){return h._("Status");},category:function(){return h._("Category");},created:function(){return h._("Created");},frame:function(){return h._("Frame");},image:function(){return h._("Image");},text:function(){return h._("Text");},activations:function(){return h._("Activations");},impressions:function(){return h._("Impressions");},promotionDuration:function(){return h._("Promotion Duration");},promotionDurationDescription:function(){return h._("How long do you want this frame available for people to apply to their profile picture?");},frameComposerPrompt:function(){return h._("Say something about this frame...");},pendingOrDenied:function(){return h._("Pending or Denied");},active:function(){return h._("Active");},inactive:function(){return h._("Inactive");},makeActive:function(){return h._("Make Active");},makeInactive:function(){return h._("Make Inactive");},approval:function(){return h._("Approval");},approved:function(){return h._("Approved");},denied:function(){return h._("Denied");},pending:function(){return h._("Pending");},chooseFromYourApprovedFrames:function(){return h._("Choose from your approved frames");},dataUnavailable:function(){return h._("Unavailable");},deleteSelectedFrames:function(j){return h._({"Frame":"Delete Selected Frame","Frames":"Delete Selected Frames"},[h['enum'](j===1?'Frame':'Frames',{Frame:'Frame',Frames:'Frames'})]);},noFrames:function(j,k){var l=void 0;switch(j){case c('EntProfileOverlayApprovalStatus').APPROVED:l='approved';break;case c('EntProfileOverlayApprovalStatus').DENIED:l='denied';break;case c('EntProfileOverlayApprovalStatus').PENDING:l='pending';break;}return h._({"approved":"You don't have any approved Profile Picture Frames. {link}","denied":"You don't have any denied Profile Picture Frames. {link}","pending":"You don't have any pending Profile Picture Frames. {link}"},[h['enum'](l,{approved:'approved',denied:'denied',pending:'pending'}),h.param('link',k)]);},approvalStatus:function(j){switch(j){case c('EntProfileOverlayApprovalStatus').APPROVED:return i.approved();case c('EntProfileOverlayApprovalStatus').DENIED:return i.denied();case c('EntProfileOverlayApprovalStatus').PENDING:default:return i.pending();}},frameLoadFail:function(j){return h._("Something went wrong and we couldn't load your Profile Picture Frames. Please try again later. {error}",[h.param('error',j.message)]);},publishFramePostDescription:function(j){return h._("Posting a frame will make it active for people to use on their profile photo. Manage frames in {link}.",[h.param('link',j)]);},useExistingPhoto:function(){return h._("Use Existing");},uploadPhoto:function(){return h._("Upload Photo");},manageFrames:function(){return h._("Manage Frames");},processingImage:function(){return h._("Processing Image");},postingFrame:function(){return h._("Posting Frame");}};f.exports=i;},null);
__d('ProfilePictureOverlay',['invariant','immutable'],function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('immutable').Map,l=c('immutable').Record,m=l({id:'',name:'',src:new k()});i=babelHelpers.inherits(n,m);j=i&&i.prototype;n.fromObject=function(o){return new n(babelHelpers['extends']({},o,{src:new k(o.src)}));};n.prototype.getSrc=function(o){var p=this.src.get(o.toString());!p?h(0):void 0;return p;};function n(){i.apply(this,arguments);}f.exports=n;},null);
__d('SlideshowImageUtil',['invariant','SlideshowConstants'],function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={shouldCropImages:function(j){var k=j[0].width,l=j[0].height;for(var m=j,n=Array.isArray(m),o=0,m=n?m:m[typeof Symbol==='function'?Symbol.iterator:'@@iterator']();;){var p;if(n){if(o>=m.length)break;p=m[o++];}else{o=m.next();if(o.done)break;p=o.value;}var q=p;if(q.width!==k||q.height!==l)return true;}return false;},calculateDefaultCoordinates:function(j,k){var l=void 0,m=void 0;if(j.width/k>j.height){l=j.height;m=j.height*k;}else{m=j.width;l=j.width/k;}var n=(j.width-m)/2,o=(j.height-l)/2,p=Math.floor(n)-n,q=Math.floor(o)-o;return [[n+p,o+q],[Math.round(n+m+p),Math.round(o+l+q)]];},getFullSizeImageBoxCroppingSpec:function(j,k){var l=k.width/k.height,m=this.calculateDefaultCoordinates(j,l);!(m.length===2)?h(0):void 0;return {format:c('SlideshowConstants').formats.Original,topLeft:m[0],bottomRight:m[1]};},getDefaultCroppingSpec:function(j){var k=this.calculateDefaultCoordinates(j,1);!(k.length===2)?h(0):void 0;return {format:c('SlideshowConstants').formats.Square,topLeft:k[0],bottomRight:k[1]};}};f.exports=i;},null);
__d("TopicFeedsConstant",[],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={DEFAULT_PHOTO_AUTO_TAGGING_DELAY:3000,DEFAULT_PHOTO_POLLING_DURATION:10000,DEFAULT_PHOTO_POLLING_INTERVAL:1000,DEFAULT_TEXT_AUTO_TAGGING_DELAY:3000,DEFAULT_COMPOSER_TOPIC_LIMIT:3,TOPIC_CONFIDENCE_USER_ADD:3,TOPIC_CONFIDENCE_USER_REMOVE:-1,TOPIC_CONFIDENCE_BOOTSTRAP:2};f.exports=h;},null);
__d('PhotoUploadFacerecWaterfallTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:PhotoUploadFacerecWaterfallLoggerConfig',this.$PhotoUploadFacerecWaterfallTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:PhotoUploadFacerecWaterfallLoggerConfig',this.$PhotoUploadFacerecWaterfallTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$PhotoUploadFacerecWaterfallTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1=babelHelpers['extends']({},this.$PhotoUploadFacerecWaterfallTypedLogger1,j);return this;};h.prototype.setEvent=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.event=j;return this;};h.prototype.setFaceBoxID=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.face_box_id=j;return this;};h.prototype.setPhotoFbid=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.photo_fbid=j;return this;};h.prototype.setRecognizedUser=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.recognized_user=j;return this;};h.prototype.setTaggedUser=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.tagged_user=j;return this;};h.prototype.setVC=function(j){this.$PhotoUploadFacerecWaterfallTypedLogger1.vc=j;return this;};var i={event:true,face_box_id:true,photo_fbid:true,recognized_user:true,tagged_user:true,vc:true};f.exports=h;},null);
__d('TopicFeedsComposerTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:TopicFeedsComposerLoggerConfig',this.$TopicFeedsComposerTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:TopicFeedsComposerLoggerConfig',this.$TopicFeedsComposerTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$TopicFeedsComposerTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$TopicFeedsComposerTypedLogger1=babelHelpers['extends']({},this.$TopicFeedsComposerTypedLogger1,j);return this;};h.prototype.setClassifySessionID=function(j){this.$TopicFeedsComposerTypedLogger1.classify_session_id=j;return this;};h.prototype.setClientEventTimeMs=function(j){this.$TopicFeedsComposerTypedLogger1.client_event_time_ms=j;return this;};h.prototype.setComposerID=function(j){this.$TopicFeedsComposerTypedLogger1.composer_id=j;return this;};h.prototype.setEntryPointRef=function(j){this.$TopicFeedsComposerTypedLogger1.entry_point_ref=j;return this;};h.prototype.setEvent=function(j){this.$TopicFeedsComposerTypedLogger1.event=j;return this;};h.prototype.setIsPredictionApplied=function(j){this.$TopicFeedsComposerTypedLogger1.is_prediction_applied=j;return this;};h.prototype.setLinkAttachmentCount=function(j){this.$TopicFeedsComposerTypedLogger1.link_attachment_count=j;return this;};h.prototype.setPhotoAttachmentCount=function(j){this.$TopicFeedsComposerTypedLogger1.photo_attachment_count=j;return this;};h.prototype.setPhotoUploadToPostDuration=function(j){this.$TopicFeedsComposerTypedLogger1.photo_upload_to_post_duration=j;return this;};h.prototype.setPredictionCount=function(j){this.$TopicFeedsComposerTypedLogger1.prediction_count=j;return this;};h.prototype.setPredictionDuration=function(j){this.$TopicFeedsComposerTypedLogger1.prediction_duration=j;return this;};h.prototype.setPredictionErrorReason=function(j){this.$TopicFeedsComposerTypedLogger1.prediction_error_reason=j;return this;};h.prototype.setPredictionIsSuccessful=function(j){this.$TopicFeedsComposerTypedLogger1.prediction_is_successful=j;return this;};h.prototype.setSequenceNumber=function(j){this.$TopicFeedsComposerTypedLogger1.sequence_number=j;return this;};h.prototype.setTargetType=function(j){this.$TopicFeedsComposerTypedLogger1.target_type=j;return this;};h.prototype.setTopicAdded=function(j){this.$TopicFeedsComposerTypedLogger1.topic_added=j;return this;};h.prototype.setTopicRemoved=function(j){this.$TopicFeedsComposerTypedLogger1.topic_removed=j;return this;};h.prototype.setTopicsAutoTagged=function(j){this.$TopicFeedsComposerTypedLogger1.topics_auto_tagged=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setTopicsTagged=function(j){this.$TopicFeedsComposerTypedLogger1.topics_tagged=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setTopicsUserAdded=function(j){this.$TopicFeedsComposerTypedLogger1.topics_user_added=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setTopicsUserRemoved=function(j){this.$TopicFeedsComposerTypedLogger1.topics_user_removed=c('GeneratedLoggerUtils').serializeVector(j);return this;};h.prototype.setVC=function(j){this.$TopicFeedsComposerTypedLogger1.vc=j;return this;};var i={classify_session_id:true,client_event_time_ms:true,composer_id:true,entry_point_ref:true,event:true,is_prediction_applied:true,link_attachment_count:true,photo_attachment_count:true,photo_upload_to_post_duration:true,prediction_count:true,prediction_duration:true,prediction_error_reason:true,prediction_is_successful:true,sequence_number:true,target_type:true,topic_added:true,topic_removed:true,topics_auto_tagged:true,topics_tagged:true,topics_user_added:true,topics_user_removed:true,vc:true};f.exports=h;},null);
__d('ReactComposerSelectedImagesStore',['ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerMediaUploadStore','ReactComposerPhotoStore','ReactComposerSlideshowActionType','ReactComposerStoreBase','SlideshowConstants','SlideshowImageUtil','immutable','mergeDeepInto'],function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=1.778,k='x',l=1,m=c('SlideshowConstants').formats,n=c('SlideshowConstants').max_photo_num;h=babelHelpers.inherits(o,c('ReactComposerStoreBase'));i=h&&h.prototype;o.prototype.$ReactComposerSelectedImagesStore1=function(p,q,r){var s;if(p.isLoading)return {};var t=c('SlideshowImageUtil').calculateDefaultCoordinates({width:p.width,height:p.height},r);return s={},s[q]=t,s;};o.prototype.$ReactComposerSelectedImagesStore2=function(p,q,r){var s=r;if(!s)s=this.getComposerData(p).format;return this.$ReactComposerSelectedImagesStore3(q,s);};o.prototype.$ReactComposerSelectedImagesStore3=function(p,q){if(!p.length)return [];switch(q){case m.Original:var r=p[0];return p.map(function(s){return this.$ReactComposerSelectedImagesStore1(s,r.width+k+r.height,r.width/r.height);}.bind(this));case m.Wide:return p.map(function(s){return this.$ReactComposerSelectedImagesStore1(s,q,j);}.bind(this));case m.Square:return p.map(function(s){return this.$ReactComposerSelectedImagesStore1(s,q,l);}.bind(this));default:return [];}};function o(){var p=void 0;i.constructor.call(this,function(){return {selectedImages:[],imagesCrops:[],editState:null,format:c('SlideshowConstants').formats.Original,removedUploadIDs:[],addedUploadIDs:[]};},function(q){switch(q.type){case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:c('ReactComposerDispatcher').waitFor([c('ReactComposerMediaUploadStore').getDispatchToken()]);p&&p.$ReactComposerSelectedImagesStore4(q);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:c('ReactComposerDispatcher').waitFor([c('ReactComposerPhotoStore').getDispatchToken()]);p&&p.$ReactComposerSelectedImagesStore5(q);break;case c('ReactComposerSlideshowActionType').IMAGES_SELECT_CONFIRM:p&&p.$ReactComposerSelectedImagesStore6(q);break;case c('ReactComposerSlideshowActionType').IMAGE_REMOVE:p&&p.$ReactComposerSelectedImagesStore7(q);break;case c('ReactComposerSlideshowActionType').REORDER_IMAGES:p&&p.$ReactComposerSelectedImagesStore8(q);break;case c('ReactComposerSlideshowActionType').FORMAT_CHANGE:p&&p.$ReactComposerSelectedImagesStore9(q);break;case c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG:p&&p.$ReactComposerSelectedImagesStore10(q);break;case c('ReactComposerSlideshowActionType').HIDE_SLIDESHOW_EDIT_FIELD:p&&p.$ReactComposerSelectedImagesStore11(q);break;case c('ReactComposerSlideshowActionType').SHOW_EDIT_SLIDESHOW_DIALOG:p&&p.$ReactComposerSelectedImagesStore12(q);break;case c('ReactComposerSlideshowActionType').CLOSE_EDIT_SLIDESHOW_DIALOG:p&&p.$ReactComposerSelectedImagesStore13(q);break;case c('ReactComposerSlideshowActionType').CREATE:p&&p.$ReactComposerSelectedImagesStore14(q);break;default:break;}});p=this;}o.prototype.$ReactComposerSelectedImagesStore4=function(p){var q=p.composerID,r=this.getComposerData(q),s=c('ReactComposerMediaUploadStore').getUploads(q),t=this.addNewImagesFromPhotoUploads(s,r.selectedImages,r.removedUploadIDs);r.selectedImages=r.selectedImages.concat(t);if(r.editState!==null)r.addedUploadIDs=r.addedUploadIDs.concat(t.map(function(u){return u.key;}));this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore5=function(p){var q=p.composerID,r=this.getComposerData(q),s=c('ReactComposerPhotoStore').getPhotos(q);r.selectedImages=this.replacePhotoUploadsFromPhotos(s,r.selectedImages);r.imagesCrops=this.$ReactComposerSelectedImagesStore2(q,r.selectedImages);this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore11=function(p){var q=p.composerID,r=this.getComposerData(q);r.selectedImages=[];r.imagesCrops=[];this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore10=function(p){var q=p.composerID,r=this.getComposerData(q);if(!p.shouldShowSlideshowDialog){r.selectedImages=[];r.imagesCrops=[];}this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore6=function(p){var q=p.composerID,r=this.getComposerData(q);r.selectedImages=r.selectedImages.concat(p.selectedImages);r.imagesCrops=this.$ReactComposerSelectedImagesStore2(q,r.selectedImages);this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore7=function(p){var q=p.composerID,r=this.getComposerData(q);if(r.editState!==null)r.removedUploadIDs.push(p.removeImage.key);var s=r.selectedImages.filter(function(t){return t.key!==p.removeImage.key;});r.selectedImages=s;r.imagesCrops=this.$ReactComposerSelectedImagesStore2(q,s);this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore8=function(p){var q=p.composerID,r=this.getComposerData(q),s=p.data,t=s.fromIndex,u=s.toIndex,v=r.selectedImages.slice(0),w=Object.assign({},v[t]);v[t].remove=true;v.splice(t>u?u:u+1,0,w);v=v.filter(function(x){return !x.remove;});r.selectedImages=v;r.imagesCrops=this.$ReactComposerSelectedImagesStore2(q,v);this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore9=function(p){var q=p.composerID,r=this.getComposerData(q);r.format=p.format;r.imagesCrops=this.$ReactComposerSelectedImagesStore2(q,r.selectedImages,p.format);this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore12=function(p){var q=p.composerID,r=this.getComposerData(q),s={};c('mergeDeepInto')(s,r);r.editState=s;this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore13=function(p){var q=p.composerID,r=this.getComposerData(q),s=r.editState;r.selectedImages=s.selectedImages;r.imagesCrops=s.imagesCrops;r.format=s.format;r.editState=null;r.removedUploadIDs=[];r.addedUploadIDs=[];this.emitChange(q);};o.prototype.$ReactComposerSelectedImagesStore14=function(p){var q=p.composerID,r=this.getComposerData(q);r.editState=null;r.removedUploadIDs=[];r.addedUploadIDs=[];this.emitChange(q);};o.prototype.getImagesFromPhotoUploads=function(p){var q=[];p.forEach(function(r){q.push({height:null,isLoading:true,key:r.id,url:null,width:null});});return q;};o.prototype.addNewImagesFromPhotoUploads=function(p,q,r){var s=this.getImagesFromPhotoUploads(p),t=s.filter(function(u){var v=q.findIndex(function(x){return x.key===u.key;}),w=r.findIndex(function(x){return x===u.key;});return v===-1&&w===-1;});return t;};o.prototype.replacePhotoUploadsFromPhotos=function(p,q){return (q.map(function(r){var s=r,t=p.find(function(u){return u.uploadID===r.key;});if(t!=null)s={height:t.height,isLoading:false,key:t.uploadID,photoID:t.id,thumbSrc:t.thumbSrc,url:t.imageSrc,width:t.width};return s;}));};o.prototype.getPhotoIDs=function(p){var q=this.getComposerData(p);return q.selectedImages.map(function(r){return r.photoID;}).slice(0,n);};o.prototype.getRemovedUploadIDs=function(p){return this.getComposerData(p).removedUploadIDs;};o.prototype.getAddedUploadIDs=function(p){return this.getComposerData(p).addedUploadIDs;};o.prototype.getSelectedImages=function(p){return this.getComposerData(p).selectedImages;};o.prototype.getThumbnailSrc=function(p){var q=this.getComposerData(p).selectedImages;if(q.length>0)return q[0].thumbSrc;return null;};o.prototype.getImagesCrops=function(p){return this.getComposerData(p).imagesCrops;};o.prototype.getNumberOfImages=function(p){return Math.min(this.getComposerData(p).selectedImages.length,n);};o.prototype.getFormat=function(p){return this.getComposerData(p).format;};f.exports=new o();},null);
__d("XSlideshowAudioAsyncController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/ads\/slideshow\/audio\/",{});},null);
__d('SlideshowDataManager',['AsyncRequest','SlideshowConstants','XSlideshowAudioAsyncController'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();h.prototype.fetchAudioSource=function(i,j){var k=c('XSlideshowAudioAsyncController').getURIBuilder().getURI();new (c('AsyncRequest'))().setURI(k).setData({audio_id:c('SlideshowConstants').audio_ids[i]}).setMethod('POST').setHandler(function(l){return j(l.payload);}).send();};function h(){}f.exports=new h();},null);
__d('SlideshowUtil',['SlideshowConstants'],function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h=1000,i='_',j={getDurationParam:function(k,l,m){var n=h*l,o=m*(k-1),p=Math.floor((n-o)/k);return {durationInMS:p,transitionInMS:m};},getAudioFileNameWithSecs:function(k,l,m){var n=l*m/h;return this.getAudioFileParam(k,n);},getAudioFileParam:function(k,l){if(k===c('SlideshowConstants').audio_files.None)return k;var m=c('SlideshowConstants').audio_lengths;for(var n=0;n<m.length;n++){var o=m[n];if(l<=o)return k+i+o;}return k+i+m[m.length-1];},getTotalLengthInSec:function(k,l){return Math.round(k*l/h);}};f.exports=j;},null);
__d('ReactComposerSlideshowStore',['ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerSelectedImagesStore','ReactComposerSlideshowActionType','ReactComposerSlideshowActions','ReactComposerSlideshowPlacement','ReactComposerStoreBase','QE','SlideshowConstants','SlideshowDataManager','SlideshowUtil','mergeDeepInto','immutable'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {audioFile:c('SlideshowConstants').audio_files.None,audioFileSource:c('SlideshowConstants').audio_files.None,audioFileToSource:c('immutable').Map({NONE:'none'}),durationInMS:1000,editState:null,isSlideshowSelected:false,placement:c('ReactComposerSlideshowPlacement').PHOTO_VIDEO_TAB,shouldShowSlideshowDialog:false,transitionInMS:c('SlideshowConstants').transitions.None,isExposureLogged:false};},function(l){switch(l.type){case c('ReactComposerSlideshowActionType').CREATE:k&&k.$ReactComposerSlideshowStore1(l);break;case c('ReactComposerSlideshowActionType').SHOW_SLIDESHOW_EDIT_FIELD:k&&k.$ReactComposerSlideshowStore2(l);break;case c('ReactComposerSlideshowActionType').HIDE_SLIDESHOW_EDIT_FIELD:k&&k.$ReactComposerSlideshowStore3(l);break;case c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG:k&&k.$ReactComposerSlideshowStore4(l);break;case c('ReactComposerSlideshowActionType').IMAGES_SELECT_CONFIRM:k&&k.$ReactComposerSlideshowStore5(l);break;case c('ReactComposerSlideshowActionType').AUDIO_CHANGE:k&&k.$ReactComposerSlideshowStore6(l);k&&k.$ReactComposerSlideshowStore5(l);break;case c('ReactComposerSlideshowActionType').TRANSITION_CHANGE:k&&k.$ReactComposerSlideshowStore7(l);break;case c('ReactComposerSlideshowActionType').DURATION_CHANGE:k&&k.$ReactComposerSlideshowStore8(l);k&&k.$ReactComposerSlideshowStore5(l);break;case c('ReactComposerSlideshowActionType').SHOW_EDIT_SLIDESHOW_DIALOG:k&&k.$ReactComposerSlideshowStore9(l);break;case c('ReactComposerSlideshowActionType').CLOSE_EDIT_SLIDESHOW_DIALOG:k&&k.$ReactComposerSlideshowStore10(l);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:case c('ReactComposerSlideshowActionType').IMAGE_REMOVE:k&&k.$ReactComposerSlideshowStore5(l);break;case c('ReactComposerSlideshowActionType').AUDIO_SOURCE_CHANGE:k&&k.$ReactComposerSlideshowStore11(l);break;case c('ReactComposerSlideshowActionType').AUDIO_SOURCE_MAP_CHANGE:k&&k.$ReactComposerSlideshowStore12(l);break;case c('ReactComposerSlideshowActionType').LOG_EXPOSURE:k&&k.$ReactComposerSlideshowStore13(l);break;default:break;}});k=this;}j.prototype.$ReactComposerSlideshowStore5=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l),n=this.getNumberOfImages(l),o=c('SlideshowUtil').getAudioFileNameWithSecs(m.audioFile,m.durationInMS,n),p=m.audioFileToSource;if(!p.get(o)){c('SlideshowDataManager').fetchAudioSource(o,function(q){c('ReactComposerSlideshowActions').changeAudioFileSource(l,q);p=p.set(o,q);c('ReactComposerSlideshowActions').changeAudioSourceMap(l,p);});return;}m.audioFileSource=p.get(o);this.emitChange(l);};j.prototype.$ReactComposerSlideshowStore1=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isSlideshowSelected=true;m.shouldShowSlideshowDialog=false;m.editState=null;this.emitChange(l);};j.prototype.$ReactComposerSlideshowStore13=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);if(!m.isExposureLogged){m.isExposureLogged=true;c('QE').logExposure('slideshow_pages_composer_www');}};j.prototype.$ReactComposerSlideshowStore2=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isSlideshowSelected=true;this.emitChange(l);};j.prototype.$ReactComposerSlideshowStore3=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.isSlideshowSelected=false;this.emitChange(l);};j.prototype.$ReactComposerSlideshowStore4=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.shouldShowSlideshowDialog=k.shouldShowSlideshowDialog;m.placement=k.placement;this.emitChange(l);};j.prototype.$ReactComposerSlideshowStore6=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.audioFile=k.audioFile;this.emitChange(l);};j.prototype.$ReactComposerSlideshowStore11=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.audioFileSource=k.audioFileSource;this.emitChange(l);};j.prototype.$ReactComposerSlideshowStore12=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.audioFileToSource=k.audioFileToSource;this.emitChange(l);};j.prototype.$ReactComposerSlideshowStore7=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.transitionInMS=k.transitionInMS;this.emitChange(l);};j.prototype.$ReactComposerSlideshowStore8=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.durationInMS=k.durationInMS;this.emitChange(l);};j.prototype.$ReactComposerSlideshowStore9=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l),n={};c('mergeDeepInto')(n,m);m.editState=n;m.shouldShowSlideshowDialog=true;this.emitChange(l);};j.prototype.$ReactComposerSlideshowStore10=function(k){'use strict';var l=k.composerID,m=this.getComposerData(l);m.shouldShowSlideshowDialog=false;m.isSlideshowSelected=true;var n=m.editState;m.durationInMS=n.durationInMS;m.transitionInMS=n.transitionInMS;m.audioFile=n.audioFile;m.audioFileSource=n.audioFileSource;m.editState=null;this.emitChange(l);};j.prototype.isSlideshowSelected=function(k){'use strict';return this.getComposerData(k).isSlideshowSelected;};j.prototype.isEditing=function(k){'use strict';return this.getComposerData(k).editState!==null;};j.prototype.shouldShowSlideshowDialog=function(k){'use strict';return this.getComposerData(k).shouldShowSlideshowDialog;};j.prototype.getPlacement=function(k){'use strict';return this.getComposerData(k).placement;};j.prototype.getAudioFile=function(k){'use strict';return this.getComposerData(k).audioFile;};j.prototype.getAudioFileSource=function(k){'use strict';return this.getComposerData(k).audioFileSource;};j.prototype.getDurationInMS=function(k){'use strict';return this.getComposerData(k).durationInMS;};j.prototype.getNumberOfImages=function(k){'use strict';c('ReactComposerDispatcher').waitFor([c('ReactComposerSelectedImagesStore').getDispatchToken()]);return c('ReactComposerSelectedImagesStore').getNumberOfImages(k);};j.prototype.getTransitionInMS=function(k){'use strict';return this.getComposerData(k).transitionInMS;};f.exports=new j();},null);
__d('ReactComposerScrapedAttachmentActionType',['keyMirrorRecursive'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({ATTACHMENT_SCRAPE_ENABLED:null,ATTACHMENT_PERMISSIVE_MATCH_SETTED:null,ATTACHMENT_SCRAPE_INTENDED:null,ATTACHMENT_SCRAPED:null,ATTACHMENT_CAROUSEL_UPLOAD:null,ATTACHMENT_SHARE_SELECTED:null},'ReactComposerScrapedAttachmentActionType');},null);
__d("XReactComposerScrapedAttachmentController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/scraper\/",{composer_id:{type:"String",required:true},target_id:{type:"String",required:true},scrape_url:{type:"String",required:true},carousel_params:{type:"String"},entry_point:{type:"String",required:true},source_attachment:{type:"String",defaultValue:""}});},null);
__d("XReactComposerShareAttachmentController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/react_composer\/share_attachment\/",{composer_id:{type:"String",required:true},target_id:{type:"String",required:true},share_type:{type:"Int",required:true},share_params:{type:"String",required:true},source_attachment:{type:"String",defaultValue:""}});},null);
__d('ReactComposerScrapedAttachmentStore',['ActorURI','CallToActionLinkFormats','ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerScrapedAttachmentActionType','ReactComposerStoreBase','XReactComposerScrapedAttachmentController','XReactComposerShareAttachmentController','AsyncRequest','PagesComposerCarouselPostChildAttachmentAttributes','PagesComposerCarouselPostLogAttributes','DOM'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('ReactComposerStoreBase'));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {markup:null,attachmentConfig:{},enabled:false,isScraping:false,permissiveMatch:null,sourceAttachment:null};},function(l){switch(l.type){case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPE_ENABLED:k&&k.$ReactComposerScrapedAttachmentStore1(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_PERMISSIVE_MATCH_SETTED:k&&k.$ReactComposerScrapedAttachmentStore2(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPE_INTENDED:k&&k.$ReactComposerScrapedAttachmentStore3(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SHARE_SELECTED:k&&k.$ReactComposerScrapedAttachmentStore4(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED:k&&k.$ReactComposerScrapedAttachmentStore5(l);break;case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:k&&k.$ReactComposerScrapedAttachmentStore6(l);break;case c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_CAROUSEL_UPLOAD:k&&k.$ReactComposerScrapedAttachmentStore7(l);}});k=this;}j.prototype.isEnabled=function(k){'use strict';return this.getComposerData(k).isEnabled;};j.prototype.hasAttachment=function(k){'use strict';return !!this.getMarkup(k);};j.prototype.isScraping=function(k){'use strict';return this.getComposerData(k).isScraping;};j.prototype.getMarkup=function(k){'use strict';return this.getComposerData(k).markup;};j.prototype.isReadOnly=function(k){'use strict';var l=this.getComposerData(k);return l.attachmentConfig&&l.attachmentConfig.readOnly;};j.prototype.getAttachmentConfig=function(k){'use strict';var l=this.getComposerData(k);if(!l.markup)return null;if(!l.attachmentConfig.readOnly){var m=c('DOM').scry(l.markup,'input[name="attachment[params][images][0]"]').pop(),n=c('DOM').scry(l.markup,'input[name="attachment[params][title]"]').pop(),o=c('DOM').scry(l.markup,'input[name="attachment[params][summary]"]').pop();if(m!=null){if(l.attachmentConfig.params.images===undefined)l.attachmentConfig.params.images=[];l.attachmentConfig.params.images[0]=m.value;}if(n!=null)l.attachmentConfig.params.title=n.value;if(o!=null)l.attachmentConfig.params.summary=o.value;var p=c('DOM').scry(l.markup,'input[name="attachment[carousel_log]['+c('PagesComposerCarouselPostLogAttributes').USE_CAROUSEL_COMPOSER+']"]').pop();if(p!=null&&p.value==='1'){this.$ReactComposerScrapedAttachmentStore8(l);this.$ReactComposerScrapedAttachmentStore9(l);}this.$ReactComposerScrapedAttachmentStore10(l);}return l.attachmentConfig;};j.prototype.$ReactComposerScrapedAttachmentStore10=function(k){'use strict';var l={},m=Object.keys(c('PagesComposerCarouselPostLogAttributes'));for(var n=0;n<m.length;n++){var o=c('PagesComposerCarouselPostLogAttributes')[m[n]],p=c('DOM').scry(k.markup,'input[name="attachment[carousel_log]['+o+']"]').pop();if(!p)continue;l[o]=p.value;}if(Object.keys(l).length!==0)k.attachmentConfig.carousel_log=l;};j.prototype.$ReactComposerScrapedAttachmentStore8=function(k){'use strict';k.attachmentConfig.params.child_attachments={};var l=Object.keys(c('PagesComposerCarouselPostChildAttachmentAttributes')),m=0,n={};while(true){var o=false,p=0;n={};for(p=0;p<l.length;p++){var q=c('DOM').scry(k.markup,'input[name="attachment[params][child_attachments]['+m+']['+c('PagesComposerCarouselPostChildAttachmentAttributes')[l[p]]+']"]').pop();if(q==null)continue;n[c('PagesComposerCarouselPostChildAttachmentAttributes')[l[p]]]=q.value;o=true;}if(!o)break;k.attachmentConfig.params.child_attachments[m]=n;m++;}};j.prototype.$ReactComposerScrapedAttachmentStore9=function(k){'use strict';var l=k.attachmentConfig.params.child_attachments;if(!l)return;var m=null,n=0;for(var o in l)if(l.hasOwnProperty(o))if(l[o].selected==='1'){n+=1;if(n>1)return;if(l[o].video_id)m=l[o];}if(m){k.attachmentConfig.params.carousel_video_lpp={};Object.assign(k.attachmentConfig.params.carousel_video_lpp,{video_id:m.video_id,publish:true,link_title:m.name,link_description:m.description,cta_type:m.cta_type?m.cta_type:'LEARN_MORE',cta_link:m.link,cta_link_format:c('CallToActionLinkFormats').VIDEO_LPP});}};j.prototype.getPermissiveMatch=function(k){'use strict';return this.getComposerData(k).permissiveMatch;};j.prototype.$ReactComposerScrapedAttachmentStore1=function(k){'use strict';var l=this.validateAction(k,['composerID','enabled']),m=l[0],n=l[1],o=this.getComposerData(m);o.isEnabled=n;};j.prototype.$ReactComposerScrapedAttachmentStore2=function(k){'use strict';var l=this.validateAction(k,['composerID','permissiveMatch']),m=l[0],n=l[1],o=this.getComposerData(m);o.permissiveMatch=n;this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore3=function(k){'use strict';var l=this.validateAction(k,['composerID','targetID','value','entryPoint','actorID']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4];if(!this.isEnabled(m))return;var r=this.getComposerData(k.composerID);r.isScraping=true;var s=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),t=c('XReactComposerScrapedAttachmentController').getURIBuilder().setString('composer_id',m).setString('target_id',n).setString('scrape_url',o).setString('entry_point',p).setString('source_attachment',s).getURI();t=c('ActorURI').create(t,q);new (c('AsyncRequest'))(t).send();this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore5=function(k){'use strict';if(!this.isEnabled(k.composerID))return;var l=this.getComposerData(k.composerID);l.markup=k.markup;l.attachmentConfig=k.attachmentConfig;l.isScraping=false;l.sourceAttachment=c('ReactComposerAttachmentStore').getSelectedAttachmentID(k.composerID);this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore6=function(k){'use strict';var l=this.getComposerData(k.composerID);if(k.id===l.sourceAttachment)return;l.markup=null;l.attachmentConfig={};l.isScraping=false;l.sourceAttachment=null;this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore7=function(k){'use strict';var l=this.validateAction(k,['composerID','targetID','scrapeUrl','carouselParams','entryPoint','actorID']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4],r=l[5],s=this.getComposerData(k.composerID);s.isScraping=true;var t=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),u=c('XReactComposerScrapedAttachmentController').getURIBuilder().setString('composer_id',m).setString('target_id',n).setString('scrape_url',o).setString('carousel_params',p).setString('entry_point',q).setString('source_attachment',t).getURI();u=c('ActorURI').create(u,r);new (c('AsyncRequest'))(u).send();this.emitChange(k.composerID);};j.prototype.$ReactComposerScrapedAttachmentStore4=function(k){'use strict';var l=this.validateAction(k,['composerID','targetID','actorID','shareType','shareParams']),m=l[0],n=l[1],o=l[2],p=l[3],q=l[4];if(!this.isEnabled(m))return;var r=this.getComposerData(m);r.isScraping=true;var s=c('ReactComposerAttachmentStore').getSelectedAttachmentID(m),t=c('XReactComposerShareAttachmentController').getURIBuilder().setString('composer_id',m).setString('target_id',n).setInt('share_type',p).setString('share_params',JSON.stringify(q)).setString('source_attachment',s).getURI();t=c('ActorURI').create(t,o);new (c('AsyncRequest'))(t).send();this.emitChange(m);};f.exports=new j();},null);
__d('ReactComposerScrapedAttachmentActions',['ReactComposerScrapedAttachmentActionType','ReactComposerDispatcher','ReactComposerScrapedAttachmentStore'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('ReactComposerScrapedAttachmentStore');h.prototype.enabled=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPE_ENABLED,enabled:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.setScrapedAttachment=function(i,j,k){'use strict';var l={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPED,markup:j,attachmentConfig:k};c('ReactComposerDispatcher').dispatch(l);};h.prototype.setPermissiveMatch=function(i,j){'use strict';var k={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_PERMISSIVE_MATCH_SETTED,permissiveMatch:j};c('ReactComposerDispatcher').dispatch(k);};h.prototype.scrapeAttachment=function(i,j,k,l,m){'use strict';var n={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SCRAPE_INTENDED,targetID:j,value:k,entryPoint:l,actorID:m};c('ReactComposerDispatcher').dispatch(n);};h.prototype.setShareAttachment=function(i,j,k,l,m){'use strict';var n={composerID:i,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_SHARE_SELECTED,targetID:j,actorID:k,shareType:l,shareParams:m};c('ReactComposerDispatcher').dispatch(n);};h.prototype.uploadImagesForCarousel=function(i){'use strict';var j={composerID:i.composerID,type:c('ReactComposerScrapedAttachmentActionType').ATTACHMENT_CAROUSEL_UPLOAD,targetID:i.targetID,scrapeUrl:i.scrapeUrl,carouselParams:i.carouselParams,entryPoint:i.entryPoint,actorID:i.actorID};c('ReactComposerDispatcher').dispatch(j);};function h(){'use strict';}f.exports=new h();},null);
__d('ReactComposerPerfLogger',['ComposerType','ComposerXSessionIDs','MarauderLogger'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={},i=c('ComposerType').NORMAL,j={logEvent:function(k,l){var m=arguments.length<=2||arguments[2]===undefined?{}:arguments[2],n=h[l],o=c('ComposerXSessionIDs').getSessionID(l);if(!n||!o)return;if(m.logOncePerSession){if(!n.loggedEventTypes[o])n.loggedEventTypes[o]={};if(n.loggedEventTypes[o][k])return;n.loggedEventTypes[o][k]=true;}var p=babelHelpers['extends']({},m.extraData,{composer_type:i,composer_version:n.composerVersion,target_type:n.targetType,target_id:n.targetID,ref:n.entryPointRef});c('MarauderLogger').log(k,'composer',p,undefined,undefined,o);},registerComposer:function(k,l,m,n,o){h[k.id]={targetID:o,targetType:l,entryPointRef:m,composerVersion:n,loggedEventTypes:{}};},getInstance:function(k){return h[k];}};f.exports=j;},null);
__d('ReactComposerLoggingStore',['ReactComposerActionTypes','ReactComposerAlbumActionType','ReactComposerAttachmentActionType','ReactComposerAttachmentStore','ReactComposerAttachmentType','ReactComposerDispatcher','ReactComposerLoggingQueue','ReactComposerPerfLogger','ReactComposerPhotoActionType','ReactComposerPhotoStore','ReactComposerMediaUploadActionType','ReactComposerMediaUploadStore','ReactComposerMediaUploadType','ReactComposerScrapedAttachmentStore','ReactComposerSelectedImagesStore','ReactComposerSlideshowActionType','ReactComposerSlideshowStore','ReactComposerStore','ReactComposerStoreBase','ReactComposerTaggerActionType','ReactComposerTaggerStore','ReactComposerTaggerType','ComposerType','ReactComposerVideoUploadStore','ReactComposerVideoUploadActionType','ComposerPerfEvent','ComposerWaterfallEvent','ComposerXMarauderLogger','ComposerXSessionIDs','immutable','PhotosUploadWaterfallXMixin','PUWApplications','PUWMethods','PUWSteps','classWithMixins','mixin','performanceAbsoluteNow','nullthrows','PhotoUploadFacerecWaterfallTypedLogger','FacerecWaterfallEvent'],function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('classWithMixins')(c('ReactComposerStoreBase'),c('mixin')(c('PhotosUploadWaterfallXMixin'))));i=h&&h.prototype;function j(){'use strict';var k;i.constructor.call(this,function(){return {composerPerfQueue:c('immutable').List(),composerWaterfallQueue:c('immutable').List(),perfTimes:{},PUWQueue:c('immutable').List(),sessionID:null,uniqueEvents:c('immutable').Map([[c('PUWSteps').CLIENT_PUBLISH_SUCCESS,false],[c('PUWSteps').CLIENT_FLOW_SUCCESS,false]])};},function(l){if(c('ReactComposerLoggingQueue').getLength()>0)k&&k.$ReactComposerLoggingStore1();if(l.composerID){k&&k.$ReactComposerLoggingStore2(l.composerID);k&&k.$ReactComposerLoggingStore3(l.composerID);k&&k.$ReactComposerLoggingStore4(l.composerID);}k&&k.handler(l);});k=this;}j.prototype.handler=function(k){'use strict';switch(k.type){case c('ReactComposerAttachmentActionType').SELECT_ATTACHMENT:this.$ReactComposerLoggingStore5(k);break;case c('ReactComposerAttachmentActionType').SET_BOOTLOADED:c('ReactComposerDispatcher').waitFor([c('ReactComposerAttachmentStore').getDispatchToken()]);this.$ReactComposerLoggingStore6(k);break;case c('ReactComposerAttachmentActionType').SET_BOOTSTRAPPED:c('ReactComposerDispatcher').waitFor([c('ReactComposerAttachmentStore').getDispatchToken()]);this.$ReactComposerLoggingStore7(k);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_INPUT_CLICKED:this.$ReactComposerLoggingStore8(k);break;case c('ReactComposerAlbumActionType').CREATE_ALBUM_SELECTOR_CLICKED:this.$ReactComposerLoggingStore9(k);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_ENQUEUED:this.$ReactComposerLoggingStore10(k);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_STARTED:this.$ReactComposerLoggingStore11(k);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_DONE:this.$ReactComposerLoggingStore12(k);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZE_FAILED:this.$ReactComposerLoggingStore13(k);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RESIZER_UNAVAILABLE:this.$ReactComposerLoggingStore14(k);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_UPLOADING:this.$ReactComposerLoggingStore15(k);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:this.$ReactComposerLoggingStore16(k);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_FAILED:this.$ReactComposerLoggingStore17(k);break;case c('ReactComposerMediaUploadActionType').MEDIA_UPLOAD_REMOVE:this.$ReactComposerLoggingStore18(k);break;case c('ReactComposerPhotoActionType').PHOTO_REMOVE:this.$ReactComposerLoggingStore19(k);break;case c('ReactComposerVideoUploadActionType').VIDEO_UPLOAD_ADD:this.$ReactComposerLoggingStore20(k);break;case c('ReactComposerVideoUploadActionType').VIDEO_UPLOAD_REMOVE:this.$ReactComposerLoggingStore21(k);break;case c('ReactComposerTaggerActionType').SET_SELECTED_TAGGER:c('ReactComposerDispatcher').waitFor([c('ReactComposerTaggerStore').getDispatchToken()]);this.$ReactComposerLoggingStore22(k);break;case c('ReactComposerActionTypes').POST_STARTED:this.$ReactComposerLoggingStore23(k);break;case c('ReactComposerActionTypes').POST_SUCCEEDED:this.$ReactComposerLoggingStore24(k);break;case c('ReactComposerActionTypes').POST_ERROR:this.$ReactComposerLoggingStore25(k);break;case c('ReactComposerMediaUploadActionType').PHOTOS_SELECT:this.$ReactComposerLoggingStore26(k);break;case c('ReactComposerPhotoActionType').PHOTO_EDIT_STARTED:this.$ReactComposerLoggingStore27(k);break;case c('ReactComposerPhotoActionType').PHOTO_EDIT_FINISHED:this.$ReactComposerLoggingStore28(k);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_RETRY:this.$ReactComposerLoggingStore29(k);break;case c('ReactComposerPhotoActionType').PHOTO_ADD_FACEBOX:this.$ReactComposerLoggingStore30(k);break;case c('ReactComposerPhotoActionType').PHOTO_RECOGNITION_ALL_FINISHED:this.$ReactComposerLoggingStore31(k);break;case c('ReactComposerSlideshowActionType').TOGGLE_SLIDESHOW_DIALOG:this.$ReactComposerLoggingStore32(k);break;case c('ReactComposerSlideshowActionType').HIDE_SLIDESHOW_EDIT_FIELD:this.$ReactComposerLoggingStore33(k);break;default:}};j.prototype.getSessionID=function(k){'use strict';return c('ComposerXSessionIDs').getSessionID(k);};j.prototype.$ReactComposerLoggingStore5=function(k){'use strict';var l=this.validateAction(k,['id','currentAttachmentID','composerID']),m=l[0],n=l[1],o=l[2];if(c('ReactComposerAttachmentStore').isSelectedAttachmentActive(o))this.$ReactComposerLoggingStore34(o,c('ComposerWaterfallEvent').COMPOSER_ENTRY,{logOncePerSession:true});if(this.$ReactComposerLoggingStore35(o,m)){this.$ReactComposerLoggingStore36(o,c('ComposerWaterfallEvent').SLIDESHOW_INTENT);}else if(this.$ReactComposerLoggingStore35(o,n))this.$ReactComposerLoggingStore36(o,c('ComposerWaterfallEvent').SLIDESHOW_CANCEL);};j.prototype.$ReactComposerLoggingStore6=function(k){'use strict';var l=this.validateAction(k,['id','composerID']),m=l[0],n=l[1];this.$ReactComposerLoggingStore37(n,c('ComposerPerfEvent').CLIENT_BOOTLOADED,{extraData:{attachment_type:m,duration:c('ReactComposerAttachmentStore').getBootloadDuration(n,m)}});};j.prototype.$ReactComposerLoggingStore7=function(k){'use strict';var l=this.validateAction(k,['id','composerID']),m=l[0],n=l[1];this.$ReactComposerLoggingStore37(n,c('ComposerPerfEvent').CLIENT_BOOTSTRAPPED,{extraData:{attachment_type:m,duration:c('ReactComposerAttachmentStore').getBootstrapDuration(n,m)}});};j.prototype.$ReactComposerLoggingStore9=function(k){'use strict';var l=this.validateAction(k,'composerID');this.$ReactComposerLoggingStore34(l,c('ComposerWaterfallEvent').ALBUM_INTENT);};j.prototype.$ReactComposerLoggingStore32=function(k){'use strict';var l=this.validateAction(k,['composerID','shouldShowSlideshowDialog','photoCount','placement']),m=l[0],n=l[1],o=l[2],p=l[3];if(n){this.$ReactComposerLoggingStore36(m,c('ComposerWaterfallEvent').SLIDESHOW_INTENT,o,p);}else this.$ReactComposerLoggingStore36(m,c('ComposerWaterfallEvent').SLIDESHOW_CANCEL,o,p);};j.prototype.$ReactComposerLoggingStore33=function(k){'use strict';var l=this.validateAction(k,'composerID');this.$ReactComposerLoggingStore36(l,c('ComposerWaterfallEvent').SLIDESHOW_CANCEL);};j.prototype.$ReactComposerLoggingStore8=function(k){'use strict';var l=this.validateAction(k,'composerID');this.$ReactComposerLoggingStore34(l,c('ComposerWaterfallEvent').MEDIA_INTENT);this.$ReactComposerLoggingStore38(l,c('PUWSteps').CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});this.$ReactComposerLoggingStore38(l,c('PUWSteps').CLIENT_SELECT_BEGIN);};j.prototype.$ReactComposerLoggingStore10=function(k){'use strict';var l=this.validateAction(k,'composerID');this.$ReactComposerLoggingStore34(l,c('ComposerWaterfallEvent').PHOTO_ADD);};j.prototype.$ReactComposerLoggingStore11=function(k){'use strict';var l=this.validateAction(k,['composerID','loggingData']),m=l[0],n=l[1];this.$ReactComposerLoggingStore38(m,c('PUWSteps').CLIENT_PROCESS_BEGIN,n);};j.prototype.$ReactComposerLoggingStore12=function(k){'use strict';var l=this.validateAction(k,['composerID','loggingData']),m=l[0],n=l[1];this.$ReactComposerLoggingStore38(m,c('PUWSteps').CLIENT_PROCESS_SUCCESS,n);};j.prototype.$ReactComposerLoggingStore13=function(k){'use strict';var l=this.validateAction(k,['composerID','loggingData']),m=l[0],n=l[1];this.$ReactComposerLoggingStore38(m,c('PUWSteps').CLIENT_PROCESS_FAIL,n);};j.prototype.$ReactComposerLoggingStore14=function(k){'use strict';var l=this.validateAction(k,'composerID');this.$ReactComposerLoggingStore38(l,c('PUWSteps').CLIENT_PROCESS_UNAVAILABLE);};j.prototype.$ReactComposerLoggingStore15=function(k){'use strict';var l=this.validateAction(k,['composerID','fileUpload']),m=l[0],n=l[1];this.$ReactComposerLoggingStore38(m,c('PUWSteps').CLIENT_TRANSFER_BEGIN,{bytes:n.getFile().size});};j.prototype.$ReactComposerLoggingStore16=function(k){'use strict';var l=this.validateAction(k,['composerID','fileUpload','timeToUpload']),m=l[0],n=l[1],o=l[2];this.$ReactComposerLoggingStore34(m,c('ComposerWaterfallEvent').PHOTO_ADD_SUCCESS);this.$ReactComposerLoggingStore38(m,c('PUWSteps').CLIENT_TRANSFER_SUCCESS,{bytes:n.getFile().size,auto_retry_count:n.getRetryCount(),dt:o,custom_tags:{manual_retry:!!n.getFile().manuallyRetried}});};j.prototype.$ReactComposerLoggingStore17=function(k){'use strict';var l=this.validateAction(k,['composerID','fileUpload','error','timeToUpload']),m=l[0],n=l[1],o=l[2],p=l[3];this.$ReactComposerLoggingStore34(m,c('ComposerWaterfallEvent').PHOTO_ADD_FAILURE);this.$ReactComposerLoggingStore38(m,c('PUWSteps').CLIENT_TRANSFER_FAIL,{bytes:n.getFile().size,error_code:o.code,error_info:o.description,auto_retry_count:n.getRetryCount(),dt:p,custom_tags:{manual_retry:!!n.getFile().manuallyRetried}});};j.prototype.$ReactComposerLoggingStore18=function(k){'use strict';var l=this.validateAction(k,'composerID');this.$ReactComposerLoggingStore34(l,c('ComposerWaterfallEvent').PHOTO_REMOVE);this.$ReactComposerLoggingStore38(l,c('PUWSteps').CLIENT_TRANSFER_CANCEL);};j.prototype.$ReactComposerLoggingStore19=function(k){'use strict';var l=this.validateAction(k,'composerID');this.$ReactComposerLoggingStore34(l,c('ComposerWaterfallEvent').PHOTO_REMOVE);};j.prototype.$ReactComposerLoggingStore20=function(k){'use strict';var l=this.validateAction(k,'composerID');this.$ReactComposerLoggingStore34(l,c('ComposerWaterfallEvent').VIDEO_ADD);};j.prototype.$ReactComposerLoggingStore21=function(k){'use strict';var l=this.validateAction(k,'composerID');this.$ReactComposerLoggingStore34(l,c('ComposerWaterfallEvent').VIDEO_REMOVE);};j.prototype.$ReactComposerLoggingStore22=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=c('ReactComposerTaggerStore').getSelectedTagger(l),event=null;switch(m){case c('ReactComposerTaggerType').PEOPLE:event=c('ComposerWaterfallEvent').FRIEND_TAG_INTENT;break;case c('ReactComposerTaggerType').LOCATION:event=c('ComposerWaterfallEvent').LOCATION_INTENT;break;case c('ReactComposerTaggerType').ACTIVITY:event=c('ComposerWaterfallEvent').MINUTIAE_INTENT;break;case c('ReactComposerTaggerType').MARKDOWN:event=c('ComposerWaterfallEvent').MARKDOWN_INTENT;break;default:break;}if(event===null)return;this.$ReactComposerLoggingStore34(l,event);};j.prototype.$ReactComposerLoggingStore23=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(l);m.perfTimes.postStartTime=c('performanceAbsoluteNow')();this.$ReactComposerLoggingStore34(l,c('ComposerWaterfallEvent').COMPOSER_POST);if(this.$ReactComposerLoggingStore39(l)){this.$ReactComposerLoggingStore38(l,c('PUWSteps').CLIENT_PUBLISH_BEGIN,this.$ReactComposerLoggingStore40(l));c('ReactComposerPhotoStore').getPhotos(l).forEach(function(n){n.faceboxes.forEach(function(o){return (new (c('PhotoUploadFacerecWaterfallTypedLogger'))().setEvent(c('FacerecWaterfallEvent').CLIENT_PHOTO_PUBLISHED).setPhotoFbid(n.id).setFaceBoxID(o.id).setRecognizedUser(o.recognizedSubjectID).setTaggedUser(o.taggedSubjectID).log());});});}};j.prototype.$ReactComposerLoggingStore24=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(l),n=c('ReactComposerAttachmentStore').getSelectedAttachmentID(l);this.$ReactComposerLoggingStore34(l,c('ComposerWaterfallEvent').COMPOSER_POST_SUCCESS);this.$ReactComposerLoggingStore37(l,c('ComposerPerfEvent').CLIENT_POST_SUCCEEDED,{extraData:{attachment_type:c('ReactComposerAttachmentStore').getSelectedAttachmentID(l),duration:c('performanceAbsoluteNow')()-m.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore35(l,n)){this.$ReactComposerLoggingStore36(l,c('ComposerWaterfallEvent').SLIDESHOW_POST);}else if(this.$ReactComposerLoggingStore39(l)){var o=this.$ReactComposerLoggingStore40(l);this.$ReactComposerLoggingStore38(l,c('PUWSteps').CLIENT_PUBLISH_SUCCESS,o);this.$ReactComposerLoggingStore38(l,c('PUWSteps').CLIENT_FLOW_SUCCESS);}};j.prototype.$ReactComposerLoggingStore25=function(k){'use strict';var l=this.validateAction(k,'composerID'),m=this.getComposerData(l);this.$ReactComposerLoggingStore34(l,c('ComposerWaterfallEvent').COMPOSER_POST_FAILURE);this.$ReactComposerLoggingStore37(l,c('ComposerPerfEvent').CLIENT_POST_FAILED,{extraData:{attachment_type:c('ReactComposerAttachmentStore').getSelectedAttachmentID(l),duration:c('performanceAbsoluteNow')()-m.perfTimes.postStartTime}});if(this.$ReactComposerLoggingStore39(l)){var n=k.response,o=Object.assign(this.$ReactComposerLoggingStore40(l),{error_code:n&&n.getError&&n.getError(),error_info:n&&n.getErrorDescription&&n.getErrorDescription()});this.$ReactComposerLoggingStore38(l,c('PUWSteps').CLIENT_PUBLISH_FAIL,o);}};j.prototype.$ReactComposerLoggingStore26=function(k){'use strict';var l=this.validateAction(k,['composerID','numPhotos','method']),m=l[0],n=l[1],o=l[2],p={method:o,volume:n};this.$ReactComposerLoggingStore38(m,c('PUWSteps').CLIENT_FLOW_BEGIN,null,{logOncePerSession:true});if(o!==c('PUWMethods').FILE_SELECTOR)this.$ReactComposerLoggingStore38(m,c('PUWSteps').CLIENT_SELECT_BEGIN);this.$ReactComposerLoggingStore38(m,c('PUWSteps').CLIENT_SELECT_SUCCESS,p);};j.prototype.$ReactComposerLoggingStore27=function(k){'use strict';var l=this.validateAction(k,'composerID');this.$ReactComposerLoggingStore38(l,c('PUWSteps').CLIENT_PHOTO_EDIT_BEGIN);};j.prototype.$ReactComposerLoggingStore28=function(k){'use strict';var l=this.validateAction(k,'composerID');this.$ReactComposerLoggingStore38(l,c('PUWSteps').CLIENT_PHOTO_EDIT_SUCCESS);};j.prototype.$ReactComposerLoggingStore29=function(k){'use strict';var l=this.validateAction(k,'composerID');this.$ReactComposerLoggingStore38(l,c('PUWSteps').CLIENT_TRANSFER_MANUAL_RETRY);};j.prototype.$ReactComposerLoggingStore30=function(k){'use strict';var l=this.validateAction(k,['photoID','facebox']),m=l[0],n=l[1],o=n.bestRecognition,p=null;if(o)p=o.subjectID;new (c('PhotoUploadFacerecWaterfallTypedLogger'))().setEvent(c('FacerecWaterfallEvent').RECOGNITION_RECEIVED_BY_CLIENT).setPhotoFbid(m).setFaceBoxID(n.id).setRecognizedUser(p).log();};j.prototype.$ReactComposerLoggingStore31=function(k){'use strict';var l=this.validateAction(k,['photos','facerecWaterfallEvent']),m=l[0],n=l[1];m.forEach(function(o){new (c('PhotoUploadFacerecWaterfallTypedLogger'))().setEvent(c('nullthrows')(n)).setPhotoFbid(o).log();});};j.prototype.$ReactComposerLoggingStore35=function(k,l){'use strict';if(!l)return false;var m=l===c('ReactComposerAttachmentType').MEDIA,n=c('ReactComposerSlideshowStore').isSlideshowSelected(k);return m&&n;};j.prototype.$ReactComposerLoggingStore39=function(k){'use strict';var l=c('ReactComposerAttachmentStore').getIsAttachmentSelected(k,c('ReactComposerAttachmentType').MEDIA),m=c('ReactComposerMediaUploadStore').getUploadsOfType(k,c('ReactComposerMediaUploadType').PHOTO);return l&&!!m.size;};j.prototype.$ReactComposerLoggingStore41=function(k){'use strict';var l=c('ReactComposerAttachmentStore').getIsAttachmentSelected(k,c('ReactComposerAttachmentType').MEDIA);if(!l)return false;var m=c('ReactComposerMediaUploadStore').getUploadsOfType(k,c('ReactComposerMediaUploadType').PHOTO).size,n=c('ReactComposerMediaUploadStore').getUploadsOfType(k,c('ReactComposerMediaUploadType').VIDEO).size;return n>1||m>0&&n>0;};j.prototype.$ReactComposerLoggingStore42=function(k){'use strict';var l=c('ReactComposerScrapedAttachmentStore').getAttachmentConfig(k);return l!=null;};j.prototype.$ReactComposerLoggingStore43=function(k){'use strict';var l=c('ReactComposerAttachmentStore').getIsAttachmentSelected(k,c('ReactComposerAttachmentType').MEDIA);if(!l)return false;var m=c('ReactComposerMediaUploadStore').getUploadsOfType(k,c('ReactComposerMediaUploadType').VIDEO).size;if(m==1)return true;return c('ReactComposerVideoUploadStore').getVideo(k)!=null;};j.prototype.$ReactComposerLoggingStore40=function(k){'use strict';var l=c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').PEOPLE)||[],m=c('ReactComposerMediaUploadStore').getTotalNumberOfStickersOnPhotos(k);return {volume:c('ReactComposerPhotoStore').getPhotos(k).size,with_tag_count:l.length,sticker_count:m};};j.prototype.$ReactComposerLoggingStore44=function(k){'use strict';if(this.$ReactComposerLoggingStore41(k))return c('ComposerType').MULTIMEDIA;if(this.$ReactComposerLoggingStore39(k))return c('ComposerType').PHOTO;if(this.$ReactComposerLoggingStore42(k))return c('ComposerType').SHARE;if(this.$ReactComposerLoggingStore43(k))return c('ComposerType').VIDEO;return null;};j.prototype.$ReactComposerLoggingStore34=function(k,event){var l=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];'use strict';var m=this.getComposerData(k);if(m.uniqueEvents.has(event)){if(!!m.uniqueEvents.get(event))return;m.uniqueEvents=m.uniqueEvents.set(event,true);}l.extraData=Object.assign({is_markdown_enabled:!!c('ReactComposerTaggerStore').getTaggerData(k,c('ReactComposerTaggerType').MARKDOWN).isMarkdown},l.extraData);var n=this.$ReactComposerLoggingStore44(k);if(n)l.composerType=n;if(!c('ComposerXMarauderLogger').getInstance(k)){m.composerWaterfallQueue=m.composerWaterfallQueue.push({composerID:k,event:event,options:l});return;}c('ComposerXMarauderLogger').logEvent(event,k,l);};j.prototype.$ReactComposerLoggingStore37=function(k,event){var l=arguments.length<=2||arguments[2]===undefined?{}:arguments[2];'use strict';var m=this.getComposerData(k);if(m.uniqueEvents.has(event)){if(m.uniqueEvents.get(event))return;m.uniqueEvents=m.uniqueEvents.set(event,true);}if(!c('ReactComposerPerfLogger').getInstance(k)){m.composerPerfQueue=m.composerPerfQueue.push({composerID:k,event:event,options:l});return;}c('ReactComposerPerfLogger').logEvent(event,k,l);};j.prototype.$ReactComposerLoggingStore38=function(k,l,m,n,o){'use strict';var p=this.getComposerData(k);if(p.uniqueEvents.has(l)){if(!!p.uniqueEvents.get(l))return;p.uniqueEvents=p.uniqueEvents.set(l,true);}if(!this.getSessionID(k)){p.PUWQueue=p.PUWQueue.push({composerID:k,step:l,additionalData:m,options:n,callback:o});return;}this.logPUWStep(l,this.getSessionID(k),c('PUWApplications').WEB_REACT_COMPOSER,c('ReactComposerStore').getRef(k),m,n,o);};j.prototype.$ReactComposerLoggingStore36=function(k,l,m,n){'use strict';this.$ReactComposerLoggingStore34(k,l,{extraData:{photo_count:m?m:c('ReactComposerSelectedImagesStore').getNumberOfImages(k),placement:n?n:c('ReactComposerSlideshowStore').getPlacement(k)}});};j.prototype.$ReactComposerLoggingStore1=function(){'use strict';while(c('ReactComposerLoggingQueue').getLength()>0){var k=c('ReactComposerLoggingQueue').pop();this.handler(k);}};j.prototype.$ReactComposerLoggingStore2=function(k){'use strict';var l=this.getComposerData(k),m=l.composerWaterfallQueue;if(m.size===0)return;if(!c('ComposerXMarauderLogger').getInstance(k))return;m.forEach(function(n){return this.$ReactComposerLoggingStore34(n.composerID,n.event,n.options);}.bind(this));l.composerWaterfallQueue=m.clear();};j.prototype.$ReactComposerLoggingStore3=function(k){'use strict';var l=this.getComposerData(k),m=l.PUWQueue;if(m.size===0)return;if(!this.getSessionID(k))return;m.forEach(function(n){return this.$ReactComposerLoggingStore38(n.composerID,n.step,n.additionalData,n.options,n.callback);}.bind(this));l.PUWQueue=m.clear();};j.prototype.$ReactComposerLoggingStore4=function(k){'use strict';var l=this.getComposerData(k),m=l.composerPerfQueue;if(m.size===0)return;if(!c('ReactComposerPerfLogger').getInstance(k))return;m.forEach(function(n){return this.$ReactComposerLoggingStore37(n.composerID,n.event,n.options);}.bind(this));l.composerPerfQueue=m.clear();};f.exports=new j();},null);
__d('ReactComposerTopicFeedsTaggerActionType',['keyMirrorRecursive'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();f.exports=c('keyMirrorRecursive')({USER_ADD_TAG:null,USER_REMOVE_TAG:null,PREFILL_TAGS:null,SERVER_UPDATE_TAGS:null,SET_PHOTO_AUTO_TAGGING_DELAY:null,SET_PHOTO_POLLING_DURATION:null,SET_PHOTO_POLLING_INTERVAL:null,SET_TAGGER_MOUNTED:null,SET_TEXT_AUTO_TAGGING_DELAY:null,SET_RESHARE_URL:null,SET_DARK_LAUNCH:null,SET_TARGET_ID:null},'ReactComposerTopicFeedsTaggerActionType');},null);
__d('ReactComposerTopicFeedsTaggerActions',['ReactComposerTopicFeedsTaggerActionType','ReactComposerDispatcher'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();h.prototype.addTag=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,topicID:j,type:c('ReactComposerTopicFeedsTaggerActionType').USER_ADD_TAG});};h.prototype.removeTag=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,topicID:j,type:c('ReactComposerTopicFeedsTaggerActionType').USER_REMOVE_TAG});};h.prototype.setDarkLaunch=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,isDarkLaunch:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_DARK_LAUNCH});};h.prototype.setPhotoAutoTaggingDelay=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,delay:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_AUTO_TAGGING_DELAY});};h.prototype.setPhotoPollingDuration=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,duration:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_POLLING_DURATION});};h.prototype.setPhotoPollingInterval=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,interval:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_POLLING_INTERVAL});};h.prototype.setTaggerMounted=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,isMounted:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_TAGGER_MOUNTED});};h.prototype.setTextAutoTaggingDelay=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,delay:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_TEXT_AUTO_TAGGING_DELAY});};h.prototype.updateTags=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,topics:j,type:c('ReactComposerTopicFeedsTaggerActionType').SERVER_UPDATE_TAGS});};h.prototype.prefillTags=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,topicIDs:j,type:c('ReactComposerTopicFeedsTaggerActionType').PREFILL_TAGS});};h.prototype.setReshareURL=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,reshareURL:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_RESHARE_URL});};h.prototype.setTargetID=function(i,j){'use strict';c('ReactComposerDispatcher').dispatch({composerID:i,targetID:j,type:c('ReactComposerTopicFeedsTaggerActionType').SET_TARGET_ID});};function h(){'use strict';}f.exports=new h();},null);
__d("XFeedTopicClassifierController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/feed\/topic\/classifier\/",{message:{type:"String",defaultValue:""},place_tag_id:{type:"FBID"},photo_ids:{type:"FBIDVector"},captions:{type:"StringVector"},urls:{type:"StringVector"},session_id:{type:"String"},tagged_profile_ids:{type:"FBIDVector"},mention_ids:{type:"FBIDVector"},mentions:{type:"HackType"},minutiae_action_id:{type:"FBID"},minutiae_object_id:{type:"FBID"},minutiae_object_string:{type:"String"},target_ent_id:{type:"FBID"},topics:{type:"HackType"},use_new_form:{type:"Bool",defaultValue:false}});},null);
__d('ReactComposerTopicFeedsAutoTaggingRequester',['AsyncRequest','ReactComposerLoggingStore','ReactComposerMediaUploadType','ReactComposerMediaUploadStore','ReactComposerStatusStore','ReactComposerTaggerStore','ReactComposerTaggerType','ReactComposerTopicFeedsTaggerActions','ReactComposerTopicFeedsTaggerStore','DraftEntity','EditorState','Map','TopicFeedsComposerTypedLogger','XFeedTopicClassifierController','URLMatcher','emptyFunction','uuid'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=5000;function i(){'use strict';this.$ReactComposerTopicFeedsAutoTaggingRequester1=new (c('Map'))();this.$ReactComposerTopicFeedsAutoTaggingRequester2=new (c('Map'))();this.$ReactComposerTopicFeedsAutoTaggingRequester3=new (c('Map'))();this.$ReactComposerTopicFeedsAutoTaggingRequester4=Date.now();}i.prototype.sendThrottledRequest=function(j,k){'use strict';if(this.$ReactComposerTopicFeedsAutoTaggingRequester1.has(j))return;this.$ReactComposerTopicFeedsAutoTaggingRequester1.set(j,setTimeout(function(){this.sendImmediateRequest(j);this.$ReactComposerTopicFeedsAutoTaggingRequester1['delete'](j);}.bind(this),k||h));};i.prototype.sendPhotoPollingRequest=function(j,k,l){'use strict';this.$ReactComposerTopicFeedsAutoTaggingRequester5(j);var m=[];for(var n=l;n<=k;n+=l)m.push(setTimeout(function(){return this.sendImmediateRequest(j);}.bind(this),n));this.$ReactComposerTopicFeedsAutoTaggingRequester2.set(j,m);};i.prototype.$ReactComposerTopicFeedsAutoTaggingRequester5=function(j){'use strict';var k=this.$ReactComposerTopicFeedsAutoTaggingRequester2.get(j);if(k){k.forEach(function(l){clearTimeout(l);});this.$ReactComposerTopicFeedsAutoTaggingRequester2['delete'](j);}};i.prototype.sendImmediateRequest=function(j){'use strict';var k=c('ReactComposerStatusStore').getMessageText(j),l=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').LOCATION),m=l.place&&l.place.getUniqueID(),n=l.implicitLocation&&l.implicitLocation.citypageid,o=c('ReactComposerMediaUploadStore').getUploadsOfType(j,c('ReactComposerMediaUploadType').PHOTO).map(function(da){return da.photoID;}).toArray().filter(function(da){return da;}),p=null,q=c('ReactComposerTopicFeedsTaggerStore').getReshareURL(j);if(!q)q=c('URLMatcher').match(k);if(q)p=[q];var r=this.$ReactComposerTopicFeedsAutoTaggingRequester6(c('ReactComposerStatusStore').getEditorState(j)),s=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').PEOPLE)||[],t=s.map(function(da){return da.getUniqueID();}),u=c('ReactComposerTaggerStore').getTaggerData(j,c('ReactComposerTaggerType').ACTIVITY),v=null,w=null,x=null;if(u&&u.action&&u.object){v=u.action.getUniqueID();if(isNaN(u.object.getUniqueID())){x=u.object.getUniqueID();}else w=u.object.getUniqueID();}var y=c('ReactComposerTopicFeedsTaggerStore').getNextPredictionSequenceNumber(j),z=c('ReactComposerTopicFeedsTaggerStore').getTargetID(j),aa=c('uuid')(),ba=Date.now(),ca=c('XFeedTopicClassifierController').getURIBuilder().setString('message',k).setFBID('place_tag_id',m||n).setFBIDVector('photo_ids',o).setHackType('mentions',r).setFBIDVector('tagged_profile_ids',t).setStringVector('urls',p).setString('session_id',c('ReactComposerLoggingStore').getSessionID(j)).setFBID('minutiae_action_id',v).setFBID('minutiae_object_id',w).setString('minutiae_object_string',x).setFBID('target_ent_id',z).setHackType('topics',c('ReactComposerTopicFeedsTaggerStore').getComposerData(j).topicsInfoList.toArray()).getURI();new (c('AsyncRequest'))(ca).setHandler(function(da){return this.$ReactComposerTopicFeedsAutoTaggingRequester7(da,j,aa,ba,y);}.bind(this)).send();new (c('TopicFeedsComposerTypedLogger'))().setEvent('topic_feeds_composer_predict_start').setComposerID(c('ReactComposerLoggingStore').getSessionID(j)).setClassifySessionID(aa).setLinkAttachmentCount(p?p.length:0).setPhotoAttachmentCount(o?o.length:0).setSequenceNumber(y).setClientEventTimeMs(Date.now()).log();};i.prototype.clearAllPendingRequests=function(j){'use strict';if(!this.$ReactComposerTopicFeedsAutoTaggingRequester1.has(j))return;clearTimeout(this.$ReactComposerTopicFeedsAutoTaggingRequester1.get(j));this.$ReactComposerTopicFeedsAutoTaggingRequester5(j);this.$ReactComposerTopicFeedsAutoTaggingRequester1['delete'](j);this.$ReactComposerTopicFeedsAutoTaggingRequester4=Date.now();};i.prototype.updatePostStatus=function(j,k){'use strict';this.$ReactComposerTopicFeedsAutoTaggingRequester3.set(j,k);};i.prototype.$ReactComposerTopicFeedsAutoTaggingRequester7=function(j,k,l,m,n){'use strict';if(!j||!j.payload){new (c('TopicFeedsComposerTypedLogger'))().setEvent('topic_feeds_composer_predict_finish').setComposerID(c('ReactComposerLoggingStore').getSessionID(k)).setClassifySessionID(l).setPredictionDuration(Date.now()-m).setPredictionIsSuccessful(false).setPredictionErrorReason(j?'No data':'No payload').setSequenceNumber(n).setClientEventTimeMs(Date.now()).setIsPredictionApplied(false).log();return;}var o=null,p=true;if(this.$ReactComposerTopicFeedsAutoTaggingRequester3.get(k)){p=false;o='This post has already been submitted.';}else if(m<this.$ReactComposerTopicFeedsAutoTaggingRequester4){p=false;o='Classify start time < Last Request Timestamp';}new (c('TopicFeedsComposerTypedLogger'))().setEvent('topic_feeds_composer_predict_finish').setComposerID(c('ReactComposerLoggingStore').getSessionID(k)).setClassifySessionID(l).setTopicsAutoTagged(j.payload.map(function(q){return q.feed_id;})).setPredictionDuration(Date.now()-m).setPredictionIsSuccessful(true).setPredictionCount(j.payload.length).setSequenceNumber(n).setClientEventTimeMs(Date.now()).setIsPredictionApplied(p).setPredictionErrorReason(o).log();if(p){this.$ReactComposerTopicFeedsAutoTaggingRequester4=m;c('ReactComposerTopicFeedsTaggerActions').updateTags(k,j.payload);}};i.prototype.$ReactComposerTopicFeedsAutoTaggingRequester6=function(j){'use strict';if(!j)return [];var k=j.getCurrentContent(),l=[];k.getBlockMap().forEach(function(m){m.findEntityRanges(c('emptyFunction').thatReturnsTrue,function(n,o){var p=m.getEntityAt(n);if(!p)return;var q=c('DraftEntity').get(p);if(q.getType()!=='MENTION')return;l.push({mention_id:q.getData().id,mention_type:q.getData().type,offset:n,length:o-n});});});return l;};f.exports=new i();},null);
__d('ReactComposerTopicFeedsTaggerStore',['invariant','ReactComposerActionTypes','ReactComposerDispatcher','ReactComposerMediaUploadActionType','ReactComposerMediaUploadStore','ReactComposerStatusActionType','ReactComposerStoreBase','ReactComposerTaggerActionType','ReactComposerTaggerType','ReactComposerTopicFeedsTaggerActionType','ReactComposerTopicFeedsAutoTaggingRequester','immutable','TopicFeedsConstant'],function a(b,c,d,e,f,g,h){var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('TopicFeedsConstant').DEFAULT_PHOTO_AUTO_TAGGING_DELAY,l=c('TopicFeedsConstant').DEFAULT_PHOTO_POLLING_DURATION,m=c('TopicFeedsConstant').DEFAULT_PHOTO_POLLING_INTERVAL,n=c('TopicFeedsConstant').DEFAULT_TEXT_AUTO_TAGGING_DELAY,o=c('TopicFeedsConstant').TOPIC_CONFIDENCE_USER_ADD,p=c('TopicFeedsConstant').TOPIC_CONFIDENCE_USER_REMOVE,q=c('TopicFeedsConstant').TOPIC_CONFIDENCE_BOOTSTRAP;i=babelHelpers.inherits(r,c('ReactComposerStoreBase'));j=i&&i.prototype;function r(){'use strict';var s=void 0;j.constructor.call(this,function(){return {autoTaggingEnabled:true,photoAutoTaggingDelay:k,photoPollingDuration:l,photoPollingInterval:m,reshareURL:null,sequenceCounter:0,topicsInfoList:c('immutable').List(),taggerEnabled:false,targetID:null,textAutoTaggingDelay:n};},function(t){if(!s)return;var u=s.validateAction(t,'composerID');if(!s.getIsTaggerEnabled(u)&&!s.$ReactComposerTopicFeedsTaggerStore1(t))return;switch(t.type){case c('ReactComposerTopicFeedsTaggerActionType').SET_TAGGER_MOUNTED:s.$ReactComposerTopicFeedsTaggerStore2(t);break;case c('ReactComposerTopicFeedsTaggerActionType').USER_ADD_TAG:s.$ReactComposerTopicFeedsTaggerStore3(t);break;case c('ReactComposerTopicFeedsTaggerActionType').USER_REMOVE_TAG:s.$ReactComposerTopicFeedsTaggerStore4(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SERVER_UPDATE_TAGS:s.$ReactComposerTopicFeedsTaggerStore5(t);break;case c('ReactComposerTopicFeedsTaggerActionType').PREFILL_TAGS:s.$ReactComposerTopicFeedsTaggerStore6(t);break;case c('ReactComposerStatusActionType').SET_EDITOR_STATE:s.$ReactComposerTopicFeedsTaggerStore7(t);break;case c('ReactComposerMediaUploadActionType').PHOTO_UPLOAD_DONE:c('ReactComposerDispatcher').waitFor([c('ReactComposerMediaUploadStore').getDispatchToken()]);s.$ReactComposerTopicFeedsTaggerStore8(t);break;case c('ReactComposerActionTypes').POST_STARTED:s.$ReactComposerTopicFeedsTaggerStore9(t);break;case c('ReactComposerActionTypes').POST_ERROR:s.$ReactComposerTopicFeedsTaggerStore10(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_TEXT_AUTO_TAGGING_DELAY:s.$ReactComposerTopicFeedsTaggerStore11(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_AUTO_TAGGING_DELAY:s.$ReactComposerTopicFeedsTaggerStore12(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_POLLING_DURATION:s.$ReactComposerTopicFeedsTaggerStore13(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_PHOTO_POLLING_INTERVAL:s.$ReactComposerTopicFeedsTaggerStore14(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_DARK_LAUNCH:s.$ReactComposerTopicFeedsTaggerStore15(t);break;case c('ReactComposerTaggerActionType').SET_TAGGER_DATA:s.$ReactComposerTopicFeedsTaggerStore16(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_RESHARE_URL:s.$ReactComposerTopicFeedsTaggerStore17(t);break;case c('ReactComposerTopicFeedsTaggerActionType').SET_TARGET_ID:s.$ReactComposerTopicFeedsTaggerStore18(t);break;}});s=this;}r.prototype.getUserAddedTopics=function(s){'use strict';return this.getComposerData(s).topicsInfoList.filter(function(t){return t.confidence===o;}).map(function(t){return t.feed_id;});};r.prototype.getUserRemovedTopics=function(s){'use strict';return this.getComposerData(s).topicsInfoList.filter(function(t){return t.confidence===p;}).map(function(t){return t.feed_id;});};r.prototype.getTaggedTopics=function(s){'use strict';return this.getComposerData(s).topicsInfoList.filter(function(t){return t.confidence>0;}).map(function(t){return t.feed_id;});};r.prototype.getIsTaggerEnabled=function(s){'use strict';return this.getComposerData(s).taggerEnabled;};r.prototype.getIsDarkLaunch=function(s){'use strict';return this.getComposerData(s).isDarkLaunch;};r.prototype.getReshareURL=function(s){'use strict';return this.getComposerData(s).reshareURL;};r.prototype.getTargetID=function(s){'use strict';return this.getComposerData(s).targetID;};r.prototype.getNextPredictionSequenceNumber=function(s){'use strict';return ++this.getComposerData(s).sequenceCounter;};r.prototype.$ReactComposerTopicFeedsTaggerStore1=function(s){'use strict';return (s.type===c('ReactComposerTopicFeedsTaggerActionType').SET_TAGGER_MOUNTED||s.type===c('ReactComposerTopicFeedsTaggerActionType').PREFILL_TAGS);};r.prototype.$ReactComposerTopicFeedsTaggerStore2=function(s){'use strict';var t=this.validateAction(s,['composerID','isMounted']),u=t[0],v=t[1],w=this.getComposerData(u);w.taggerEnabled=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore3=function(s){'use strict';var t=this.validateAction(s,['composerID','topicID']),u=t[0],v=t[1],w=this.getComposerData(u),x={feed_id:v,confidence:o,context:''},y=w.topicsInfoList.findIndex(function(aa){return aa.feed_id===v;});if(y>=0){var z=w.topicsInfoList.get(y);!(z.confidence===p)?h(0):void 0;x.context=z.context;w.topicsInfoList=w.topicsInfoList['delete'](y);}w.topicsInfoList=w.topicsInfoList.push(x);w.autoTaggingEnabled=false;c('ReactComposerTopicFeedsAutoTaggingRequester').clearAllPendingRequests(u);this.emitChange(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore4=function(s){'use strict';var t=this.validateAction(s,['composerID','topicID']),u=t[0],v=t[1],w=this.getComposerData(u),x=w.topicsInfoList.findIndex(function(z){return z.feed_id===v;});!(x>=0)?h(0):void 0;var y={feed_id:v,confidence:p,context:w.topicsInfoList.get(x).context};w.topicsInfoList=w.topicsInfoList['delete'](x);w.topicsInfoList=w.topicsInfoList.push(y);c('ReactComposerTopicFeedsAutoTaggingRequester').clearAllPendingRequests(u);c('ReactComposerTopicFeedsAutoTaggingRequester').sendImmediateRequest(u);w.autoTaggingEnabled=false;this.emitChange(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore5=function(s){'use strict';var t=this.validateAction(s,['composerID','topics']),u=t[0],v=t[1],w=this.getComposerData(u);if(w.autoTaggingEnabled){w.topicsInfoList=c('immutable').List(v);this.emitChange(u);}};r.prototype.$ReactComposerTopicFeedsTaggerStore6=function(s){'use strict';var t=this.validateAction(s,['composerID','topicIDs']),u=t[0],v=t[1],w=this.getComposerData(u);w.topicsInfoList=c('immutable').List(v.map(function(x){return {feed_id:x,confidence:q,context:''};}));this.emitChange(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore7=function(s){'use strict';var t=this.validateAction(s,['composerID','editorState']),u=t[0],v=t[1];if(this.getComposerData(u).autoTaggingEnabled&&v.getCurrentContent().getPlainText().length>0)c('ReactComposerTopicFeedsAutoTaggingRequester').sendThrottledRequest(u,this.getComposerData(u).textAutoTaggingDelay);};r.prototype.$ReactComposerTopicFeedsTaggerStore8=function(s){'use strict';var t=this.validateAction(s,'composerID');if(this.getComposerData(t).autoTaggingEnabled)c('ReactComposerTopicFeedsAutoTaggingRequester').sendPhotoPollingRequest(t,this.getComposerData(t).photoPollingDuration,this.getComposerData(t).photoPollingInterval);};r.prototype.$ReactComposerTopicFeedsTaggerStore9=function(s){'use strict';var t=this.validateAction(s,'composerID');c('ReactComposerTopicFeedsAutoTaggingRequester').clearAllPendingRequests(t);c('ReactComposerTopicFeedsAutoTaggingRequester').updatePostStatus(t,true);this.getComposerData(t).autoTaggingEnabled=false;};r.prototype.$ReactComposerTopicFeedsTaggerStore10=function(s){'use strict';var t=this.validateAction(s,'composerID');this.getComposerData(t).autoTaggingEnabled=true;c('ReactComposerTopicFeedsAutoTaggingRequester').updatePostStatus(t,false);};r.prototype.$ReactComposerTopicFeedsTaggerStore11=function(s){'use strict';var t=this.validateAction(s,['composerID','delay']),u=t[0],v=t[1];this.getComposerData(u).textAutoTaggingDelay=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore12=function(s){'use strict';var t=this.validateAction(s,['composerID','delay']),u=t[0],v=t[1];this.getComposerData(u).photoAutoTaggingDelay=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore13=function(s){'use strict';var t=this.validateAction(s,['composerID','duration']),u=t[0],v=t[1];this.getComposerData(u).photoPollingDuration=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore14=function(s){'use strict';var t=this.validateAction(s,['composerID','interval']),u=t[0],v=t[1];this.getComposerData(u).photoPollingInterval=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore16=function(s){'use strict';var t=this.validateAction(s,['composerID','taggerID','taggerData']),u=t[0],v=t[1],w=t[2];if(v===c('ReactComposerTaggerType').ACTIVITY&&w.object||v===c('ReactComposerTaggerType').PEOPLE&&w.length>0)c('ReactComposerTopicFeedsAutoTaggingRequester').sendImmediateRequest(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore15=function(s){'use strict';var t=this.validateAction(s,['composerID','isDarkLaunch']),u=t[0],v=t[1];this.getComposerData(u).isDarkLaunch=v;};r.prototype.$ReactComposerTopicFeedsTaggerStore17=function(s){'use strict';var t=this.validateAction(s,['composerID','reshareURL']),u=t[0],v=t[1];this.getComposerData(u).reshareURL=v;c('ReactComposerTopicFeedsAutoTaggingRequester').sendImmediateRequest(u);};r.prototype.$ReactComposerTopicFeedsTaggerStore18=function(s){'use strict';var t=this.validateAction(s,['composerID','targetID']),u=t[0],v=t[1];this.getComposerData(u).targetID=v;};f.exports=new r();},null);
__d('ReactComposerPrefillConfig',['ReactComposerAttachmentType','ReactComposerPhotoPrefillConfig','React','getOwnObjectValues'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=c('React').PropTypes;f.exports=h.shape({instantMediaSelector:h.shape({fileInputDOM:h.any}),mentionsInput:h.shape({textWithEntities:h.shape({text:h.string}),selection:h.object}),selectedAttachment:h.oneOf(c('getOwnObjectValues')(c('ReactComposerAttachmentType'))),shouldActivateSelectedAttachment:h.bool,taggersData:h.object,photosData:h.arrayOf(c('ReactComposerPhotoPrefillConfig')),attachmentPreviewData:h.shape({scrapedAttachment:h.shape({markup:h.object,attachmentConfig:h.object})}),donateConfig:h.shape({charityName:h.string,fundraiserCampaignId:h.string}),liveBroadcastData:h.shape({accessToken:h.string,streamURL:h.string}),topicFeedTags:h.arrayOf(h.string),multilingualData:h.shape({specifiedDialect:h.string,multilingualStatuses:h.arrayOf(h.shape({dialect:h.string,message:h.string}))})});},null);
__d('ReactComposerPrefillActions',['ReactComposerDispatcher','ReactComposerPrefillActionTypes','ReactComposerPrefillConfig','ReactComposerPrefillStore'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();c('ReactComposerPrefillStore');var h={setPrefillData:function(i,j){c('ReactComposerDispatcher').dispatch({composerID:i,type:c('ReactComposerPrefillActionTypes').SET_PREFILL_DATA,prefillConfig:j});}};f.exports=h;},null);
__d('ReactComposerStatusUtils',['Bootloader','ReactComposerAttachmentActions','ReactComposerAttachmentType','ReactComposerScrapedAttachmentActions','ReactComposerScrapedAttachmentStore','ReactComposerStatusStore','ReactComposerTaggerActions','ReactComposerTaggerStore','ReactComposerTaggerType','EditorState','PUWMethods','URLMatcher','URLScraper','uniqueID'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={scrapeLink:function(i,j,k,l,m){if(!c('ReactComposerScrapedAttachmentStore').isEnabled(i))return;if(c('ReactComposerScrapedAttachmentStore').getMarkup(i))return;var n=c('URLMatcher').permissiveMatch(k);if(n!==c('ReactComposerScrapedAttachmentStore').getPermissiveMatch(i)){c('ReactComposerScrapedAttachmentActions').setPermissiveMatch(i,n);var o=c('URLScraper').match(k)||n;if(o)c('ReactComposerScrapedAttachmentActions').scrapeAttachment(i,j,o,l,m);}},uploadPastedFile:function(i,j,k){j.uploadID=c('uniqueID')();j.filename='';k&&k.enqueueAsyncUploadRequest(i,[j],{},{},false);},uploadDroppedFiles:function(i,j,k){c('ReactComposerAttachmentActions').selectAttachment(i,c('ReactComposerAttachmentType').MEDIA,true);c('Bootloader').loadModules(["ReactComposerMediaUtils"],function(l){l.uploadPhotosOrVideo(i,j,k,true,c('PUWMethods').DRAGDROP,true);},'ReactComposerStatusUtils');},handleMarkdownPreview:function(i,j,k,l){if(!k)return;var m=k.action;if(!l)l=c('ReactComposerStatusStore').getEditorState(i);if(!l)return;var n=!!c('ReactComposerTaggerStore').getTaggerData(i,c('ReactComposerTaggerType').MARKDOWN).isMarkdown;if(n)m.updatePreview(i,j,l.getCurrentContent());}};f.exports=h;},null);
__d('MentionsInputUtility',['DraftEntity','createEditorStateWithEntities'],function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=new RegExp(/@\[(\d+):((\\\]|[^\]])+)\]/g),i=new RegExp(/@\[(\d+):(\d+):((\\\]|[^\]])+)\]/g),j=function(l){var m=l.replace(i,'@[$1:$3]'),n=[],o;while(o=h.exec(m)){var p=o[2].replace(/\\:/g,':').replace(/\\]/g,']').replace(/\n/g,''),q={uid:o[1],text:p,offset:o.index,length:p.length,weakreference:false,entity:{uid:o[1],weakreference:false}};n.push(q);m=m.substr(0,q.offset)+q.text+m.substr(q.offset+o[0].length);h.lastIndex=q.offset+q.length;}return {text:m,ranges:n};},k=function(l,m){var n=this.parseTextWithMentions(l),o=n.text,p=n.ranges;return c('createEditorStateWithEntities')({text:o,ranges:p,decorator:m,entityCreationFn:function(q){return c('DraftEntity').create('MENTION','IMMUTABLE',{id:q.uid,isWeak:q.weakreference});},splitIntoBlocks:true,allowUndo:true});};f.exports={createFromTextWithMentions:k,parseTextWithMentions:j};},null);
__d("XStickerPhotoEditorController",["XController"],function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/photos\/editor\/sticker_editor\/",{grid_id:{type:"String"},feedback_id:{type:"String"},target_type:{type:"Enum",required:true,enumType:1},photo_fbid:{type:"Int",required:true},latest_fbid:{type:"Int"},initial_tab:{type:"Enum",enumType:1}});},null);